(self.webpackChunk_ember_auto_import_=self.webpackChunk_ember_auto_import_||[]).push([[344],{6763:function(e,t,n){"use strict"
n.r(t),n.d(t,{KNOWN_CAMPAIGN_AND_AFFILIATE_QUERY_PARAMS:function(){return r},KNOWN_MARKETING_QUERY_PARAMS:function(){return a},METRICS_REGISTER_ENDPOINT:function(){return i},MUSIC_AFFILIATIONS_ENDPOINT:function(){return l},PROCESS_REDIRECT_URL_ENDPOINT:function(){return o},TV_AFFILIATIONS_ENDPOINT:function(){return s},default:function(){return p},handleCampaignAndAffiliateUrls:function(){return f}})
var r=["affC","adId","advp","at","ct","itsct","itscg","itscc","itcCt","its_qt","ls","partnerId","pt","qtkid","uo"],a=["mttn3pid","mttnagencyid","mttncc","mttnmyad","mttnmyadg","mttnmycmp","mttnmykw","mttnmypla","mttnmypub","mttnmysite","mttnpid","mttnrefid","mttnsiteid","mttnsub1","mttnsub2","mttnsub3","mttnsubad","mttnsubadgp","mttnsubcmp","mttnsubkw","mttnsubpid","mttnsubplmnt","mttnsubsite","gclid"],o="https://itunes.apple.com/WebObjects/MZStoreServices.woa/wa/processRedirectUrl",i="https://xp.apple.com/register",s="https://buy.tv.apple.com/account/v1/affiliation/association",l="https://buy.music.apple.com/account/v1/affiliation/association"
function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(t&&"object"===c(t))for(var n in t)t[n]&&e.setRequestHeader(n,t[n])}function d(e,t){return new Promise((function(n,r){e.onload=function(){e.status<200||e.status>=300?r({request:e}):n(e)},e.onerror=function(){r({request:e})},t?e.send(t):e.send()}))}function f(e,t){var n=t||{}
if(!function(e,t){var n=(e.indexOf("?")>-1?e.split("?")[1]:e).split("&"),r=t
if(r||(r=[]),e&&""!==e.trim())for(var a=0;a<n.length;a++){var o=n[a].split("="),i=o[0],s=o[1]
if(r.indexOf(i)>-1)return"at"!==i||!!s.match(/^[a-zA-Z0-9]+$/)}return!1}(e,r))return Promise.reject("No campaign or affiliate query params found")
var a,s=n.endpoint||o
return(a=new XMLHttpRequest,a.open("GET",i),a.withCredentials=!0,d(a)).then((function(){return function(e,t,n){var r;(r=n.customXhr?n.customXhr:"undefined"!=typeof itms?itms.makeStoreXMLHttpRequest():new XMLHttpRequest).open("POST",t),r.withCredentials=!0,u(r,{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),u(r,n.headers)
var a="url="+encodeURIComponent(e)
return n.ignoreMarketing&&(a+="&ignoreMarketing=true"),d(r,a).then((function(e){var t=e.response
if(200===e.status&&""!==t){var n=JSON.parse(t)
return n.setCookies&&n.setCookies.forEach((function(e){document.cookie=function(e){return Object.keys(e).reduce((function(t,n){return["name","value"].includes(n)?t:"".concat(t,";").concat(n,"=").concat(e[n])}),"".concat(e.name,"=").concat(e.value))}(e)})),n.redirectUrl}}))}(e,s,n)}))}var p=f},5758:function(e,t){var n,r,a,o
function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}o=function(e){"use strict"
function t(e){return(t="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{}
t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function u(e,t,n,r,a){return{path:e,expectsFullscreenLayout:t,expectsModalLayout:n,uniqueQueryParams:3<arguments.length&&void 0!==r?r:[],fragment:4<arguments.length&&void 0!==a?a:""}}function d(e,t){var n=1<arguments.length&&void 0!==t?t:"",r="undefined"!=typeof window&&window.location||{}
return e.replace("$<mediaDomain>",n||function(e){var t=e.match(L)
return t&&t[1]}(r.origin)).replace("$<protocol>",r.protocol)}function f(e){var t=e||""
return 0!==t.indexOf("/")&&(t="/".concat(t)),t.lastIndexOf("/")===t.length-1&&(t=t.slice(0,t.length-1)),t}function p(e,t){return{createIframe:function(r,o){if(!r)return null
var i=(1<arguments.length&&void 0!==o?o:{}).queryParams,l=void 0===i?{}:i,c=function(e){var t=f(_[e]||e)
return N[t]||null}(r),u=document.createElement("iframe")
l.isFullscreen&&!c.expectsFullscreenLayout||l.isModal&&c.expectsModalLayout
var p=t[O].store.value,m=t[I].store.value
return u.src=function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=n.product,o=void 0===r?"":r,i=n.queryParamInterceptor,l=n.queryParamsForEncoding,c=void 0===l?{}:l,u=n.queryParams,f=void 0===u?{}:u,p=o&&d($,o)||H,m=a(a(a({},function(e){var t=e.expectsFullscreenLayout,n=e.expectsModalLayout
return t&&n?{}:t?{isFullscreen:!0}:n?{isModal:!0}:{}}(e)),f),c),v=s(new Set([].concat(s(F),s(e.uniqueQueryParams),s(Object.keys(m))))).map((function(e){var t={key:e,value:c[e]?encodeURIComponent(m[e]):m[e]}
return i&&i(a({},t))||t})).filter((function(e){return e&&void 0!==e.value})).reduce((function(e,t,n){var r=0===n?"?":"&",a="".concat(t.key,"=").concat(t.value)
return"".concat(e).concat(r).concat(a)}),"")
return"".concat(p).concat(e.path).concat(v)}(c,a({queryParamInterceptor:t[A].store.value,queryParamsForEncoding:a(a({},p&&n({},O,p)),m&&n({},I,m)),queryParams:a(a({},l),{},{product:e})},!1)),u.setAttribute("data-is-cm-managed",""),u}}}function m(e){return[e[W],e[q],e[G]]}function v(e){return[B.includes(e),R.includes(e)]}function y(){return Array.prototype.slice.call(document.querySelectorAll("iframe[data-is-cm-managed]")).map((function(e){return e.contentWindow}))}function h(e,t){return{whoOverride:1<arguments.length&&void 0!==t?t:null,messageSendContext:e[C].store.value}}function g(e,t,r){var a,o=2<arguments.length&&void 0!==r?r:null
return n(a={},G,e),n(a,W,t),n(a,q,o),a}function b(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},a=r.messageSendContext,i=r.whoOverride,s=o(v(t),1)[0],l=i?Array.isArray(i)?i:[i]:function(e){switch(e){case x:return window.parent!==window?[window.parent]:[]
case V:var t=y()
return 0<t.length?[t[0]]:null
case E:return y()
case j:return[window]
default:return null}}(a)
if(l&&0!==l.length){var c=o(m(e),3)
c[0],c[1],c[2],l.forEach((function(t){var n=d(s?$:"$<protocol>//$<mediaDomain>.apple.com")
t.postMessage(e,n)}))}}function T(e,t){function n(e){var t=e.data,n=t[W],r=t[G]
return!(!n||!r)}function r(e){var t=e.data[W],n=p?z:Q
return Object.values(n).includes(t)||s(t)}function a(e){return p&&function(e){return U.test(e)}(e.origin)||y&&function(e){return L.test(e)}(e.origin)}var i=function(e,t){function n(e){return Object.values(Z).includes(e)}function r(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o]
var i=r[2]
a.push.apply(a,r),function(e,t,n){b(g(e,X),e,h(t,n))}(e,t,i)}var a=function(e,t){function n(){window.clearTimeout(a),a=null}function r(e){e.queue=[]}var a,o={queue:[],flush:function(){n(),o.queue.forEach((function(n){var r=n.eventName,a=n.data,o={whoOverride:n.whoOverride,messageSendContext:t[C].store.value}
b(g(e,r,a),e,o)})),r(o)},push:function(e,t,i){o.queue.push({eventName:e,data:t,whoOverride:i}),function(e){var t=0<arguments.length&&void 0!==e?e:function(){}
a=a||window.setTimeout((function(){t(),n()}),8e3)}((function(){r(o)}))}}
return o}(e,t),i=o(v(e),1)[0]
return{interceptMessageReceive:function(n){return i?function(e){var t=o(m(e.data),1)[0]
t!==Y&&t!==J||window.setTimeout((function(){a.flush()}),0)}(n):function(n){o(m(n.data),1)[0]===X&&function(e,t,n){b(g(e,J),e,h(t,void 0))}(e,t)}(n)},interceptMessageSend:function(){return i?r.apply(void 0,arguments):function(){}.apply(void 0,arguments)},isInternalMessage:n,shouldInterceptMessageSend:function(e){return i||n(e)},shouldInterceptMessageReceive:function(e){return n(e)}}}(e,t),s=i.isInternalMessage,l=i.shouldInterceptMessageSend,c=i.shouldInterceptMessageReceive,u=i.interceptMessageSend,d=i.interceptMessageReceive,f=o(v(e),2),p=f[0],y=f[1]
return{RECEIVE_EVENTS:p?z:Q,SEND_EVENTS:p?Q:z,send:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
var o=r[0],i=r[1],s=r[2]
l(o)?u.apply(void 0,r):b(g(e,o,i),e,h(t,s))},listen:function(){if("undefined"!=typeof window){var i=function(i){if(function(e){for(var t=[n,a,r],o=0,i=t.length;o<i;o++)if(!(0,t[o])(e))return!1
return!0}(i)){var s=o(m(i.data),3),l=s[0],u=s[1]
s[2],c(l)?d(i):t[k]&&t[k].store.value(l,u,e)}}
window.addEventListener("message",i),ee=i,p||t[C].store.value===D||b(g(e,p?K:Y),e,h(t))}},stopListening:function(){ee&&window.removeEventListener("message",ee)}}}function S(){function e(e){return N[f(e)]}return{MAXIMUM_PATH_LEVEL:function(){var e=Object.keys(N),t=0
return e.forEach((function(e){var n=e.split("/").filter((function(e){return!!e}))
n.length>t&&(t=n.length)})),t}(),ROUTE_NAME_TO_PATH:_,SUPPORTED_ROUTES:N,getCommerceRoute:e,isCommerceRoute:function(t){return!!e(t)}}}function w(e,n){Object.keys(n).forEach((function(r){var a=Object.getOwnPropertyDescriptor(e,r)
a&&!a.configurable||function(e,n){Object.defineProperty(e,n.name,{set:function(e){var r=n.allowedValues,a=n.defaultValue,o=n.isRequired,i=n.type
r&&0<r.length&&!r.includes(e)||o&&void 0===e||t(e)===i.toLowerCase()&&(n.store.value=e||a)},get:function(){return n.store.value}})}(e,n[r])}))}var P,O="devToken",k="onMessageReceived",I="productVersion",A="queryParamInterceptor",C="messageSendContext",E="allIframes",D="explicit",V="firstIframe",x="parentWindow",j="self",M=(n(P={},O,a(a({},{type:"",name:"",isRequired:!1,defaultValue:null,allowedValues:[],store:{value:void 0}}),{},{type:"String",name:O,defaultValue:""})),n(P,I,a(a({},{type:"",name:"",isRequired:!1,defaultValue:null,allowedValues:[],store:{value:void 0}}),{},{type:"String",name:I,defaultValue:function(){if("undefined"==typeof document||!document.querySelector)return""
var e=document.querySelector("meta[name=version]")
return e&&e.content||""}()})),n(P,k,a(a({},{type:"",name:"",isRequired:!1,defaultValue:null,allowedValues:[],store:{value:void 0}}),{},{type:"Function",name:k,defaultValue:function(){}})),n(P,A,a(a({},{type:"",name:"",isRequired:!1,defaultValue:null,allowedValues:[],store:{value:void 0}}),{},{type:"Function",name:A,defaultValue:function(){}})),n(P,C,a(a({},{type:"",name:"",isRequired:!1,defaultValue:null,allowedValues:[],store:{value:void 0}}),{},{type:"String",name:C,allowedValues:[E,D,V,x,j],defaultValue:D})),P),B=["music","tv","xyzw"],R=["commerce-app"],_={"age-verification":"/account/verification",authenticate:"/authenticate","carrier-linking":"/account/carrier-linking","content-restricted":"/content-restricted","create-account":"/account/create","device-link":"/device-link","edit-billing":"/account/edit-billing",gdpr:"/account/privacy","korea-age-verification":"/age-verification/landing",logout:"/logout","parental-controls":"/account/settings#parental-controls","plan-cancel":"/plan/cancel","plan-reactivate":"/plan/reactivate","plan-subscribe":"/plan/subscribe",privacy:"/account/privacy",redeem:"/redeem",settings:"/account/settings",subscribe:"/subscribe","subscribe-carrier":"/subscribe/carrier",terms:"/terms-agreement","verify-payment":"/verify-payment"},N={"/account/verification":u("/account/verification",!1,!0,["type"]),"/authenticate":u("/authenticate",!1,!0),"/account/carrier-linking":u("/account/carrier-linking",!1,!0),"/content-restricted":u("/content-restricted",!1,!0,["contentType"]),"/account/create":u("/account/create",!1,!0),"/device-link":u("/device-link",!1,!0,["code"]),"/account/edit-billing":u("/edit-billing",!1,!0),"/account/privacy":u("/account/privacy",!1,!0,[]),"/age-verification/landing":u("/age-verification/landing",!1,!0,["expirationDate"]),"/logout":u("/logout",!1,!0),"/account/settings#parental-controls":u("/account/settings",!0,!1,"#parental-controls"),"/plan/cancel":u("/plan/cancel",!1,!0,["id"]),"/plan/reactivate":u("/plan/reactivate",!1,!0,["id"]),"/plan/subscribe":u("/plan/subscribe",!1,!0,["id"]),"/redeem":u("/redeem",!1,!0,["code"]),"/account/settings":u("/account/settings",!0,!1),"/subscribe":u("/subscribe",!1,!0,["type"]),"/subscribe/carrier":u("/subscribe/carrier",!1,!0,["adamId","productId"]),"/terms-agreement":u("/terms-agreement",!1,!0,["type"]),"/verify-payment":u("/verify-payment",!1,!0,["verifyPaymentId","deviceCode"])},F=["product","isFullscreen","isModal","locale","iso2code"],L=/:\/\/(.*)\.apple\.com/,U=/:\/\/(.*)\.apple\.com/,H="/includes/commerce",$="$<protocol>//$<mediaDomain>.apple.com".concat(H),W="__cm_event",G="__cm_consuming-product",q="__cm_data",z=Object.freeze({AGE_VERIFICATION_FLOW_COMPLETE:"ageverificationflowcomplete",DID_AGE_VERIFY:"ageverified",DID_GDPR_ACKNOWLEDGE:"gdpracknowledged",DID_INITIALIZE:"initialized",DID_SIGN_IN:"signedin",DID_SIGN_OUT:"signedout",DID_CLOSE:"closed",DID_TRANSITION:"transitioned",SUBSCRIPTION_DID_CHANGE:"subscriptionchanged",REQUIRES_TRANSITION:"requirestransition",REQUIRES_CONTEXTUAL_UPSELL:"requirescontextualupselldata",REQUIRES_KOREA_AGE_VERIFICATION:"requireskoreaageverificationdata",SHOW_SPORTS_SCORE_CHANGE:"showsportsscoreschange"}),Q=Object.freeze({CONTEXTUAL_UPSELL:"contextualupselldata",KOREA_AGE_VERIFICATION:"koreaageverificationdata",MEDIA_DATA:"mediadata"}),K="__cm_initialized_host",Y="__cm_initialized_hosted",X="__cm_will_send_if_ready",J="__cm_ready_for_message",Z={__CM_INITIALIZED_HOST:K,__CM_INITIALIZED_HOSTED:Y,__CM_WILL_SEND_IF_READY:X,__CM_READY_FOR_MESSAGE:J},ee=null,te=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}
e.getCommerceManager=function(){return te},e.setupCommerceManager=function(e,t){var r=1<arguments.length&&void 0!==t?t:{},o="string"==typeof e&&e.toLowerCase(),i=B.includes(o),s=R.includes(o)
if(!i&&!s)throw new Error("Product not supported")
w(te,M),function(e,t){Object.keys(t).forEach((function(n){var r=t[n],a=r.isRequired,o=r.defaultValue
a||(e[n]=o)}))}(te,M),Object.assign(te,a({},r))
var l=function(e,t){return Object.keys(e).reduce((function(r,o){var i=e[o][t]
return void 0!==i?a(a({},r),{},n({},o,n({},t,i))):r}),{})}(M,"store"),c=p(e,l),u=T(e,l),d=S()
return r.onMessageReceived&&(u.stopListening(),u.listen()),Object.assign(te,a(a(a(a({},c),d),u),{},{version:"1.5.0",PRODUCT_PROVIDED_PROPS_METADATA:M}))},Object.defineProperty(e,"__esModule",{value:!0})},"object"==i(t)?o(t):(r=[t],void 0===(a="function"==typeof(n=o)?n.apply(t,r):n)||(e.exports=a))},1051:function(e,t){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof FastBoot?FastBoot.require("buffer").Buffer:"undefined"!=typeof process&&null!==process.versions&&null!==process.versions.node?Buffer:window.Buffer},6782:function(e,t,n){"use strict"
function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0})
var a=n(3798),o=function(){function e(t,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4e3
r(this,e),this.element=t,this.startCallback=n,this.stopCallback=o,this.interactionTimeoutDelay=i,this.setupTimeout=this.setupTimeout.bind(this),this.throttledSetupTimeout=a.throttled(1e3,this.setupTimeout)}var t
return(t=[{key:"begin",value:function(){this.setupTimeout(),this.setupListeners()}},{key:"end",value:function(){this.teardownListeners(),this.clearTimer()}},{key:"setupListeners",value:function(){this.teardownListeners(),this.element.addEventListener("mousemove",this.throttledSetupTimeout),this.element.addEventListener("focusin",this.throttledSetupTimeout)}},{key:"teardownListeners",value:function(){this.element.removeEventListener("mousemove",this.throttledSetupTimeout),this.element.removeEventListener("focusin",this.throttledSetupTimeout)}},{key:"setupTimeout",value:function(){var e=this
this.hasTimer()||this.startCallback(),this.clearTimer(),this.timer=setTimeout((function(){e.stopCallback(),e.timer=void 0}),this.interactionTimeoutDelay)}},{key:"clearTimer",value:function(){this.hasTimer()&&(clearTimeout(this.timer),this.timer=void 0)}},{key:"hasTimer",value:function(){return void 0!==this.timer}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()
t.default=o},1112:function(e,t){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.hasLocalStorage=t.getSessionStorage=t.hasSessionStorage=t.removeCookie=t.setCookie=t.getCookie=t.GenericStorage=void 0
var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
n(this,e),this.data=t}var t
return(t=[{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"length",get:function(){return this.keys.length}},{key:"keys",get:function(){return Object.keys(this.data)}},{key:"getItem",value:function(e){return this.data[e]||null}},{key:"setItem",value:function(e,t){this.data[e]=t}},{key:"removeItem",value:function(e){delete this.data[e]}},{key:"clear",value:function(){var e=this
this.keys.forEach((function(t){return e.removeItem(t)}))}},{key:"key",value:function(e){return this.keys[e]||null}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()
function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:14,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=new Date
a=null!=a?a:window
var s=(o=null!=o?o:/\./.test(a.location.hostname)?a.location.hostname:"").length>0?"domain=".concat(o,"; "):""
i.setTime(i.getTime()+24*r*60*60*1e3)
var l=""
"https:"===a.location.protocol&&(l="; secure"),a.document.cookie="".concat(e,"=").concat(t,"; expires=").concat(i.toUTCString(),"; ").concat(s,"path=").concat(n).concat(l)}function o(){var e=!1
try{e="undefined"!=typeof sessionStorage}catch(e){}return e}function i(){var e=!1
try{e="undefined"!=typeof localStorage}catch(e){}return e}t.GenericStorage=r,t.getCookie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.cookie,n=t.match(new RegExp("(?:^|;\\s*)".concat(e,"=([^;]*)")))
if(n)return n[1]},t.setCookie=a,t.removeCookie=function(e,t,n){a(e,"","/",0,t,n)},t.hasSessionStorage=o,t.getSessionStorage=function(){var e
return o()&&(e=sessionStorage),e},t.hasLocalStorage=i,t.getLocalStorage=function(){var e
return i()&&(e=localStorage),e}},8317:function(e,t){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=void 0,t.memoize=function(e){return function(){for(var t="",n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
var o=r.length
for(e._memoized=e._memoized||{};o--;){var i=r[o]
t+=i===Object(i)?JSON.stringify(i):i}return t in e._memoized?e._memoized[t]:e._memoized[t]=e.apply(void 0,r)}}},3798:function(e,t,n){"use strict"
function r(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}}
Object.defineProperty(t,"__esModule",{value:!0}),t.parseNumber=t.arrayEquals=t.exceptFields=t.debounce=t.throttled=t.getArtworkFromURL=t.btoa=t.atob=t.isNodeEnvironment=t.isAdamId=t.isLibraryType=t.generateUUID=t.isObject=void 0
var i=o(n(1051)),s=n(8317)
function l(){return Math.random().toString(16).substring(2)}function c(e){var t=function(e){return null!=e}
return 0===arguments.length&&"undefined"!=typeof process&&(e=process),t(e)&&t(e.versions)&&t(e.versions.node)||"undefined"!=typeof FastBoot}t.isObject=function(e){return!!e&&"object"===a(e)&&!Array.isArray(e)},t.generateUUID=function(){for(var e=l()+l();e.length<16;)e+=l()
return e.slice(0,16)},t.isLibraryType=s.memoize((function(e){return/^[a|i|l|p]{1}\.[a-zA-Z0-9]+$/.test(e)})),t.isAdamId=s.memoize((function(e){return/^(a\.)?[a-zA-Z0-9]+$/.test(e)})),t.isNodeEnvironment=c,t.atob=s.memoize(c()?function(e){return i.default.from(e,"base64").toString("binary")}:function(e){return window.atob(e)}),t.btoa=s.memoize(c()?function(e){return i.default.from(e).toString("base64")}:function(e){return window.btoa(e)}),t.getArtworkFromURL=function(e){var t,n=e.split("/").pop(),a=(2,function(e){if(Array.isArray(e))return e}(t=!!n&&n.match(/\d+/g)||["100","100"])||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),2!==n.length);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(t)||function(e,t){if(e){if("string"==typeof e)return r(e,2)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1]
return{width:parseInt(o,10),height:parseInt(i,10),url:e.replace("".concat(o,"x").concat(i),"{w}x{h}")}},t.throttled=function(e,t){var n=0
return function(){var r=Date.now()
if(!(r-n<e)){n=r
for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i]
return t.apply(this,o)}}},t.debounce=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isImmediate:!1}
return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i]
var s=this,l=function(){t=void 0,r.isImmediate||e.apply(s,o)},c=r.isImmediate&&void 0===t
void 0!==t&&clearTimeout(t),t=setTimeout(l,n),c&&e.apply(s,o)}},t.exceptFields=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
var a={}
return Object.keys(e).forEach((function(t){n.includes(t)||(a[t]=e[t])})),a},t.arrayEquals=function(e,t){return!!e&&!!t&&[].every.call(e,(function(e,n){return e===t[n]}))},t.parseNumber=function(e){var t=Number(e)
if(Number.isFinite(t))return t}},7231:function(e,t){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.PATH_TEMPLATE_REGEX=t.UTS_HEADER_UTSK_EXPIRED=t.UTS_CONFIG_PATH=t.CACHE_SIZE=void 0,t.CACHE_SIZE=50,t.UTS_CONFIG_PATH="/uts/v3/configurations",t.UTS_HEADER_UTSK_EXPIRED="x-apple-utsk-expired",t.PATH_TEMPLATE_REGEX=/\{([\w-]+)}/g},3048:function(e,t,n){"use strict"
var r=["data"]
function a(e,t){if(null==e)return{}
var n,r,a=function(e,t){if(null==e)return{}
var n,r,a={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n])
return a}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function s(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments
return new Promise((function(r,a){var o=e.apply(t,n)
function i(e){s(o,r,a,i,l,"next",e)}function l(e){s(o,r,a,i,l,"throw",e)}i(void 0)}))}}function c(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}}
Object.defineProperty(t,"__esModule",{value:!0}),t.UtsClientLib=void 0
var m=p(n(1018)),v=n(7231),y=n(9279),h=n(8968),g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.CACHE_SIZE
f(this,e),this.deps=u({log:function(){}},t),this.cache=(new m.default).setLimit(n),this.cacheProps=new WeakMap,this.configureGate=new y.PromiseGate,this.session=new h.Session(this.deps)}var t,n,i,s,c,d,p,g,b,T,S,w,P,O,k,I,A
return t=e,n=[{key:"configuration",get:function(){return this.session.configuration}},{key:"configure",value:(A=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.configureGate.isPending=!0,this.configureParams=t,e.abrupt("return",this.session.initialize(t).then(this.configureGate.resolve))
case 3:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"reconfigure",value:(I=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.configureGate.isPending||(this.configureGate=new y.PromiseGate,this.cache.clear(),this.configure(u(u({},this.configureParams),t))),e.abrupt("return",this.configureGate.promise)
case 2:case"end":return e.stop()}}),e,this)}))),function(e){return I.apply(this,arguments)})},{key:"isReady",value:(k=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.configureGate.promise)
case 1:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"get",value:(O=l(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,n,u(u({},r),{},{method:"GET"})))
case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return O.apply(this,arguments)})},{key:"patch",value:(P=l(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,n,u(u({},r),{},{method:"PATCH"})))
case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return P.apply(this,arguments)})},{key:"post",value:(w=l(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,n,u(u({},r),{},{method:"POST"})))
case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return w.apply(this,arguments)})},{key:"delete",value:(S=l(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,n,u(u({},r),{},{method:"DELETE"})))
case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return S.apply(this,arguments)})},{key:"requestFromOrigin",value:(T=l(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,n,r,!0))
case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return T.apply(this,arguments)})},{key:"refresh",value:(b=l(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,s,l,c
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.session.createApiRequest(t,n),o=a.cacheKey,(i=this.cache.get(o))&&(this.deps.log('evict "'.concat(o,'" for refresh')),this.cache.delete(o)),e.next=5,this.get(t,n,r)
case 5:if(!i){e.next=9
break}return c=(null===(s=i.canvas)||void 0===s||null===(l=s.shelves)||void 0===l?void 0:l.length)||0,e.next=9,this.getMoreShelvesForRefresh(o,c,t,n,r)
case 9:return e.abrupt("return",this.cache.get(o))
case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return b.apply(this,arguments)})},{key:"getMoreShelves",value:(g=l(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,s,l
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.session.isExpired()){e.next=3
break}return e.next=3,this.reconfigure()
case 3:return a=this.session.createApiRequest(t,n,u({method:"GET"},r)),o=a.cacheKey,i=a.request,e.next=6,this.session.fetch(i)
case 6:return s=e.sent,e.next=9,this.getResponseData(s)
case 9:return l=e.sent,this.appendShelves(o,l),e.abrupt("return",l)
case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return g.apply(this,arguments)})},{key:"getMoreShelfItems",value:(p=l(regeneratorRuntime.mark((function e(t,n,r,a){var i,s,l,c,d,f
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.session.isExpired()){e.next=3
break}return e.next=3,this.reconfigure()
case 3:return i=this.session.createApiRequest(t,n,u({method:"GET"},a)),s=i.request,e.next=6,this.session.fetch(s)
case 6:return l=e.sent,e.next=9,this.getResponseData(l)
case 9:return c=e.sent,d=c.shelf,f=u(u({},d),{},{items:[].concat(o(r.items),o(d.items))}),this.updateShelf(r,f),e.abrupt("return",c)
case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return p.apply(this,arguments)})},{key:"refreshShelf",value:(d=l(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,s
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.addUtsVersionHeader(r,a),e.next=3,this.refresh(t,n,o)
case 3:return i=e.sent,s=i.shelf,this.updateShelf(r,s),e.abrupt("return",s)
case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return d.apply(this,arguments)})},{key:"exportCache",value:function(){return this.deps.log("export cache",o(this.cache.keys())),Object.fromEntries(this.cache.entries())}},{key:"importCache",value:function(e){var t=this
this.deps.log("import cache",Object.keys(e||{})),this.cache=new m.default(Object.entries(e||{})),this.cache.forEach((function(e,n){return t.recordCacheProps(e,n)}))}},{key:"request",value:(c=l(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,s,l,c,u,d,f,p,m,y
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.deps.log,l=(null==r||null===(o=r.method)||void 0===o||null===(i=o.toUpperCase)||void 0===i?void 0:i.call(o))||"GET",c="GET"===l&&!a,e.next=5,this.isReady()
case 5:if(!this.session.isExpired()){e.next=9
break}return s("reconfigure for session expiration"),e.next=9,this.reconfigure()
case 9:if(u=this.session.createApiRequest(t,n,r),d=u.cacheKey,f=u.request,!c||!this.cache.has(d)){e.next=19
break}if(p=this.cache.get(d),!this.isExpired(p)){e.next=17
break}s('expire "'.concat(d,'" from cache')),this.cache.delete(d),e.next=19
break
case 17:return s('return "'.concat(d,'" from cache')),e.abrupt("return",p)
case 19:return s("".concat(l,' "').concat(d,'" from origin')),e.next=22,this.session.fetch(f)
case 22:if(!(m=e.sent).headers.has(v.UTS_HEADER_UTSK_EXPIRED)){e.next=28
break}return s('reconfigure for "'.concat(v.UTS_HEADER_UTSK_EXPIRED,'"')),e.next=27,this.reconfigure()
case 27:return e.abrupt("return",this.request(t,n,r,a))
case 28:return e.next=30,this.getResponseData(m)
case 30:return y=e.sent,c&&(this.cache.set(d,y),this.recordCacheProps(y,d)),e.abrupt("return",y)
case 33:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return c.apply(this,arguments)})},{key:"getResponseData",value:(s=l(regeneratorRuntime.mark((function e(t){var n,o,i
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json()
case 2:return n=e.sent,o=n.data,i=a(n,r),e.abrupt("return",u(u({},i),o))
case 6:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"isExpired",value:function(e){var t,n=(null==e||null===(t=e.canvas)||void 0===t?void 0:t.cachingPolicy)||{},r=n.cache,a=n.maxAge,o=(this.cacheProps.get(e)||{}).cachedTime
return!0===r&&"number"==typeof a&&"number"==typeof o&&Date.now()>o+1e3*a}},{key:"recordCacheProps",value:function(e,t){var n,r,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),i={cacheKey:t,cachedTime:o}
this.cacheProps.set(e,i),null===(n=e.canvas)||void 0===n||null===(r=n.shelves)||void 0===r||r.forEach((function(e){return a.cacheProps.set(e,i)}))}},{key:"appendShelves",value:function(e,t){var n,r,a=this,i=this.cache.get(e)
if(null!=i&&null!==(n=i.canvas)&&void 0!==n&&n.shelves&&null!=t&&null!==(r=t.canvas)&&void 0!==r&&r.shelves){var s,l=t.canvas,c=l.shelves,u=l.nextToken;(s=i.canvas.shelves).push.apply(s,o(c)),i.canvas.nextToken=u,null==c||c.forEach((function(t){return a.recordCacheProps(t,e)})),this.deps.log('append "'.concat(e,'" ').concat(null==c?void 0:c.length," shelves, nextToken: ").concat(null!=u?u:""))}}},{key:"getMoreShelvesForRefresh",value:(i=l(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,s,l,c,d,f
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=this.cache.get(t),c=(null==l?void 0:l.canvas)||{},d=c.nextToken,f=(null==l||null===(i=l.canvas)||void 0===i||null===(s=i.shelves)||void 0===s?void 0:s.length)||0,d&&!(f>=n)){e.next=5
break}return e.abrupt("return")
case 5:return e.next=7,this.getMoreShelves(r,u(u({},a),{},{nextToken:d}),o)
case 7:return e.next=9,this.getMoreShelvesForRefresh(t,n,r,a,o)
case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,a){return i.apply(this,arguments)})},{key:"addUtsVersionHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(null==e?void 0:e.cachingPolicy)||{},r=n.version
if(!r)return t
var a=this.deps.Headers
return t.headers=new a(t.headers),t.headers.set("If-None-Match",r),t}},{key:"updateShelf",value:function(e,t){var n,r=(this.cacheProps.get(e)||{}).cacheKey,a=this.cache.get(r)
if(null!=a&&null!==(n=a.canvas)&&void 0!==n&&n.shelves&&r&&t)for(var o in a.canvas.shelves)if(a.canvas.shelves[o]===e){a.canvas.shelves[o]=t,this.recordCacheProps(t,r)
break}}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}()
t.UtsClientLib=g,t.default=g},8968:function(e,t,n){"use strict"
var r=["baseUrl","developerToken","userToken","fetchParams"],a=["data"]
function o(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{}
var n,r,a=function(e,t){if(null==e)return{}
var n,r,a={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n])
return a}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments
return new Promise((function(r,a){var o=e.apply(t,n)
function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0
var d=n(7231),f=n(1943),p=n(1779),m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deps=t,this.apiRequest=new f.ApiRequest(t)}var t,n,o,s
return t=e,n=[{key:"initialize",value:(s=u(regeneratorRuntime.mark((function e(t){var n,o,s,c,u,f,p,m,v,y,h,g
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.baseUrl,o=t.developerToken,s=t.userToken,c=t.fetchParams,u=l(t,r),f=n.replace(/\/uts\/?$/,""),this.apiRequest.setCommonParams(f,o,s),p=this.getConfigApiParams(u),m=this.apiRequest.create(d.UTS_CONFIG_PATH,p,i(i({},c),{},{method:"POST"})),v=m.request,e.next=7,this.fetch(v).then((function(e){return e.json()}))
case 7:y=e.sent,h=y.data,g=l(y,a),this.configuration=Object.freeze(i(i({},g),h)),this.configuredTime=Date.now()
case 12:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"createApiRequest",value:function(e,t,n){var r=this.getEndpoint(e)||{},a=r.path,o=r.requiredParamsType,s=o&&this.getRequiredParams(o)
if(!a||!s)throw new Error('Route data missing for "'.concat(e,'".'))
var l=i(i({},s),t)
return this.apiRequest.create(a,l,n)}},{key:"fetch",value:(o=u(regeneratorRuntime.mark((function e(t){var n,r
return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.deps.fetch,e.next=3,n(t)
case 3:if((r=e.sent).ok){e.next=6
break}throw new p.HttpError(r)
case 6:return e.abrupt("return",r)
case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"isExpired",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),r=1e3*(null===(e=this.configuration)||void 0===e||null===(t=e.utskProps)||void 0===t?void 0:t.expirationInSeconds),a=this.configuredTime+r
return!!a&&n>a}},{key:"getEndpoint",value:function(e){var t,n,r
return null===(t=this.configuration)||void 0===t||null===(n=t.applicationProps)||void 0===n||null===(r=n.routes)||void 0===r?void 0:r[e]}},{key:"getConfigApiParams",value:function(e){var t=e.caller,n=e.locale,r=e.pfm,a=e.sfh,o=e.v
if(!(t&&n&&r&&a&&o))throw new Error("Missing required UTS configuration params.")
return{caller:t,locale:n,pfm:r,sfh:a,v:o}}},{key:"getRequiredParams",value:function(e){var t
return null===(t=this.configuration)||void 0===t?void 0:t.applicationProps.requiredParamsMap[e]}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}()
t.Session=m},1943:function(e,t,n){"use strict"
var r=["_cacheKeyIds"],a=["body","headers","useRawBody"]
function o(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function c(e,t){if(null==e)return{}
var n,r,a=function(e,t){if(null==e)return{}
var n,r,a={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n])
return a}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.ApiRequest=void 0
var u=n(7304),d=n(1660),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deps=t}var t
return t=[{key:"setCommonParams",value:function(e,t,n){this.baseUrl=e,this.tokenHeaders=this.getTokenHeaders(t,n)}},{key:"create",value:function(e,t,n){var a,o=t._cacheKeyIds,i=c(t,r),s=this.deps,f=s.Request,p=s.URL,m=s.URLSearchParams,v=(2,function(e){if(Array.isArray(e))return e}(a=(0,u.renderPath)(e,i))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),2!==n.length);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(a)||function(e,t){if(e){if("string"==typeof e)return l(e,2)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=v[0],h=v[1],g=new m((0,d.filterObject)(i,h))
g.sort()
var b=new p("".concat(this.baseUrl).concat(y))
return b.search=g.toString(),{cacheKey:this.getCacheKey(y,g,o),request:new f(b.toString(),this.getRequestInit(n))}}},{key:"getTokenHeaders",value:function(e,t){if(!e)throw new Error("Missing required token.")
var n=new(0,this.deps.Headers)({Authorization:"Bearer ".concat(e)})
return t&&n.set("Media-User-Token",t),n}},{key:"getCacheKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.deps.URLSearchParams
function a(e,n){return t.has(n)&&e.set(n,t.get(n)),e}var o=n.reduce(a,new r)
return o.sort(),"".concat(e).concat(n.length?"?":"").concat(o.toString())}},{key:"getRequestInit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.deps.Headers,n=e.body,r=e.headers,o=e.useRawBody,s=c(e,a),l=i({headers:new t(this.tokenHeaders)},s)
return r&&new t(r).forEach((function(e,t){return l.headers.set(t,e)})),n&&(o?l.body=n:(l.body=JSON.stringify(n),l.headers.set("Content-Type","application/json"))),l}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()
t.ApiRequest=f},1660:function(e,t){"use strict"
function n(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}Object.defineProperty(t,"__esModule",{value:!0}),t.filterObject=void 0,t.filterObject=function(e,t){return Object.entries(e).reduce((function(e,r){var a,o=(2,function(e){if(Array.isArray(e))return e}(a=r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),2!==n.length);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(a)||function(e,t){if(e){if("string"==typeof e)return n(e,2)
var r=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,2):void 0}}(a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],s=o[1]
return null!=t&&t.has(i)||null==s||(e[i]=s),e}),{})}},1779:function(e,t){"use strict"
function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}(e):t}function a(e){var t="function"==typeof Map?new Map:void 0
return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e
var n
if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function")
if(void 0!==t){if(t.has(e))return t.get(e)
t.set(e,r)}function r(){return o(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},a(e)}function o(e,t,n){return o=i()?Reflect.construct:function(e,t,n){var r=[null]
r.push.apply(r,t)
var a=new(Function.bind.apply(e,r))
return n&&s(a,n.prototype),a},o.apply(null,arguments)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.HttpError=void 0
var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e)
var t,n,a=(t=o,n=i(),function(){var e,a=l(t)
if(n){var o=l(this).constructor
e=Reflect.construct(a,arguments,o)}else e=a.apply(this,arguments)
return r(this,e)})
function o(e){var t,n=e.status,r=e.statusText
return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,"HTTP Error ".concat(n,": ").concat(r))).status=n,t.statusText=r,t}return o}(a(Error))
t.HttpError=c},9279:function(e,t){"use strict"
function n(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseGate=void 0
var r=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}((function e(){var t=this
!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),this.isPending=!1,this.promise.finally((function(){return t.isPending=!1}))}))
t.PromiseGate=r},7304:function(e,t,n){"use strict"
function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.renderPath=void 0
var a=n(7231)
t.renderPath=function(e,t){if("string"!=typeof e)throw new Error("Missing path.")
if(!t||"object"!==r(t))return[e,t]
var n=new Set
return[e.replace(a.PATH_TEMPLATE_REGEX,(function(e,r){return t[r]?(n.add(r),t[r]):e})),n]}},7375:function(e,t,n){"use strict"
n.r(t),n.d(t,{SubscriptionOfferInterface:function(){return Ma},UTSTypes:function(){return B},VDSActionType:function(){return a},VDSBrowseOfferInterface:function(){return Ei},VDSCanonicalBannerMetadataInterface:function(){return Ti},VDSCanonicalOfferInterface:function(){return ai},VDSCollectionType:function(){return l},VDSConfiguration:function(){return pe},VDSDownloadOfferDataInterface:function(){return si},VDSDownloadOfferTriggerSource:function(){return ri},VDSImageStyle:function(){return s},VDSInjectedConfiguration:function(){return me},VDSPageType:function(){return i},VDSPlayOfferDataInterface:function(){return cn},VDSPlayOfferTriggerSource:function(){return tn},VDSPlayOfferTriggerSourceMetricsMap:function(){return ln},VDSPlaybackSourceRef:function(){return f},VDSPlaybackType:function(){return p},VDSResourceName:function(){return u},VDSSharedWatchProhibitedReason:function(){return d},VDSStringRepresentableItemKind:function(){return c},VDSSubscriptionTriggerSource:function(){return pa},VDSSubscriptionTriggerSourceMetricsMap:function(){return ja},VDSSubscriptionUIContext:function(){return xa},VDSURLQueryParameterNames:function(){return et},VDSVideoMediaType:function(){return r},VDSViewType:function(){return o},getDynamicVDSConfiguration:function(){return ve},getEpisodeLockupSupplementaryMetadata:function(){return di},getItunesExtrasParams:function(){return hr},getItunesPlayable:function(){return yr},getMovieBundleOffersPageV3:function(){return Za},getQueryParameters:function(){return st},isAppleMusicChannel:function(){return _a},isExtendedOffer:function(){return Fa},isHardBundleOffer:function(){return Na},isUpgradeOffer:function(){return Ba},isUpgradeType:function(){return Ra}})
var r,a,o,i,s,l,c,u,d,f,p,m,v,y,h,g,b,T,S,w,P,O,k,I,A,C,E,D,V,x,j,M,B={}
function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(B),n.d(B,{AiringType:function(){return H},AudioTrackFormats:function(){return j},CachingPolicyType:function(){return F},CollectionType:function(){return L},ContentAvailabilityStatus:function(){return h},DisplayType:function(){return w},EditorialBadgeType:function(){return U},EligibilityType:function(){return V},EntitlementReason:function(){return A},EntityType:function(){return O},IntentType:function(){return Q},InvalidationEvents:function(){return N},ItunesOfferCapability:function(){return T},ItunesOfferVariant:function(){return b},LockupImageType:function(){return k},NavigationBrickEntityLinkType:function(){return $},OfferKind:function(){return S},PlatterDisplayType:function(){return C},RatingSystemType:function(){return v},SeasonOfferKind:function(){return g},SectionMarkerType:function(){return P},SubscriptionActionType:function(){return E},SubscriptionBundleType:function(){return D},SubscriptionOfferType:function(){return x},TomatoMeterFreshness:function(){return y},URLContextParamsActions:function(){return _},UTSChannelType:function(){return X},UTSHowToWatchAction:function(){return G},UTSProductPageShelfMarkers:function(){return W},UTSSecondaryAction:function(){return q},UTSUpsellOfferType:function(){return z},VideoColorRange:function(){return I},VideoQuality:function(){return Z},audioTrackFormatSortingOrder:function(){return Y},audioTrackFormatsMap:function(){return K},defaultUTSCommonSenseMedia:function(){return ne},defaultUTSRottenTomatoesReviews:function(){return te},sportingEventIdsMappingToShows:function(){return re}}),function(e){e.Movie="Movie",e.SportingEvent="SportingEvent",e.Show="Show",e.Episode="Episode",e.Trailer="Trailer",e.LiveService="LiveService"}(r||(r={})),function(e){e.Get="Get",e.Play="Play",e.PlayWithSubscriptionOffer="PlayWithSubscriptionOffer",e.Preorder="Preorder",e.Preordered="Preordered",e.Buy="Buy",e.RentPlayNow="RentPlayNow",e.RentPlayLater="RentPlayLater",e.Subscribe="Subscribe",e.SubscribeWithPlatter="SubscribeWithPlatter",e.OpenIn="Open",e.OpenInAppleMusic="OpenInAppleMusic",e.Cancel="Cancel",e.Download="Download",e.ActivateCarrierOffer="ActivateCarrierOffer",e.Promise="Promise",e.Navigate="Navigate",e.UpNextAction="AddToUpNext"}(a||(a={})),function(e){e.Button="Button",e.UpNextButton="UpNextButton",e.Cell="Cell",e.CanonicalOfferButton="CanonicalOfferButton",e.TransactionButton="TransactionButton",e.CanonicalOfferCard="CanonicalOfferCard",e.VersionPickerOfferItem="VersionPickerOfferItem"}(o||(o={})),(M=i||(i={})).SubscriptionPlatterPage="SubscriptionPlatterPage",M.SubscriptionConfirmationPage="SubscriptionConfirmationPage",M.SharedWatchSubscriptionConfirmationPage="SharedWatchSubscriptionConfirmationPage",M.SharedWatchiTunesSubscriptionConfirmationPage="SharedWatchiTunesSubscriptionConfirmationPage",M.VersionPickerPage="VersionPickerPage",M.CanonicalOffersPage="CanonicalOffersPage",M.TransactionConfirmationPage="TransactionConfirmationPage",M.LivePlaybackStartOverSelectionPage="LivePlaybackStartOverSelectionPage",M.StoreDemoModeAlert="StoreDemoModeAlert",M.MovieBundleOffersPage="MovieBundleOffersPage",M.SharedWatchAlert="SharedWatchAlert",M.BroadcastOptions="BroadcastOptions",M.ProductPage="ProductPage",function(e){e.AppIcon="AppIcon",e.Default="Default"}(s||(s={})),function(e){e.Heterogeneous="Heterogeneous",e.Homogeneous="Homogeneous",e.NotApplicable="NotApplicable"}(l||(l={})),function(e){e.String="String",e.ImageString="ImageString",e.StrikeThrough="StrikeThrough"}(c||(c={})),function(e){e.ResourceImageAvailabilityPunchout="ResourceImageAvailabilityPunchout",e.ResourceImageAddToUpNext="ResourceImageAddToUpNext",e.ResourceImageRemoveFromUpNext="ResourceImageRemoveFromUpNext",e.ResourceImageAppleTV="ResourceImageAppleTV",e.ResourceImageAppleTVPlus="ResourceImageAppleTVPlus",e.ResourceImagePlayGlyph="ResourceImagePlayGlyph"}(u||(u={})),function(e){e.ItunesExtras="extras",e.LiveStream="live",e.Editorial="editorial",e.Error="error"}(d||(d={})),function(e){e.SharedWatch="sharedWatch",e.SharedWatchJoin="sharedWatchJoin",e.SharedWatchBinge="sharedWatchJoinBinge",e.SharedWatchPostPlayBinge="sharedWatchPostPlayBinge",e.SharedWatchPostPlayNonBinge="sharedWatchPostPlayNonBinge"}(f||(f={})),function(e){e.Unknown="Unknown",e.Live="Event",e.EbsEvent="EbsEvent",e.VOD="Vod"}(p||(p={})),function(e){e.Movies="movies",e.TV="tv"}(v||(v={})),function(e){e.CertifiedFresh="CertifiedFresh",e.Rotten="Rotten",e.Fresh="Fresh",e.Invalid=""}(y||(y={})),function(e){e.Available="Available",e.Unavailable="Unavailable",e.SoftwareUpgradeRequired="SoftwareUpgradeRequired"}(h||(h={})),function(e){e.Season="season",e.SeasonPass="seasonPass",e.MultiPass="multiPass",e.AllEpisodes="allEpisodes"}(g||(g={})),function(e){e.SD="SD",e.HD="HD",e.PLUS="PLUS"}(b||(b={})),function(e){e.ClosedCaptioned="closedCaptioned",e.AudioDescription="audioDescription",e.DolbySurround="dolbySurround",e.iTunesExtras="iTunesExtras",e.DolbyAtmosSurround="dolbyAtmosSurround",e.Dolby71Surround="dolby71Surround",e.SDH="SDH",e.HDR="HDR",e.FourK="4K"}(T||(T={})),function(e){e.Preordered="preordered",e.Update="update",e.Preorder="preorder",e.Complete="complete",e.Redownload="redownload",e.Buy="buy",e.Rent="rent",e.Get="get",e.Purchased="purchased"}(S||(S={})),function(e){e.Spotlight="spotlight",e.NotesLockup="notesLockup",e.FeaturedChannel="channelUpsell",e.ChannelLockup="channelLockup",e.Ribbon="ribbon",e.EpicInline="epicInline",e.EpicShowcase="epicShowcase",e.CategoryBrick="categoryBrick",e.SharedContentLockup="sharedContentLockup",e.Brick="brick",e.Lockup="lockup",e.NavigationBrick="navBrick",e.SportsCardLockup="sportsCardLockup",e.SportsMasterLockup="sportsMasterLockup",e.SportsExtrasLockup="sportsExtrasLockup",e.SportsLockup="sportsLockup",e.EpisodeLockup="episodeLockup",e.SeasonLockup="seasonLockup",e.BrandLockup="brandLockup",e.LiveServiceLockup="liveServiceLockup",e.PersonLockup="personLockup",e.UpNextLockup="upNextLockup",e.UpNext="upNext",e.CardLockup="cardLockup",e.PlayHistory="playHistory",e.GroupForYou="groupForYou",e.OrdinalChart="chart",e.RelatedLockup="relatedLockup",e.TrailerLockup="trailerLockup",e.BonusContentLockup="bonusContentLockup",e.Roles="Roles",e.SearchLockup="SearchLockup",e.SportsProduct="SportsProduct",e.TabItems="tabItems",e.MovieBundle="movieBundle",e.VersionPicker="versionPicker",e.SportsFavorites="sportsFavorites",e.SportsFavoritesBanner="sportsFavoritesBanner",e.PostPlayUpNextShelf="postPlayUpNext",e.PostPlaySuggestedShelf="postPlaySuggested",e.SearchTopResults="searchTopResults",e.SiriSearch="SiriSearch",e.ChannelEPG="channelEPG",e.ItunesExtras="iTunesExtra",e.EpicStage="epicStage",e.EpicStageWithUpsell="epicStageWithUpsell"}(w||(w={})),function(e){e.SharedWithYou="SharedWithYou",e.SportsFavorites="SportsFavorites",e.ChannelHeader="ChannelHeader"}(P||(P={})),function(e){e.Movie="Movie",e.MovieBundle="MovieBundle",e.Episode="Episode",e.Season="Season",e.Show="Show",e.Person="Person",e.Role="Role",e.SportingEvent="SportingEvent",e.Vod="Vod",e.LiveService="LiveService",e.EditorialVideoClip="EditorialVideoClip",e.EditorialCollection="EditorialCollection",e.SportLeague="SportLeague",e.Sport="Sport",e.League="League",e.Preview="Preview",e.PressConference="PressConference",e.Interview="Interview",e.NotableMoment="NotableMoment",e.KeyPlay="KeyPlay",e.Bonus="Bonus",e.Promotional="Promotional",e.Favorite="Favorite",e.History="History",e.EditorialItem="EditorialItem",e.Room="Room",e.Root="Root",e.Canvas="Canvas",e.Genre="Genre",e.Extra="Extra",e.Tab="Tab",e.RealityItem="RealityItem",e.RealityVideo="RealityVideo",e.iTunesExtra="iTunesExtra",e.Channel="Channel",e.Brand="Brand",e.SpecialEvent="SpecialEvent",e.ExternalLink="ExternalLink",e.EpgItem="EpgItem",e.Invalid="",e.NoServerState="",e.Event="Event",e.AmbientVideo="AmbientVideo",e.SportsFavorites="SportsFavorites",e.Offer="Offer",e.TabItem="TabItem",e.DebugMenu="DebugMenu",e.PagePerformance="PagePerformance"}(O||(O={})),function(e){e.ShelfImage="shelfImage",e.ShelfImageLive="shelfImageLive",e.ShelfImageBackground="shelfImageBackground",e.ShelfImageBackgroundLive="shelfImageBackgroundLive",e.ShelfImageBackgroundTall="shelfImageBackgroundTall",e.ShelfImageBackgroundTallLive="shelfImageBackgroundTallLive",e.ShelfImageLogo="shelfImageLogo",e.TransitionImage="transitionImage",e.Headshot="headshot",e.CanvasImage="canvasImage",e.CanvasShortImage="canvasShortImage",e.ChannelHeaderImage="headerImage",e.ContentImage="contentImage",e.ContentImageTall="contentImageTall",e.ContentLogo="contentLogo",e.GameLogoHeader="gameLogoHeader",e.FlexibleLogo="flexibleLogo",e.LeagueLogo="leagueLogo",e.PosterArt="posterArt",e.ShowPosterArt="showPosterArt",e.MasterCoverArt="masterCoverArt",e.ActionCoverArt="actionCoverArt",e.ChannelColorLogo="colorLogo",e.ChannelLogoGlyph="logoGlyph",e.ChannelAppIcon="appIcon",e.ChannelBlackLogo="blackLogo",e.ChannelWhiteLogo="whiteLogo",e.ChannelSplashHeader="channelSplashHeader",e.SecondaryLogo="secondaryLogo",e.PreviewFrame="previewFrame",e.CoverArt16x9="coverArt16X9",e.CoverArt="coverArt"}(k||(k={})),function(e){e.dolbyvisionhdr="DolbyVisionHDR",e.hdr="HDR",e.hdr10plus="HDR10Plus",e.sdr="SDR",e.unknown="Unknown"}(I||(I={})),function(e){e.Rental="Rental",e.Purchase="Purchase",e.Unknown="Unknown",e.Subscription="Subscription",e.Free="Free"}(A||(A={})),function(e){e.Card="Card",e.FlatText="FlatText"}(C||(C={})),function(e){e.CarrierLink="CARRIER_LINK"}(E||(E={})),function(e){e.Individual="INDIVIDUAL",e.Family="FAMILY",e.Max="MAX",e.Student="STUDENT",e.CBTime="CBTIME"}(D||(D={})),function(e){e.NONE="NONE",e.INTRO="INTRO",e.RETAIL="RETAIL",e.HOME_POD="HOME_POD",e.WIN_BACK_1="WIN_BACK_1",e.WIN_BACK_2="WIN_BACK_2",e.WIN_BACK_3="WIN_BACK_3",e.HARDWARE_1="HARDWARE_1",e.STUDENT_1="STUDENT_1",e.EXTENDED_OFFER="EXTENDED_OFFER",e.HARD_BUNDLE="HARD_BUNDLE"}(V||(V={})),function(e){e.Bundle="BUNDLE",e.TvPlus="TV_PLUS"}(x||(x={})),function(e){e.DolbyAtmos="DolbyAtmos",e.DolbyDigitalTrueHd="DolbyTrueHd",e.DolbyDigitalPlus="DolbyPlus",e.DolbyDigitalSurroundEx="DolbySurroundEx",e.DolbyDigitalEx="DolbyEx",e.DolbyDigital71Plus="Dolby7.1Plus",e.DolbyDigital71="Dolby7.1",e.DolbyDigital51Plus="Dolby5.1Plus",e.DolbyDigital51="Dolby5.1",e.AdvancedAudioCoding="AAC"}(j||(j={}))
var _,N,F,L,U,H,$,W,G,q,z,Q,K=(R(m={},j.AdvancedAudioCoding,"AAC"),R(m,j.DolbyDigital51,"Dolby 5.1"),R(m,j.DolbyDigital51Plus,"Dolby Digital 5.1"),R(m,j.DolbyDigital71,"Dolby 7.1"),R(m,j.DolbyDigital71Plus,"Dolby Digital 7.1"),R(m,j.DolbyDigitalEx,"Dolby Digial EX"),R(m,j.DolbyDigitalSurroundEx,"Dolby Digital Surround EX"),R(m,j.DolbyDigitalPlus,"Dolby Plus"),R(m,j.DolbyDigitalTrueHd,"Dolby TrueHD"),R(m,j.DolbyAtmos,"Dolby Atmos"),m),Y=[j.DolbyAtmos,j.DolbyDigitalTrueHd,j.DolbyDigitalPlus,j.DolbyDigitalSurroundEx,j.DolbyDigitalEx,j.DolbyDigital71Plus,j.DolbyDigital71,j.DolbyDigital51Plus,j.DolbyDigital51,j.AdvancedAudioCoding]
!function(e){e.play="play",e.trailer="trailer",e.clip="clip",e.offer="offer",e.bonus="bonus",e.sharedWatchId="sharedWatchId"}(_||(_={})),function(e){e.PURCHASE="PURCHASE",e.PLAY="PLAY",e.UPNEXT_ADD_REMOVE="UPNEXT_ADD_REMOVE",e.LIVE_PLAY="POST_PLAYBACK"}(N||(N={})),function(e){e.UnknownCachingPolicy="UnknownCachingPolicy",e.RefreshWithCanvas="RefreshWithCanvas",e.RefreshWithInterval="RefreshWithInterval",e.RefreshAlways="RefreshAlways",e.RefreshWithEvent="RefreshWithEvent"}(F||(F={})),function(e){e.Collection="Collection"}(L||(L={})),function(e){e.Text="Text",e.Image="Image"}(U||(U={})),function(e){e.LIVE="Live",e.REPLAY="Replay",e.ONDEMAND="OnDemand",e.UNDETERMINED="UNDETERMINED"}(H||(H={})),function(e){e.Room="Room",e.Tab="Tab",e.SportsLeague="SportsLeague"}($||($={})),function(e){e.Episodes="EpisodeList",e.Trailers="Trailers",e.Bonuses="BonusContent",e.HowToWatch="HowToWatch",e.Related="Related",e.Bundle="MovieBundles",e.ItunesExtras="iTunesExtra",e.Roles="CastAndCrew",e.About="About",e.Footer="Info"}(W||(W={})),function(e){e.Open="Open",e.Buy="Buy",e.Install="Install",e.Rent="Rent",e.Preorder="Preorder",e.Play="Play",e.Subscribe="Subscribe",e.ShowSeasons="ShowSeasons"}(G||(G={})),function(e){e.MarkAsWatched="MarkAsWatched",e.MarkAllEpisodesAsWatched="MarkAllEpisodesAsWatched"}(q||(q={})),function(e){e.Default="OfferType_Default",e.SharedWatch="OfferType_SharedWatch"}(z||(z={})),function(e){e.AllowLocation="ALLOW_LOCATION_SERVICES",e.Navigate="NAVIGATE",e.SubscribeToChannel="SUBSCRIBE_TO_CHANNEL",e.FullScreenUpsell="FULLSCREEN_UPSELL",e.OpenApp="OPEN_APP",e.PlatterOffer="PLATTER_OFFER"}(Q||(Q={}))
var X,J,Z,ee,te={averageRating:NaN,numFreshReviews:NaN,numRottenReviews:NaN,tomatometerPercentage:NaN,tomatometerFreshness:y.Invalid},ne={contentInfo:[],oneLiner:"",recommendedAge:NaN}
!function(e){e[e.Unknown=0]="Unknown",e[e.Itunes=1]="Itunes",e[e.Punchout=2]="Punchout",e[e.Subscription=3]="Subscription",e[e.DirectPlay=4]="DirectPlay",e[e.TVApp=5]="TVApp"}(X||(X={})),function(e){e.g="g",e.pg="pg",e.pg13="pg13",e.r="r",e.nr="nr",e.u="u",e.unrated="unrated",e.ur="ur",e.tvy="tvy",e.tvy7="tvy7",e.tvg="tvg",e.tvpg="tvpg",e.tv14="tv14",e.tvma="tvma",e.tvy7fv="tvy7fv",e.bbfcu="bbfcu",e.bbfcpg="bbfcpg",e.bbfc12a="bbfc12a",e.bbfc12="bbfc12",e.bbfc15="bbfc15",e.bbfc18="bbfc18",e.bbfcr18="bbfcr18",e.barsl="barsl",e.bars10="bars10",e.bars12="bars12",e.bars14="bars14",e.bars16="bars16",e.bars18="bars18",e.nc17="nc17"}(J||(J={})),function(e){e["4k"]="4K",e.uhd="UHD",e.hd="HD",e.sd="SD"}(Z||(Z={})),function(e){e["720pHdVideo"]="720pHdVideo",e["1080pHdVideo"]="1080pHdVideo"}(ee||(ee={}))
var re=new Set(["umc.cse.2a4oe3tlcftnseovdy7p6j1xf","umc.cse.1a5up6lk3c0uxf6y2ckzzdplb","umc.cse.3l2odt1tjgo2eom1cz42jq4ei","umc.cse.19al034onj5lg58yjcroi8h4i","umc.cse.4l17ao4vsus0szxi1hm8ioyih","umc.cse.3a5qsmap6y4ww0arnk9ecb3gu","umc.cse.7iquyup69abpzsiohpnxtxq9k","umc.cse.4pb4fri2mhjksrhfw4va01ikn","umc.cse.ua7jcig1xxg8zebesdtn3f57","umc.cse.37318q8sol7blpuide2rthue9","umc.cse.1p3dbt9lfwhidaqefy9u4xvkd","umc.cse.3guevlgyi6za2qhh2m4syib31","umc.cse.3vnw4xzwqkt83xvxugcd56rg3","umc.cse.5no5b84hzy5sy49kwxo1mmo4i","umc.cse.51q7nqdux2glnqa1bw3ng79af","umc.cse.4daghil295jxw0k22zg6fudlj","umc.cse.73e32rtlgbwl9igy7vl4ap95m","umc.cse.3j3lz6s5ksgybl0st79qmz7vq","umc.cse.236g6insl2l57jjtey3s39czp","umc.cse.5v0c58k0g2xjadlu9h34zto4l","umc.cse.20mojhhqv05mk354v42uativ0","umc.cse.2m3el7gg26i2f86k7wy39y0tz","umc.cse.4lz7h58b8u4nwsashm8cfwyf5","umc.cse.39g9ojbhv5egww1dwn7mm4pf","umc.cse.1zcevx0e541qdofihhjc1cdst","umc.cse.kzhlgobgk615vbt9xwdx2pc8","umc.cse.7jtqm9zvhru7b6jdqz4z36vh5","umc.cse.5yrydlzhjtavhfw40j5g09p1j","umc.cse.2qs81wyd2hrok2et1sauqyizf","umc.cse.403atqtaubjw1rbv0a44qhjm7","umc.cse.huwoce10f75sasyg9t8f01dh","umc.cse.60afdy5q293obrw44nqmzba92","umc.cse.4pffqewkjyic7jst57gi0m50x","umc.cse.jmpsgqjqin3m1z1epvtb74ip","umc.cse.nu1i794grelbn25gdx62spr7","umc.cse.3y960d6gpaffsnntgyu0yx32u","umc.cse.1qkb92sl0ej08iagitmn5765s","umc.cse.3bk6hqi37sj3ca2ybvqef8d1a","umc.cse.4c3wrj97d4m5ihov1whncfhjx","umc.cse.1dknc39etlcw09kopsa5xjz3","umc.cse.4olmakyockdj5zizfyff8jx59","umc.cse.6morqof5fdg7yebztu8tyw8gs","umc.cse.6dgob0l2p2yjir8y8v2jr1qil","umc.cse.4j90rkrclzp4ewshsse8n692v","umc.cse.3wqqymshshsbp7elh2wcaivp3","umc.cse.4jlxa5otmhhnyetgh4uclbysr","umc.cse.62o0z7pxfkon66vqm37do0sbl","umc.cse.jvu724qrgfah5xtu44jos5sq","umc.cse.3ihc88p1easw763f24ti5bl56","umc.cse.3lttl2eo2l8ousjlthfy5600g","umc.cse.4ucwa9pn6lv0xsi6ig5gb280k","umc.cse.4ttd62olypr2nzvfe7l2utywk","umc.cse.78iz9idvynjbn8cr0pub6rwe8","umc.cse.7ec6raasagegmbfkqbtjl5thr","umc.cse.3ls4evsrod9oyp6b7uv1v3r2k","umc.cse.60nrfhaxrgsd0rklo6tubix89","umc.cse.6889dvsq80amfydhd0a61adzo","umc.cse.3gpo27xtydqavwm8mbnyiqve1","umc.cse.34hceufmtjbwlwje7bz3j6tj5","umc.cse.35iizqoixt977ukfkpkxeawn4","umc.cse.45ll1px7eqnw76r0wfqsirvcs","umc.cse.ffzr8aw3j1cyt13h3opiv2g5","umc.cse.3bzwx7h5p6mym41wdchlyqn6z","umc.cse.4qzj6sb4lr01jju91n1wi0u6g","umc.cse.22bs8ynu7jpfctg8yqm600hh2","umc.cse.4380yc0befms9y7i23d3ylf2m","umc.cse.5gbfucgp5p56papk33nuzzoa1","umc.cse.47lsuwlfr6zmlzw73hr8h1ho8","umc.cse.3d3x5qi4z3ab54t3a1pfbrwxx","umc.cse.enwksjeiytfa0hguyufe3zqu","umc.cse.3qzpuxlpvx8gvq0zyq4z626nq","umc.cse.bg7mjdnwd6qgztzrczyirqz2","umc.cse.1xkevixs5eezia6plye58rroa","umc.cse.3lmhkcuci9utgvsvvu13tsnc3","umc.cse.41kr26eaticn723062rmv8g0v","umc.cse.27w46l2gw4cmr9ifdr8ddookd","umc.cse.27w46l2gw4cmr9ifdr8ddookd","umc.cse.6w09xsyxpy8e1me67i1ejd41x","umc.cse.55rg74e7to2wz9jiio38ugvst","umc.cse.1rvopp1vax3efrvo6hmvwgque","umc.cse.23di3dtommw7806nwxl4srn1l","umc.cse.7jmlj5ut34jte4hcp5ujyc7tj","umc.cse.53ybkx52rhp7wx235grmi8urm","umc.cse.50iupe2tj22doof4elkqbnos7","umc.cse.4spmpirqa6pzyfgedys5fcfu0","umc.cse.21ce1qaojhb9iodbe3tg1orzt","umc.cse.1wsupcfd76d9ol2o7lsr6chpb","umc.cse.62jx9ol8m36vw8bpgdxyv0fqs","umc.cse.6hhs3q8inian705ignwo4ozq5","umc.cse.4ykb83hwomypllhqakwzs6kfd","umc.cse.6rxc9gg3cbjaehx314jmvqsvn","umc.cse.2e3fv5o9ca15ziga8rmvokdxj","umc.cse.1reb897uhgmydz1013ub1t2gp","umc.cse.6bj0x5jvtmbw5qdbwtxky1f3p","umc.cse.1cyn9jspa6ux8qoa19he4on6w","umc.cse.2k94l1ip7r8n1vcy2gztyfs7i","umc.cse.76vgri6g6pzoamwci2lmtop0l","umc.cse.4uss2dbuq37zpyzhkxnyxyxyr","umc.cse.4a7ogdcxq8cufcy1684ld2hbb","umc.cse.2s8b0jpmn1u2j94lbv4rjgog6","umc.cse.4b7f6qumcsn2hunqy2wkubbze","umc.cse.14pzkcvp7mefbbvlnidumyxgh","umc.cse.39xzhqhysde2uw58ml82h5891","umc.cse.1sr5dzba4aelciny6rd6vpszs"])
function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),e}var se,le,ce,ue,de,fe,pe=function(){function e(t){var n=t.localizationDelegate,r=t.localizationNumberDelegate,a=t.localizationWithCountsDelegate,o=t.localizeJoinComponentsWithCommaAndSpace,i=t.localizeJoinComponentsWithSemicolonAndSpace,s=t.settings,l=t.logger,c=t.localizationDecimalNumberDelegate,u=t.featureEnablers
ae(this,e),e.localize=n,e.localizeNumber=r,e.localizeWithCounts=a,e.localizeJoinComponentsWithSemicolonAndSpace=i,e.localizeJoinComponentsWithCommaAndSpace=o,e.settings=s,e.log=l,e.localizeDecimalNumber=c,e.featureEnablers=u,e.isPlatformIOSorIPadOS=e.getIsPlatformIOSorIPadOS(s),e.isDownloadButtonSupported=e.getIsDownloadButtonSupported(s),e.isPlatformTV=e.getIsPlatformTV(s),e.isPlatformDesktopLike=e.getIsPlatformDesktopLike(s),e.isPlatformNativeDesktop=e.getIsPlatformNativeDesktop(s),e.isFederatedSupported=e.getIsFederatedSupported(s),e.isPlatformWeb=e.getIsPlatformWeb(s),e.isITunesExtrasSupported=e.getIsItunesExtrasSupported(s)}return ie(e,null,[{key:"getIsDownloadButtonSupported",value:function(e){return"iOS"==e.platform||"iPadOS"==e.platform||"macOS"==e.platform||"windows"==e.platform}},{key:"getIsPlatformTV",value:function(e){return"tvOS"==e.platform||"3ptv"==e.platform||"3ptv-web"==e.platform}},{key:"getIsPlatformDesktopLike",value:function(e){return"macOS"==e.platform||"web"==e.platform||"windows"==e.platform}},{key:"getIsPlatformNativeDesktop",value:function(e){return"macOS"==e.platform||"windows"==e.platform}},{key:"getIsFederatedSupported",value:function(e){return"3ptv"!=e.platform&&"3ptv-web"!=e.platform&&"macOS"!=e.platform&&"windows"!=e.platform}},{key:"getIsItunesExtrasSupported",value:function(e){return"iOS"==e.platform||"iPadOS"==e.platform||"macOS"==e.platform||"tvOS"==e.platform||"windows"==e.platform}},{key:"getIsPlatformWeb",value:function(e){return"web"==e.platform}},{key:"getIsPlatformIOSorIPadOS",value:function(e){return"iOS"==e.platform||"iPadOS"==e.platform}}]),e}(),me=ie((function e(t){var n=t.localizationDelegate,r=t.localizationNumberDelegate,a=t.localizationWithCountsDelegate,o=t.localizeJoinComponentsWithCommaAndSpace,i=t.localizeJoinComponentsWithSemicolonAndSpace,s=t.settings,l=t.logger,c=t.localizationDecimalNumberDelegate,u=t.featureEnablers
ae(this,e),this.localize=n,this.localizeNumber=r,this.localizeWithCounts=a,this.localizeJoinComponentsWithSemicolonAndSpace=i,this.localizeJoinComponentsWithCommaAndSpace=o,this.settings=s,this.log=l,this.localizeDecimalNumber=c,this.featureEnablers=u,this.isPlatformIOSorIPadOS=pe.getIsPlatformIOSorIPadOS(s),this.isDownloadButtonSupported=pe.getIsDownloadButtonSupported(s),this.isPlatformTV=pe.getIsPlatformTV(s),this.isPlatformDesktopLike=pe.getIsPlatformDesktopLike(s),this.isPlatformNativeDesktop=pe.getIsPlatformNativeDesktop(s),this.isFederatedSupported=pe.getIsFederatedSupported(s),this.isPlatformWeb=pe.getIsPlatformWeb(s),this.isITunesExtrasSupported=pe.getIsItunesExtrasSupported(s)})),ve=function(e){return void 0!==e?e.configuration:pe},ye=function(e,t,n){return e||ve(n).log("Attempting to paint an empty string!"),{display:[e].map(be),voiceOverText:t||e}},he=function(e,t){return{display:e,voiceOverText:t}},ge=function(e,t,n){e||ve(n).log("Attempting to paint an empty string!")
var r=e.match(/(.*?) <strike>(.*?)<\/strike>(.*)/)
return{display:[{rawString:(null==r?void 0:r[1])||"",kind:c.String},{rawString:(null==r?void 0:r[2])||"",kind:c.StrikeThrough}],voiceOverText:t||e}},be=function(e){return{rawString:e,kind:c.String}},Te=function(e){if(e&&e.display.length){var t=e.display.find((function(e){return e.kind==c.String}))
return t&&t.rawString}return null},Se=function(e,t,n){var r=ve(n).localize(e,t)
return ye(r,void 0,n)},we=function(e,t){return ve(t).localizeNumber(e)},Pe=function(e,t){for(var n,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]
var i=(n=ve(e)).localizeWithCounts.apply(n,[t].concat(a))
return ye(i,void 0,e)},Oe=function(e){return e.displayName},ke=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a]
return(t=ve(e)).localizeJoinComponentsWithCommaAndSpace.apply(t,r)},Ie=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a]
return(t=ve(e)).localizeJoinComponentsWithSemicolonAndSpace.apply(t,r)}
!function(e){e[e["TV.Error.ContentUnavailable"]=0]="TV.Error.ContentUnavailable",e[e["TV.Error.Unexpected"]=1]="TV.Error.Unexpected",e[e["TV.Error.ErrorPageTitle"]=2]="TV.Error.ErrorPageTitle",e[e["TV.Error.ErrorPageDescription"]=3]="TV.Error.ErrorPageDescription",e[e["TV.Banner.DescriptionNotAvailable"]=4]="TV.Banner.DescriptionNotAvailable",e[e["TV.Button.Continue"]=5]="TV.Button.Continue",e[e["TV.Button.Buy"]=6]="TV.Button.Buy",e[e["TV.Button.Cancel"]=7]="TV.Button.Cancel",e[e["TV.Button.Done"]=8]="TV.Button.Done",e[e["TV.Button.Get"]=9]="TV.Button.Get",e[e["TV.Button.OpenIn"]=10]="TV.Button.OpenIn",e[e["TV.Button.Play"]=11]="TV.Button.Play",e[e["TV.Button.PlayAgain"]=12]="TV.Button.PlayAgain",e[e["TV.Button.PlayFirstEpisode"]=13]="TV.Button.PlayFirstEpisode",e[e["TV.Button.ResumeEpisode"]=14]="TV.Button.ResumeEpisode",e[e["TV.Button.PlayEpisode"]=15]="TV.Button.PlayEpisode",e[e["TV.Button.PlayEpisodeAbbreviated"]=16]="TV.Button.PlayEpisodeAbbreviated",e[e["TV.Button.PlaySeasonEpisode"]=17]="TV.Button.PlaySeasonEpisode",e[e["TV.Button.PlayFreeEpisode"]=18]="TV.Button.PlayFreeEpisode",e[e["TV.Button.PlayFreeLiveGame"]=19]="TV.Button.PlayFreeLiveGame",e[e["TV.Button.PlayFreePostGame"]=20]="TV.Button.PlayFreePostGame",e[e["TV.Button.PlayFreeMovie"]=21]="TV.Button.PlayFreeMovie",e[e["TV.Button.FirstEpisode"]=22]="TV.Button.FirstEpisode",e[e["TV.Button.Play.Channel"]=23]="TV.Button.Play.Channel",e[e["TV.Button.PreOrder"]=24]="TV.Button.PreOrder",e[e["TV.Button.Rent"]=25]="TV.Button.Rent",e[e["TV.Button.RentAndWatchLater"]=26]="TV.Button.RentAndWatchLater",e[e["TV.Button.RentAndWatchNow"]=27]="TV.Button.RentAndWatchNow",e[e["TV.Button.Resume"]=28]="TV.Button.Resume",e[e["TV.Button.SeeAll"]=29]="TV.Button.SeeAll",e[e["TV.Button.Download"]=30]="TV.Button.Download",e[e["TV.Button.MarkAllEpisodesAsWatched"]=31]="TV.Button.MarkAllEpisodesAsWatched",e[e["TV.Button.MarkEpisodeAsWatched"]=32]="TV.Button.MarkEpisodeAsWatched",e[e["TV.Button.MarkEventAsWatched"]=33]="TV.Button.MarkEventAsWatched",e[e["TV.Button.MarkMovieAsWatched"]=34]="TV.Button.MarkMovieAsWatched",e[e["TV.Button.UpNext.Add"]=35]="TV.Button.UpNext.Add",e[e["TV.Button.UpNext.Remove"]=36]="TV.Button.UpNext.Remove",e[e["TV.Button.UpNext.InUpNext"]=37]="TV.Button.UpNext.InUpNext",e[e["TV.Button.ViewDetails"]=38]="TV.Button.ViewDetails",e[e["TV.Button.SubscribeChannel"]=39]="TV.Button.SubscribeChannel",e[e["TV.Button.SubscribeChannelFree"]=40]="TV.Button.SubscribeChannelFree",e[e["TV.Button.SubscribeFree"]=41]="TV.Button.SubscribeFree",e[e["TV.Button.Browse"]=42]="TV.Button.Browse",e[e["TV.Button.RemoveFromPlayHistory"]=43]="TV.Button.RemoveFromPlayHistory",e[e["TV.Button.AccountSettings"]=44]="TV.Button.AccountSettings",e[e["TV.Button.Explore"]=45]="TV.Button.Explore",e[e["TV.Button.ExploreChannel"]=46]="TV.Button.ExploreChannel",e[e["TV.Button.RedeemStudentOffer"]=47]="TV.Button.RedeemStudentOffer",e[e["TV.Button.ChannelFree"]=48]="TV.Button.ChannelFree",e[e["TV.Button.NotNow"]=49]="TV.Button.NotNow",e[e["TV.Button.AddToUpNext"]=50]="TV.Button.AddToUpNext",e[e["TV.Button.Add"]=51]="TV.Button.Add",e[e["TV.Button.Added"]=52]="TV.Button.Added",e[e["TV.Button.Watch"]=53]="TV.Button.Watch",e[e["TV.Button.WatchMatch"]=54]="TV.Button.WatchMatch",e[e["TV.Button.WatchGame"]=55]="TV.Button.WatchGame",e[e["TV.MediaShowcase.GotoGame"]=56]="TV.MediaShowcase.GotoGame",e[e["TV.MediaShowcase.GotoChannel"]=57]="TV.MediaShowcase.GotoChannel",e[e["TV.MediaShowcase.GotoMovie"]=58]="TV.MediaShowcase.GotoMovie",e[e["TV.MediaShowcase.GotoShow"]=59]="TV.MediaShowcase.GotoShow",e[e["TV.MediaShowcase.GotoEpisode"]=60]="TV.MediaShowcase.GotoEpisode",e[e["TV.MediaShowcase.GotoMatch"]=61]="TV.MediaShowcase.GotoMatch",e[e["TV.MediaShowcase.MoreInfo"]=62]="TV.MediaShowcase.MoreInfo",e[e["TV.Button.WatchLive"]=63]="TV.Button.WatchLive",e[e["TV.Button.WatchRecap"]=64]="TV.Button.WatchRecap",e[e["TV.Button.WatchFromBeginning"]=65]="TV.Button.WatchFromBeginning",e[e["TV.Button.BroadcastOptions"]=66]="TV.Button.BroadcastOptions",e[e["TV.HowToWatch.ChannelSubscription"]=67]="TV.HowToWatch.ChannelSubscription",e[e["TV.SubDisclaimerUnverifiedAutoRenewsMonthPrice"]=68]="TV.SubDisclaimerUnverifiedAutoRenewsMonthPrice",e[e["TV.SubDisclaimerUnverifiedAutoRenewsYearPrice"]=69]="TV.SubDisclaimerUnverifiedAutoRenewsYearPrice",e[e["TV.HowToWatch.Subscribed"]=70]="TV.HowToWatch.Subscribed",e[e["TV.HowToWatch.SubscribeChannel"]=71]="TV.HowToWatch.SubscribeChannel",e[e["TV.HowToWatch.SubscribeChannelFree"]=72]="TV.HowToWatch.SubscribeChannelFree",e[e["TV.HowToWatch.SubscribedChannel"]=73]="TV.HowToWatch.SubscribedChannel",e[e["TV.HowToWatch.SubscribedChannelPlay"]=74]="TV.HowToWatch.SubscribedChannelPlay",e[e["TV.HowToWatch.SubscribeChannelPriceTitleDay"]=75]="TV.HowToWatch.SubscribeChannelPriceTitleDay",e[e["TV.HowToWatch.SubscribeChannelPriceTitleMonth"]=76]="TV.HowToWatch.SubscribeChannelPriceTitleMonth",e[e["TV.HowToWatch.SubscribeChannelPriceTitleYear"]=77]="TV.HowToWatch.SubscribeChannelPriceTitleYear",e[e["TV.HowToWatch"]=78]="TV.HowToWatch",e[e["TV.HowToWatch.OpenPunchoutChannel"]=79]="TV.HowToWatch.OpenPunchoutChannel",e[e["TV.HowToWatch.Buy"]=80]="TV.HowToWatch.Buy",e[e["TV.HowToWatch.SubTitle.Purchased"]=81]="TV.HowToWatch.SubTitle.Purchased",e[e["TV.HowToWatch.SubTitle.Rented"]=82]="TV.HowToWatch.SubTitle.Rented",e[e["TV.HowToWatch.SubTitle.iTunesExtras"]=83]="TV.HowToWatch.SubTitle.iTunesExtras",e[e["TV.HowToWatch.OpenInApp"]=84]="TV.HowToWatch.OpenInApp",e[e["TV.HowToWatch.OpenIn"]=85]="TV.HowToWatch.OpenIn",e[e["TV.HowToWatch.GetApp"]=86]="TV.HowToWatch.GetApp",e[e["TV.HowToWatch.Rent"]=87]="TV.HowToWatch.Rent",e[e["TV.HowToWatch.PreOrder"]=88]="TV.HowToWatch.PreOrder",e[e["TV.HowToWatch.BuyPrice"]=89]="TV.HowToWatch.BuyPrice",e[e["TV.HowToWatch.RentPrice"]=90]="TV.HowToWatch.RentPrice",e[e["TV.HowToWatch.WatchMovie"]=91]="TV.HowToWatch.WatchMovie",e[e["TV.HowToWatch.CompleteSeason"]=92]="TV.HowToWatch.CompleteSeason",e[e["TV.HowToWatch.PreOrdered"]=93]="TV.HowToWatch.PreOrdered",e[e["TV.HowToWatch.Update"]=94]="TV.HowToWatch.Update",e[e["TV.HowToWatch.Get"]=95]="TV.HowToWatch.Get",e[e["TV.HowToWatch.GetEpisode"]=96]="TV.HowToWatch.GetEpisode",e[e["TV.Banner.ComingSoon"]=97]="TV.Banner.ComingSoon",e[e["TV.HowToWatch.Play"]=98]="TV.HowToWatch.Play",e[e["TV.HowToWatch.Resume"]=99]="TV.HowToWatch.Resume",e[e["TV.HowToWatch.LiveNow"]=100]="TV.HowToWatch.LiveNow",e[e["TV.HowToWatch.BuyFromPrice"]=101]="TV.HowToWatch.BuyFromPrice",e[e["TV.HowToWatch.BuySeasons"]=102]="TV.HowToWatch.BuySeasons",e[e["TV.HowToWatch.BuyEpisode"]=103]="TV.HowToWatch.BuyEpisode",e[e["TV.HowToWatch.Seasons"]=104]="TV.HowToWatch.Seasons",e[e["TV.HowToWatch.SeasonNumberRange"]=105]="TV.HowToWatch.SeasonNumberRange",e[e["TV.HowToWatch.SeasonsNumberRange"]=106]="TV.HowToWatch.SeasonsNumberRange",e[e["TV.HowToWatch.SeasonNumber"]=107]="TV.HowToWatch.SeasonNumber",e[e["TV.HowToWatch.BuySeasonNumber"]=108]="TV.HowToWatch.BuySeasonNumber",e[e["TV.HowToWatch.CompleteSeasonNumber"]=109]="TV.HowToWatch.CompleteSeasonNumber",e[e["TV.HowToWatch.CompleteSeasonPassNumber"]=110]="TV.HowToWatch.CompleteSeasonPassNumber",e[e["TV.HowToWatch.SeasonPassNumber"]=111]="TV.HowToWatch.SeasonPassNumber",e[e["TV.HowToWatch.BuySeasonPassNumber"]=112]="TV.HowToWatch.BuySeasonPassNumber",e[e["TV.HowToWatch.SeasonAllEpisodesNumber"]=113]="TV.HowToWatch.SeasonAllEpisodesNumber",e[e["TV.HowToWatch.BuySeasonAllEpisodesNumber"]=114]="TV.HowToWatch.BuySeasonAllEpisodesNumber",e[e["TV.HowToWatch.MultiSeasonPass"]=115]="TV.HowToWatch.MultiSeasonPass",e[e["TV.HowToWatch.BuyMultiSeasonPass"]=116]="TV.HowToWatch.BuyMultiSeasonPass",e[e["TV.MovieBundle.Buy"]=117]="TV.MovieBundle.Buy",e[e["TV.MovieBundle.ShelfTitle"]=118]="TV.MovieBundle.ShelfTitle",e[e["TV.Confirmation.VersionsButton"]=119]="TV.Confirmation.VersionsButton",e[e["TV.Confirmation.ChooseVersionsHeader"]=120]="TV.Confirmation.ChooseVersionsHeader",e[e["TV.Confirmation.DisclaimerSeasonPass"]=121]="TV.Confirmation.DisclaimerSeasonPass",e[e["TV.Confirmation.DisclaimerSeasonMultiPass"]=122]="TV.Confirmation.DisclaimerSeasonMultiPass",e[e["TV.Confirmation.DisclaimerRental"]=123]="TV.Confirmation.DisclaimerRental",e[e["TV.Confirmation.DisclaimerRentalExtras"]=124]="TV.Confirmation.DisclaimerRentalExtras",e[e["TV.Confirmation.AudioLang1"]=125]="TV.Confirmation.AudioLang1",e[e["TV.Confirmation.AudioMore"]=126]="TV.Confirmation.AudioMore",e[e["TV.Confirmation.SubtitlesLang1"]=127]="TV.Confirmation.SubtitlesLang1",e[e["TV.Confirmation.SubtitlesMore"]=128]="TV.Confirmation.SubtitlesMore",e[e["TV.Episodes"]=129]="TV.Episodes",e[e["TV.BuyOrRent"]=130]="TV.BuyOrRent",e[e["TV.BuyForPrice"]=131]="TV.BuyForPrice",e[e["TV.RentForPrice"]=132]="TV.RentForPrice",e[e["TV.BuyOrRentForPrice"]=133]="TV.BuyOrRentForPrice",e[e["TV.BuyFrom"]=134]="TV.BuyFrom",e[e["TV.Punchout"]=135]="TV.Punchout",e[e["TV.OfferSheet.Punchout.HeaderTitle"]=136]="TV.OfferSheet.Punchout.HeaderTitle",e[e["TV.OfferSheet.Buy.HeaderTitle"]=137]="TV.OfferSheet.Buy.HeaderTitle",e[e["TV.OfferSheet.Versions.HeaderTitle"]=138]="TV.OfferSheet.Versions.HeaderTitle",e[e["TV.OfferSheet.Show.BuyEpisode"]=139]="TV.OfferSheet.Show.BuyEpisode",e[e["TV.OfferSheet.Show.BuySeason"]=140]="TV.OfferSheet.Show.BuySeason",e[e["TV.LocalNotificationsAlert.Title"]=141]="TV.LocalNotificationsAlert.Title",e[e["TV.LocalNotificationsAlert.Body"]=142]="TV.LocalNotificationsAlert.Body",e[e["TV.LocalNotifications.AppInstallComplete.Title"]=143]="TV.LocalNotifications.AppInstallComplete.Title",e[e["TV.LocalNotifications.AppInstallComplete.Body"]=144]="TV.LocalNotifications.AppInstallComplete.Body",e[e["TV.LinkSoftwareUpdateTitle"]=145]="TV.LinkSoftwareUpdateTitle",e[e["TV.LinkSoftwareUpdateDescription"]=146]="TV.LinkSoftwareUpdateDescription",e[e["TV.LinkFailureTitle"]=147]="TV.LinkFailureTitle",e[e["TV.LinkFailureDescription"]=148]="TV.LinkFailureDescription",e[e["ATV.EpisodeWithNumber"]=149]="ATV.EpisodeWithNumber",e[e["TV.Accessibility.Badges.PreviewItunesExtras"]=150]="TV.Accessibility.Badges.PreviewItunesExtras",e[e["TV.Role.Music"]=151]="TV.Role.Music",e[e["TV.Role.Cast"]=152]="TV.Role.Cast",e[e["TV.Role.Self"]=153]="TV.Role.Self",e[e["TV.Role.Writer"]=154]="TV.Role.Writer",e[e["TV.Role.Actor"]=155]="TV.Role.Actor",e[e["TV.Role.Starring"]=156]="TV.Role.Starring",e[e["TV.Role.Guest"]=157]="TV.Role.Guest",e[e["TV.Role.Anchor"]=158]="TV.Role.Anchor",e[e["TV.Role.Performer"]=159]="TV.Role.Performer",e[e["TV.Role.Creator"]=160]="TV.Role.Creator",e[e["TV.Role.Director"]=161]="TV.Role.Director",e[e["TV.Role.Host"]=162]="TV.Role.Host",e[e["TV.Role.Voice"]=163]="TV.Role.Voice",e[e["TV.Role.Narrator"]=164]="TV.Role.Narrator",e[e["TV.Role.GuestStar"]=165]="TV.Role.GuestStar",e[e["TV.Role.Advisor"]=166]="TV.Role.Advisor",e[e["TV.Role.Producer"]=167]="TV.Role.Producer",e[e["TV.Role.Other"]=168]="TV.Role.Other",e[e["TV.Role.As"]=169]="TV.Role.As",e[e["TV.ItunesExtras"]=170]="TV.ItunesExtras",e[e["TV.Episode.Abbreviated"]=171]="TV.Episode.Abbreviated",e[e["TV.ChannelAllShelf"]=172]="TV.ChannelAllShelf",e[e["TV.ChannelAvailableShelf"]=173]="TV.ChannelAvailableShelf",e[e["TV.ChannelMyShelf"]=174]="TV.ChannelMyShelf",e[e["TV.Person.Born"]=175]="TV.Person.Born",e[e["TV.AboutShelf"]=176]="TV.AboutShelf",e[e["TV.Accessibility"]=177]="TV.Accessibility",e[e["TV.ADCopy"]=178]="TV.ADCopy",e[e["TV.Additional"]=179]="TV.Additional",e[e["TV.Age"]=180]="TV.Age",e[e["TV.AgeRating"]=181]="TV.AgeRating",e[e["TV.AlwaysOn"]=182]="TV.AlwaysOn",e[e["TV.Confirmation.Account"]=183]="TV.Confirmation.Account",e[e["TV.Available"]=184]="TV.Available",e[e["TV.AvailableOnChannel"]=185]="TV.AvailableOnChannel",e[e["TV.AvailableToBuy"]=186]="TV.AvailableToBuy",e[e["TV.AvailableToPreorder"]=187]="TV.AvailableToPreorder",e[e["TV.AvailableToRent"]=188]="TV.AvailableToRent",e[e["TV.InTheatersNow"]=189]="TV.InTheatersNow",e[e["TV.Average"]=190]="TV.Average",e[e["TV.BuyCopy"]=191]="TV.BuyCopy",e[e["TV.BuyFor"]=192]="TV.BuyFor",e[e["TV.CCCopy"]=193]="TV.CCCopy",e[e["TV.ExtrasShelf.Title"]=194]="TV.ExtrasShelf.Title",e[e["TV.Fresh"]=195]="TV.Fresh",e[e["TV.Genre"]=196]="TV.Genre",e[e["TV.Get"]=197]="TV.Get",e[e["TV.Languages"]=198]="TV.Languages",e[e["TV.Play"]=199]="TV.Play",e[e["TV.Preview"]=200]="TV.Preview",e[e["TV.ComingSoon"]=201]="TV.ComingSoon",e[e["TV.ComingOn"]=202]="TV.ComingOn",e[e["TV.ComingIn"]=203]="TV.ComingIn",e[e["TV.Popover.Sharing.Episode"]=204]="TV.Popover.Sharing.Episode",e[e["TV.Popover.Sharing.Generic"]=205]="TV.Popover.Sharing.Generic",e[e["TV.Popover.Sharing.Movie"]=206]="TV.Popover.Sharing.Movie",e[e["TV.Popover.Sharing.Show"]=207]="TV.Popover.Sharing.Show",e[e["TV.Popover.Sharing.Sport"]=208]="TV.Popover.Sharing.Sport",e[e["TV.PreOrderCopy"]=209]="TV.PreOrderCopy",e[e["TV.PreOrderFor"]=210]="TV.PreOrderFor",e[e["TV.Primary"]=211]="TV.Primary",e[e["TV.Rated"]=212]="TV.Rated",e[e["TV.Released"]=213]="TV.Released",e[e["TV.RentFor"]=214]="TV.RentFor",e[e["TV.Reviews"]=215]="TV.Reviews",e[e["TV.Rotten"]=216]="TV.Rotten",e[e["TV.RottenTomatoesPercent"]=217]="TV.RottenTomatoesPercent",e[e["TV.Runtime"]=218]="TV.Runtime",e[e["TV.SDHCopy"]=219]="TV.SDHCopy",e[e["TV.SeasonEpisodeNumbers"]=220]="TV.SeasonEpisodeNumbers",e[e["TV.Studio"]=221]="TV.Studio",e[e["TV.Subscribe"]=222]="TV.Subscribe",e[e["TV.SubscribeNow"]=223]="TV.SubscribeNow",e[e["TV.SubscribeToWatch"]=224]="TV.SubscribeToWatch",e[e["TV.Subtitles"]=225]="TV.Subtitles",e[e["TV.Audio"]=226]="TV.Audio",e[e["TV.Tomatometer"]=227]="TV.Tomatometer",e[e["TV.Search"]=228]="TV.Search",e[e["TV.Search.NoResultsFound"]=229]="TV.Search.NoResultsFound",e[e["TV.SeasonTitle.Abbreviated"]=230]="TV.SeasonTitle.Abbreviated",e[e["TV.SeasonEpisode.Abbreviated"]=231]="TV.SeasonEpisode.Abbreviated",e[e["TV.Sports"]=232]="TV.Sports",e[e["TV.TextBadge.Live"]=233]="TV.TextBadge.Live",e[e["TV.Sports.Badge.ReAir"]=234]="TV.Sports.Badge.ReAir",e[e["TV.Favorites.EmptyDesc"]=235]="TV.Favorites.EmptyDesc",e[e["TV.Favorites.Leagues"]=236]="TV.Favorites.Leagues",e[e["TV.Favorites.MyFavTeams"]=237]="TV.Favorites.MyFavTeams",e[e["TV.Favorites.PickTeams"]=238]="TV.Favorites.PickTeams",e[e["TV.Favorites.PickTeams.Description"]=239]="TV.Favorites.PickTeams.Description",e[e["TV.Favorites.Title"]=240]="TV.Favorites.Title",e[e["TV.FavoriteTeams.Description"]=241]="TV.FavoriteTeams.Description",e[e["TV.FavoriteTeams.Title"]=242]="TV.FavoriteTeams.Title",e[e["TV.Notification.TeamAdded"]=243]="TV.Notification.TeamAdded",e[e["TV.Notification.TeamRemoved"]=244]="TV.Notification.TeamRemoved",e[e["TV.BlackedOut"]=245]="TV.BlackedOut",e[e["TV.GameIsLive"]=246]="TV.GameIsLive",e[e["TV.OtherGames"]=247]="TV.OtherGames",e[e["TV.Time.Day"]=248]="TV.Time.Day",e[e["TV.Time.Today"]=249]="TV.Time.Today",e[e["TV.Time.Tomorrow"]=250]="TV.Time.Tomorrow",e[e["TV.Time.Today.On"]=251]="TV.Time.Today.On",e[e["TV.Time.Day.On"]=252]="TV.Time.Day.On",e[e["TV.Time.Tomorrow.On"]=253]="TV.Time.Tomorrow.On",e[e["TV.WatchItOn"]=254]="TV.WatchItOn",e[e["TV.WatchItOnLive"]=255]="TV.WatchItOnLive",e[e["TV.Rental.FutureDate"]=256]="TV.Rental.FutureDate",e[e["TV.StoreDemo.PlaybackAlertTitle"]=257]="TV.StoreDemo.PlaybackAlertTitle",e[e["TV.StoreDemo.PlaybackAlertDescription"]=258]="TV.StoreDemo.PlaybackAlertDescription",e[e["TV.StoreDemo.PurchaseAlertTitle"]=259]="TV.StoreDemo.PurchaseAlertTitle",e[e["TV.StoreDemo.PurchaseAlertDescription"]=260]="TV.StoreDemo.PurchaseAlertDescription",e[e["TV.Dialog.StreamSelector.Title"]=261]="TV.Dialog.StreamSelector.Title",e[e["TV.Dialog.StartOver.SelectedFeed"]=262]="TV.Dialog.StartOver.SelectedFeed",e[e["TV.Hud.SubscribedToChannel"]=263]="TV.Hud.SubscribedToChannel",e[e["TV.Hud.KeepWatchingChannel"]=264]="TV.Hud.KeepWatchingChannel",e[e["TV.Hud.StartWatching"]=265]="TV.Hud.StartWatching",e[e["TV.Hud.TitleAppleTVPlusOfferRedeemed"]=266]="TV.Hud.TitleAppleTVPlusOfferRedeemed",e[e["TV.Hud.TitleAppleTVPlusOfferRedeemed_tvOS"]=267]="TV.Hud.TitleAppleTVPlusOfferRedeemed_tvOS",e[e["TV.Playback.Duration.Minutes"]=268]="TV.Playback.Duration.Minutes",e[e["TV.GroupActivities.CannotSharePlayErrorTitle"]=269]="TV.GroupActivities.CannotSharePlayErrorTitle",e[e["TV.GroupActivities.NoAvailableTransactionErrorMessage"]=270]="TV.GroupActivities.NoAvailableTransactionErrorMessage",e[e["TV.GroupActivities.NoAvailableSubscriptionErrorMessage"]=271]="TV.GroupActivities.NoAvailableSubscriptionErrorMessage",e[e["TV.Misc.Cotylorhynchus"]=272]="TV.Misc.Cotylorhynchus",e[e["TV.Misc.Ennatosaur"]=273]="TV.Misc.Ennatosaur",e[e["TV.AppleMusic.ChannelPage.ButtonLabel"]=274]="TV.AppleMusic.ChannelPage.ButtonLabel"}(se||(se={})),function(e){e.Subscribe="Subscribe",e.Play="PlaySubscribed",e.PlayFreeWithSubscriptionOffer="PlayFree",e.SubscribeWithPlatter="SubscribeWithPlatter"}(le||(le={})),function(e){e.InstallApp="Install",e.OpenIn="OpenIn"}(ce||(ce={})),function(e){e.Get="Get",e.Play="ItunesPlay",e.Preorder="Preorder",e.Preordered="Preordered",e.Buy="Buy",e.Rent="Rent",e.Complete="Complete",e.Update="Update"}(ue||(ue={})),function(e){e[e.Itunes=0]="Itunes",e[e.Subscription=1]="Subscription",e[e.Federated=2]="Federated"}(de||(de={})),function(e){e[e.BuySeason=1]="BuySeason",e[e.Pass=2]="Pass",e[e.MultiPass=3]="MultiPass",e[e.CompleteMySeason=4]="CompleteMySeason",e[e.AllEpisodes=5]="AllEpisodes",e[e.Purchased=6]="Purchased",e[e.Invalid=7]="Invalid"}(fe||(fe={}))
var Ae,Ce,Ee,De=["actionDetails"],Ve=["channelPartner","placementType","placement","upsellScenario","upsellType","offerTrialPeriod","eligibilityType"]
function xe(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?xe(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){if(null==e)return{}
var n,r,a=function(e,t){if(null==e)return{}
var n,r,a={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n])
return a}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}!function(e){e.Button="button",e.CanonicalButton="BannerButton",e.HowToWatch="howToWatch",e.HowToWatchSeasonCard="iTunesSeason",e.Version="version",e.MovieBundle="MovieBundle",e.Swoosh="swoosh"}(Ae||(Ae={})),function(e){e.Buy="Buy",e.Get="Get",e.RentPlayNow="RentWatchNow",e.RentPlayLater="Rent",e.Cancel="Cancel",e.Dialog="Dialog",e.Navigate="Navigate",e.Play="Play",e.PlayLive="PlayLive",e.PlayFromBeginning="PlayFromBeginning",e.Punchout="Punchout",e.Select="select",e.Subscribe="Subscribe",e.Versions="Versions",e.ItunesSeason="ItunesSeason"}(Ce||(Ce={})),function(e){e.UserAction="userAction",e.AppLaunch="appLaunch",e.Deeplink="deeplink",e.IAM="inAppMessage",e.PostPlay="postPlay",e.BonusContent="extras",e.SharedActivityInvite="sharedActivityInvite"}(Ee||(Ee={}))
var Re=function(e){var t=e.actionDetails
return je(je(je({},Be(e,De)),t),{},{impressionIndex:e.index,impressionType:e.targetType,id:e.targetId})},_e=function(e,t){var n,r
return{name:e.actionDetails&&e.actionDetails.name,locationType:e.targetType,locationPosition:null!==(n=null!==(r=e.index)&&void 0!==r?r:t)&&void 0!==n?n:0,id:e.targetId,brandId:e.brandId||""}},Ne=function(e){if(!e)return{marketing:{},utsOfferMetrics:{}}
var t=e.channelPartner,n=void 0===t?void 0:t,r=e.placementType,a=void 0===r?void 0:r,o=e.placement,i=void 0===o?void 0:o,s=e.upsellScenario,l=void 0===s?void 0:s,c=e.upsellType,u=void 0===c?void 0:c,d=e.offerTrialPeriod,f=void 0===d?void 0:d,p=e.eligibilityType,m=void 0===p?void 0:p,v=Be(e,Ve)
return{utsOfferMetrics:je(je(je(je(je(je(je(je({},n?{channelPartner:n}:{}),a?{placementType:a}:{}),i?{placement:i}:{}),l?{upsellScenario:l}:{}),u?{upsellType:u}:{}),f?{offerTrialPeriod:f}:{}),m?{offerType:m}:{}),m?{eligibilityType:m}:{}),marketing:v}},Fe=function(e){return e==ue.Buy||e==ue.Get||e==ue.Rent||e==ue.Preorder?Ce.Buy:e==le.PlayFreeWithSubscriptionOffer||e==le.Play||e==ue.Play?Ce.Play:e==le.Subscribe||e==a.ActivateCarrierOffer||e==le.SubscribeWithPlatter?Ce.Subscribe:e==ce.OpenIn||e==ce.InstallApp?Ce.Punchout:Ce.Select}
function Le(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Le(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=function(e,t,n,r,a,o){var i=Ge(n,t,e,a||Ae.Button,r,o)
return{click:i,impressions:Re(i),location:_e(i)}},We=function(e,t,n,r){var a={targetType:n||Ae.Button,targetId:e,actionType:t?ze(t):Ce.Navigate,actionDetails:{name:r||e}}
return{click:a,impressions:Re(a),location:_e(a)}},Ge=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ae.Button,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=n.transactionInformation,s=i||{},l=s.bundleType,c=void 0===l?void 0:l,u=s.offerType,d=void 0===u?void 0:u,f=s.type,p=void 0===f?void 0:f,m=s.metrics,v=void 0===m?void 0:m,y=s.channelId,h=void 0===y?void 0:y,g=Ne(v),b=g.marketing,T=g.utsOfferMetrics,S=n.transactionInformation,w=Ue(Ue(Ue(Ue(Ue(Ue({actionType:Fe(t),targetType:r,targetId:S&&S.adamId||e||S&&S.playbackInformation&&S.playbackInformation.canonicalId||"",actionDetails:qe(n,t,a,o)},h?{brandId:h}:{}),d?{offerType:d}:{}),p?{type:p}:{}),c?{bundleType:c}:{}),T||{}),Object.keys(b).length?{marketing:b}:{})
return w}
function qe(e,t,n,r){return function(e){return[ue.Get,ue.Preorder,le.Subscribe,a.ActivateCarrierOffer,ue.Buy,ue.Rent].includes(e)}(t)?((!e||e&&!e.transactionInformation)&&ve(r).log("METRICS: Attempting to extract buyParams from an invalid data model"),{buyParams:e.transactionInformation.buyParams,name:n||t}):{name:n||t}}var ze=function(e,t){return e==a.Buy?Ce.Buy:e==a.Get?Ce.Get:e==a.RentPlayLater?Ce.RentPlayLater:e==a.RentPlayNow?Ce.RentPlayNow:e==a.Preorder?Ce.Buy:e==a.Play?Ce.Play:e==a.Subscribe?Ce.Subscribe:e==a.Cancel?Ce.Cancel:t==i.CanonicalOffersPage?Ce.Navigate:t==i.VersionPickerPage?Ce.Versions:t==i.TransactionConfirmationPage||t==i.SubscriptionConfirmationPage?Ce.Navigate:Ce.Select},Qe=function(e){return Ke(e,u.ResourceImagePlayGlyph)},Ke=function(e,t){return he([{rawString:t,kind:c.ImageString},e.display[0]],e.voiceOverText)},Ye=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=e&&e.isContentUnwatched||!1,s=e&&e.isAtBeginningOfShow||!1,l=Se("TV.Button.PlayEpisode",void 0,o)
if(0==(null==a||null===(t=a.playbackInformation)||void 0===t?void 0:t.limitPlayback))l=Se("TV.Misc.Cotylorhynchus",void 0,o)
else if(null!=a&&null!==(n=a.playbackInformation)&&void 0!==n&&n.limitPlayback)l=Se("TV.Button.Play",void 0,o)
else if(e&&e.isFinished)l=Se("TV.Button.PlayAgain",void 0,o)
else if(e&&e.willResume)l=Se("TV.Button.ResumeEpisode",void 0,o)
else if(r)l=Se("TV.Button.PlayFreeEpisode",void 0,o)
else if(i)if(s)l=Se("TV.Button.PlayFirstEpisode",void 0,o)
else{var c=e&&e.seasonNumber,u=e&&e.seasonTitle,d=e&&e.episodeNumber,f=e&&e.fractionalEpisodeNumber
if(c&&d){var p,m,v=Je(d,f,o)
l=null!==(p=ve(o))&&void 0!==p&&null!==(m=p.featureEnablers)&&void 0!==m&&m.isTVShowV2Enabled&&u?Se("TV.Button.PlayEpisodeAbbreviated",{episodeNumber:v},o):Se("TV.Button.PlaySeasonEpisode",{seasonNumber:we(c,o),episodeNumber:v},o)}}return Qe(l)},Xe=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=Se("TV.Button.Play",void 0,o)
return 0==(null==a||null===(t=a.playbackInformation)||void 0===t?void 0:t.limitPlayback)?i=Se("TV.Misc.Cotylorhynchus",void 0,o):null!=a&&null!==(n=a.playbackInformation)&&void 0!==n&&n.limitPlayback?i=Se("TV.Button.Play",void 0,o):e&&e.willResume?i=Se("TV.Button.Resume",void 0,o):0!=(null==e?void 0:e.isContentUnwatched)||r?r&&(i=Se("TV.Button.PlayFreeMovie",void 0,o)):i=Se("TV.Button.PlayAgain",void 0,o),Qe(i)},Je=function(e,t,n){var r,a=""
return(t||0===t)&&(a=t-Math.floor(t)!=0?null!==(r=function(e,t,n){var r,a
if(!ve(n).localizeDecimalNumber)throw new Error("missing localizeDecimalNumber delegate")
return null===(r=(a=ve(n)).localizeDecimalNumber)||void 0===r?void 0:r.call(a,e,1)}(t,0,n))&&void 0!==r?r:"":we(t,n)),0!=a.length||!e&&0!==e||(a=we(e,n)),a}
function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et,tt=function(e,t,n,r){var i,s=(Ze(i={},a.Buy,"TV.Button.Buy"),Ze(i,a.RentPlayNow,"TV.Button.RentAndWatchNow"),Ze(i,a.Preorder,"TV.Button.PreOrder"),Ze(i,a.RentPlayLater,"TV.Button.RentAndWatchLater"),i)
if(rt(e))return{viewType:o.Button,router:e,display:{title:Se("TV.Confirmation.VersionsButton",void 0,r)},metrics:We("version")}
var l,c,u=t||Se(s[e.actionType],void 0,r)
return{viewType:o.TransactionButton,metrics:$e(e,e.actionType,e.transactionInformation.playbackInformation&&e.transactionInformation.playbackInformation.referenceId||"",null==t||null===(l=t.display)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.rawString,void 0,r),display:{title:u,subtitle:n},action:e}},nt=function(e,t){return{viewType:o.Button,metrics:We("cancel",a.Cancel),display:{title:null!=e?e:Se("TV.Button.Cancel",void 0,t)},action:{actionType:a.Cancel,requiresAuthentication:!1}}},rt=function(e){return e.pageType==i.VersionPickerPage},at=function(e,t,n){var r
"Add"==t?r=Ke(Se("TV.Button.Add",void 0,n),u.ResourceImageAddToUpNext):"Remove"==t?r=Ke(Se("TV.Button.Added",void 0,n),u.ResourceImageRemoveFromUpNext):(ve(n).log("VDSUpNextButton: Unable to determine watchlist state."),r=Se("TV.Button.Add",void 0,n))
var i={actionType:a.UpNextAction,id:e,requiresAuthentication:!0,actionState:t}
return{viewType:o.UpNextButton,display:{title:r},action:i,metrics:$e(i,a.UpNextAction,"",void 0,void 0,n)}}
function ot(e,t,n,r,o){var s={requiresAuthentication:!1,actionType:a.Promise,wrappedAction:{promiseType:"NavigateToPage",actionOrPageType:i.ProductPage,params:{pageType:i.ProductPage,id:e,productPageType:t,showId:r}}}
return ve(o).isPlatformWeb&&(s.url=n),s}!function(e){e.canonicalId="canonicalId",e.playable="playable",e.seasonId="seasonId",e.showId="showId",e.tab="tab",e.action="action",e.ignoreExtras="ignoreExtras",e.upnext="upnext",e.offer="offer",e.offerId="offerId",e.trailer="trailer",e.trailerId="trailerId",e.sharedWatchId="sharedWatchId",e.groupActivityDay="groupActivityDay",e.binge="binge",e.postPlay="postPlay"}(et||(et={}))
var it,st=function(e){var t=e.split("?")
if(null==t||t.length<=1)return{}
var n=t[1],r={}
0===n.indexOf("?")&&(n=n.substring(1,n.length))
for(var a=n.split("&"),o=0,i=a.length;o<i;o++){var s=a[o].split("=")
r[s[0]]=s[1]}return r},lt={url:"",bgColor:"",width:0,height:0,joeColor:"",isP3:!1,hasAlpha:!1,supportsLayeredImage:!1}
!function(e){e[e.iTunes=0]="iTunes",e[e.Subscription=1]="Subscription"}(it||(it={}))
var ct=["versions"]
function ut(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?ut(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function mt(e,t,n){var a,o,i,s,l,c=e.channel,u=e.metadataContainer,d=u.utsMetadata,f=u.seasonNumbers,p=void 0===f?[]:f,m="tvs.sbd.9000"==(null==c?void 0:c.id),v=function(e,t){var n,r,a=e.find((function(e){return e.metadata.channelId==t.metadata.channelId&&e.actionType==t.actionType&&e.kind==de.Federated}))
if(!a||(null===(n=e[e.length-1])||void 0===n?void 0:n.kind)!=de.Federated)return[].concat(function(e){if(Array.isArray(e))return pt(e)}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return pt(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])
if(!a.versions||0==a.versions.length){a.versions
var o=function(e,t){if(null==e)return{}
var n,r,a=function(e,t){if(null==e)return{}
var n,r,a={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n])
return a}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,ct)
a.versions=(a.versions||[]).concat(o)}return a.versions=(a.versions||[]).concat(t),e},y=d.type,h=!(y!=O.Show||!e.punchoutUrls),g=h?void 0:e.playable,b=g,T=fr(b,n),S=c&&c.isInstalled,w=b?b.isEntitledToPlay:c&&c.isInstalled&&c.isConsented,P=!(null==b||!b.isEntitledToPlay||null==b||null===(a=b.punchoutUrls)||void 0===a||!a.play),k=w?ce.OpenIn:ce.InstallApp,I={name:d.type==O.Episode?null==d?void 0:d.showTitle:null==d?void 0:d.title,isInstalled:S,channelId:null!==(o=null==c?void 0:c.id)&&void 0!==o?o:"",channelName:null!==(i=null==c?void 0:c.name)&&void 0!==i?i:"",willResume:!1,isAdultContent:null==d?void 0:d.isAdultContent,isNetflix:m},A=(null==b?void 0:b.title)||d.title,C=void 0,E=void 0
if(h){var D=e.punchoutUrls
C=ht(c,D,d),E=Se("TV.Punchout",void 0,n)}else{if(!b)return ve(n).log("should have valid playable"),t
C=gt(b,c,d),E=P?yt(d.type,e,n):Se("TV.Punchout",void 0,n)}var V,x,j=vt(c)
if(h||y==O.Show)return v(t,{kind:de.Federated,action:C,actionType:k,metadata:dt(dt({},I),{},{actionLabel:E,title:A,id:d.id,extendedLanguagesDescription:T,contentType:r.Show,appName:j,art:null!==(V=null==c||null===(x=c.images)||void 0===x?void 0:x.appIcon)&&void 0!==V?V:lt,availableSeasons:p&&dr(p,n),availableSeasonsCount:p.length,isEntitledToPlay:P}),playable:g})
var M=null==g?void 0:g.contentType,B=nr(e,void 0,n)
return v(t,{kind:de.Federated,actionType:k,action:C,metadata:dt(dt(dt({},B),I),{},{availableSeasons:"",title:A,availableSeasonsCount:0,contentType:M==O.Movie?r.Movie:M,appName:j,extendedLanguagesDescription:T,actionLabel:E,art:null!==(s=null==c||null===(l=c.images)||void 0===l?void 0:l.appIcon)&&void 0!==s?s:lt,isEntitledToPlay:P}),playable:g})}var vt=function(e){return(null==e?void 0:e.title)||(null==e?void 0:e.appName)||""},yt=function(e,t,n){if(e==O.Show||e==O.Episode){var r=nr(t,void 0,n)
return Ye(r,void 0,void 0,n)}if(e==O.SportingEvent){var a=ve(n).localize("TV.Button.Watch")?Se("TV.Button.Watch",void 0,n):Se("TV.HowToWatch.LiveNow",void 0,n)
return Qe(a)}var o=nr(t,void 0,n)
return Xe(o,void 0,void 0,n)},ht=function(e,t,n){var r=t&&t.open
return{open:r,play:t&&t.play||r,channel:e,canonicalId:null==n?void 0:n.id,isAdultContent:null==n?void 0:n.isAdultContent}},gt=function(e,t,n){var r=e.punchoutUrls,a=r&&r.open||""
return{open:a,play:r&&r.play||a,channel:t,canonicalId:e.canonicalId,externalId:e.externalId,referenceId:e.contentId,isAdultContent:null==n?void 0:n.isAdultContent}},bt=function(e){var t=e.offerWrappers,n=e.channelsDict,r=e.upsellOffersDict,a=e.metadataContainer,o=e.restorationContext,i=e.triggerSource,s=e.dependencies,l=[]
return t.forEach((function(e){if(e.punchoutUrls){var c=mt(e,[],s)
l=l.concat(c)}else{var u=e.playables,d=e.comingSoonChannel,f=e.action,p=e.seasonNumbers,m=e.seasonsPlayables
a.seasonNumbers=p||a.seasonNumbers
var v=[]
u&&u.length?v=null==u?void 0:u.reduce((function(e,l){var c,u=null==n?void 0:n[l.channelId],d=u&&u.isItunes,p=u&&(u.isApSubscription||u.isTvAppBrand),v=!p&&!d&&l.punchoutUrls
if(d&&!ve(s).isPlatformWeb){var y={playable:l,channel:u,metadataContainer:a},h=(m||[]).map((function(e){return{playable:e,channel:u,metadataContainer:a}}))
return In(f,y,h,i,e,s)}return p?(c=function(e){return Tt(e)||function(e){var t=e&&e.entitlementReason==A.Subscription&&e.isEntitledToPlay
return St(e)&&t}(e)},t.flatMap((function(e){return e.playables})).find((function(e){return c(e)}))?e:Gr({upsellOffer:null==r?void 0:r[u.id],playable:l,channel:u,metadataContainer:a,triggerSource:i},e,o,f,s)):v?mt({playable:l,channel:u,metadataContainer:a},e,s):e}),[]):d&&(v=Gr({upsellOffer:null==r?void 0:r[d.id],channel:d,metadataContainer:a,triggerSource:i},[],o,void 0,s)),l=l.concat(v||[])}})),l}
function Tt(e){return St(e)&&e.entitlementReason==A.Free}function St(e){var t=Date.now()
return e&&e.contentType==O.SportingEvent&&e.startAirTime&&e.startAirTime>t}var wt=function(e){return{playbackInformation:Pt(e),playbackMetadata:{duration:e.duration},actionType:a.Play,requiresAuthentication:!1}},Pt=function(e){return{adamId:e.assets.assetAdamId,canonicalId:e.id,externalId:e.assets.assetAdamId,mediaType:r.Trailer,hlsUrl:e.assets.hlsUrl}},Ot=function(e,t,n){var r
return null!=t&&null!==(r=t.assets)&&void 0!==r&&r.hlsUrl?{action:wt(t)}:{router:{pageType:i.StoreDemoModeAlert,display:{title:Se("TV.StoreDemo.PlaybackAlertTitle",{channel:e},n),description:Se("TV.StoreDemo.PlaybackAlertDescription",{channel:e},n)}}}},kt=function(e,t){if(e==ue.Buy||e==ue.Rent||e==ue.Preorder)return It(t)},It=function(e){return{router:{pageType:i.StoreDemoModeAlert,display:{title:Se("TV.StoreDemo.PurchaseAlertTitle",void 0,e),description:Se("TV.StoreDemo.PurchaseAlertDescription",void 0,e)}}}},At=function(e){var t=e.content,n=!0
return t.contentAvailability&&t.contentAvailability.availabilityStatus&&(n=t.contentAvailability.availabilityStatus==h.Available),n},Ct=String.fromCharCode(8296),Et=String.fromCharCode(8297),Dt=function(e){return Ct+e+Et},Vt=function(e){return void 0!==e&&null!=e},xt=function(e){return e&&Object.keys(e).forEach((function(t){return!Vt(e[t])&&delete e[t]}))}
function jt(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function Mt(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Mt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t=function(e,t){var n,r,s,l,c,u=e.currentlySelectedLivePlayable,d=e.contentMetadata,f=e.playbackMetadata,p=e.currentlySelectedStartOverPlayable,m=e.alternateStreams,v=e.currentlySelectedStreamText,y=e.shouldDisplayStreamSelectionButton,h=e.utsContent,g=e.streamSelectionButtonNavigatesBack,b=[{title:Se("TV.Button.WatchLive",void 0,t),action:{actionType:a.Play,requiresAuthentication:!0,playbackInformation:u,playbackMetadata:d},metrics:$t(Ce.PlayLive,u)},{title:Se("TV.Button.WatchFromBeginning",void 0,t),action:{actionType:a.Play,requiresAuthentication:!0,playbackInformation:p,playbackMetadata:d},metrics:$t(Ce.PlayFromBeginning,p)}]
y&&(g?l={actionType:a.Cancel,requiresAuthentication:!1}:c=Lt(m,d,h,u,f,t),b.push({title:Se("TV.Button.BroadcastOptions",void 0,t),action:l,router:c,metrics:$t(Ce.Versions,u)}))
var T=ve(t),S=null!==(n=d.title)&&void 0!==n?n:Te(Se("TV.Button.WatchLive",void 0,t)),w=Ht(d,T.isPlatformTV?void 0:v,void 0,t),P=null!==(r=null!==(s=null==f?void 0:f.artwork)&&void 0!==s?s:d.artwork)&&void 0!==r?r:d.startOverDialogLiveImage
P&&S||T.log("Live Playback","Unable to find artwork for StartOver dialog")
var O=d.id
return{pageType:i.LivePlaybackStartOverSelectionPage,display:{title:ye(S,void 0,t),description:w,coverArt:P,currentlySelectedStreamText:v?Se("TV.Dialog.StartOver.SelectedFeed",{feed:v},t):void 0},utsContent:h,items:b.map((function(e){var t={click:Bt({targetId:O,targetType:Ae.Button,actionDetails:{name:Te(e.title)||""}},e.metrics)}
return{viewType:o.Button,display:{title:e.title},action:e.action,metrics:t,router:e.router}})),originalUrl:u.url,metrics:{dialogId:d.id,dialogType:"WatchLiveBeginning"}}},Nt=function(e){var t=e.playables,n=e.metadata,r=e.utsContent,s=e.playbackMetadata,l=e.currentlySelectedPlayableLocale,c=e.dependencies
return t.map((function(e,u){var d,f,p,m,v,y
ve(c).isPlatformTV?y=Ut(e,t,n,r,s,!0,c):v={requiresAuthentication:!1,actionType:a.Promise,wrappedAction:{params:[e,t,n,r,s,!1],promiseType:"NavigateToPage",actionOrPageType:i.LivePlaybackStartOverSelectionPage}}
var h=null!==(d=null!==(f=null==s?void 0:s.artwork)&&void 0!==f?f:n.art)&&void 0!==d?d:n.startOverDialogLiveImage
return{viewType:o.VersionPickerOfferItem,display:{title:ye(null!==(p=null!==(m=n.title)&&void 0!==m?m:e.title)&&void 0!==p?p:"",void 0,c),versionCoverArt:h,languagesDescription:Ht(n,e.locale,s,c),isCurrentlySelected:l==e.locale},metrics:Ft(e),action:v,router:y}}))},Ft=function(e){var t=$t(Ce.Play,e)
return{click:Bt({targetId:e.playableId,targetType:Ae.Version},t)}},Lt=function(e,t,n,r,a,o){return{pageType:i.BroadcastOptions,display:{title:Se("TV.Dialog.StreamSelector.Title",void 0,o)},offers:Nt({playables:e,metadata:t,playbackMetadata:a,utsContent:n,currentlySelectedPlayableLocale:r.locale,dependencies:o}),metrics:{id:r.playableId||""}}},Ut=function(e,t,n,r,a,o,i){var s=Yt(e)
if(!s)throw new Error("Attempted to create a StartOver playable for an item that doesn't support StartOver")
return _t({currentlySelectedLivePlayable:e,currentlySelectedStartOverPlayable:s,alternateStreams:t,contentMetadata:n,utsContent:r,playbackMetadata:a,currentlySelectedStreamText:e.locale,shouldDisplayStreamSelectionButton:!0,streamSelectionButtonNavigatesBack:o},i)}
function Ht(e,t,n,r){var a,o=Wt(null==n?void 0:n.duration,r),i=[e.leagueShortName,t,o].filter((function(e){return e})),s=[e.leagueName,t,o].filter((function(e){return e})),l=(pe.isPlatformTV?s:i).join(" ".concat(function(e){return""==we(0,e)?"-":""}(r)," "))
return{display:[{rawString:l,kind:c.String}],voiceOverText:ke.apply(void 0,[r].concat((a=s,function(e){if(Array.isArray(e))return jt(e)}(a)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return jt(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))}}var $t=function(e,t){var n=t.referenceId,r=t.externalId,a=t.mediaType,o=t.channelId
return Bt(Bt(Bt(Bt({actionType:e},a?{contentType:a}:{}),o?{brandId:o}:{}),n?{referenceId:n}:{}),r?{externalId:r}:{})},Wt=function(e,t){var n
if(void 0!==e)return null!==(n=Te(Se("TV.Playback.Duration.Minutes",{min:"".concat(Math.ceil(e/60))},t)))&&void 0!==n?n:void 0}
function Gt(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Gt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}var Kt=function(e,t,n){var r,a
return function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length>1,o=arguments.length>5?arguments[5]:void 0,i=e[0],s=Yt(i)
if(!s)throw new Error("Attempted to create a StartOver playable for an item that doesn't support StartOver")
return _t({currentlySelectedLivePlayable:i,currentlySelectedStartOverPlayable:s,alternateStreams:e.slice(1),utsContent:t,contentMetadata:n,currentlySelectedStreamText:i.locale,shouldDisplayStreamSelectionButton:a,playbackMetadata:r},o)}([e.action.playbackInformation].concat((a=(null!==(r=e.versions)&&void 0!==r?r:[]).map((function(e){var t
return null===(t=e.action)||void 0===t?void 0:t.playbackInformation})),function(e){if(Array.isArray(e))return Qt(e)}(a)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return Qt(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).filter(Vt),t,e.metadata,e.action.playbackMetadata,void 0,n)},Yt=function(e){var t
if(null!==(t=e.streamCapability)&&void 0!==t&&t.supportsStartOver&&e.hlsUrl)return qt(qt({},e),{},{hlsUrl:e.hlsUrl+"&startOver=true"})}
function Xt(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Xt(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en,tn,nn=function(e,t,n){var r=rn(e,t,n)
return{click:r,impressions:Re(r),location:_e(r,t)}},rn=function(e,t,n){var r=Ge(e.metadata.id,e.actionType,e.action,Ae.CanonicalButton,void 0,n)
if(e.actionType==ue.Buy||e.actionType==ue.Get||e.actionType==ue.Preorder||e.actionType==le.Subscribe||e.actionType==ue.Rent||e.actionType==ue.Play||e.actionType==le.Play||e.actionType==le.PlayFreeWithSubscriptionOffer){var a=e.action,o=a.transactionInformation&&a.transactionInformation.playbackInformation||a.playbackInformation
o||ve(n).log("unable to generate playable metrics")
var i=o||{},s=i.referenceId,l=i.externalId,c=Jt(Jt(Jt({index:t},r),{},{contentType:e.metadata.contentType,brandId:e.metadata.channelId},s?{referenceId:s}:{}),l?{externalId:l}:{})
if(e.actionType==le.Subscribe){var u=e.action.transactionInformation,d=u&&u.type,f=u&&u.bundleType,p=u&&u.metrics,m=Ne(p),v=m.marketing,y=m.utsOfferMetrics
return Jt(Jt(Jt({},c),{},{offerType:e.metadata.eligibilityType,type:d,bundleType:f},v?{marketing:v}:{}),y)}return c}var h=e.action,g=h.externalId,b=h.referenceId
return Jt(Jt(Jt(Jt({index:t},r),{},{contentType:e.metadata.contentType},b?{referenceId:b}:{}),g?{externalId:g}:{}),{},{brandId:e.metadata.channelId})}
function an(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.UpNext="upNext",e.PostPlayUpNext="postPlayUpNext",e.PostPlaySuggested="postPlaySuggested",e.Trailer="trailer",e.BonusContent="bonusContent",e.EpisodeLockup="episodeLockup",e.DeepLink="deepLink",e.HardwarePlayButton="hardwarePlayButton",e.SharedActivityInvite="sharedActivityInvite",e.ItunesExtra="iTunesExtra",e.DownloadButton="downloadButton",e.Canonical="canonical",e.EpicStage="epicStage"}(tn||(tn={}))
var ln=(sn(en={},tn.UpNext,Ee.UserAction),sn(en,tn.PostPlayUpNext,Ee.PostPlay),sn(en,tn.PostPlaySuggested,Ee.PostPlay),sn(en,tn.Trailer,Ee.UserAction),sn(en,tn.BonusContent,Ee.BonusContent),sn(en,tn.EpisodeLockup,Ee.UserAction),sn(en,tn.DeepLink,Ee.Deeplink),sn(en,tn.HardwarePlayButton,Ee.UserAction),sn(en,tn.SharedActivityInvite,Ee.SharedActivityInvite),sn(en,tn.ItunesExtra,Ee.UserAction),sn(en,tn.DownloadButton,Ee.UserAction),sn(en,tn.Canonical,Ee.UserAction),sn(en,tn.EpicStage,Ee.UserAction),en),cn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n
return t=e,n=[{key:"getPlayOfferData",value:function(t,n){var r,o,s,l,c=t.playTriggerSource,u=t.playables,f=null===(r=u[0])||void 0===r?void 0:r.channelId,p=t.channels,m=e._makeMetadata(t.metadata),v=null,y=u[0]
if(y.contentType==O.Extra&&y.isEntitledToPlay){var h=null==p?void 0:p[f],g={playable:y,channel:h,metadataContainer:m},b=m.utsMetadata,T=wr({playable:y,channel:h,utsMetadata:b},void 0,void 0,n),S=kr(g,!1,void 0,n)
o=Er(T,S)}else{var w=bt({offerWrappers:[{playables:u}],channelsDict:p,upsellOffersDict:t.upsellOffer,metadataContainer:m,triggerSource:c,restorationContext:t.promiseContext,dependencies:n}),P=(l=w,1,function(e){if(Array.isArray(e))return e}(l)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),1!==n.length);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(l)||function(e,t){if(e){if("string"==typeof e)return an(e,1)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,1):void 0}}(l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],k=void 0===P?void 0:P,I=c==tn.UpNext||c==tn.PostPlayUpNext||c==tn.PostPlaySuggested,A=null==p?void 0:p[f],C={playable:y,channel:A,metadataContainer:m},E=m.utsMetadata
if(wr({playable:y,channel:A,utsMetadata:E},void 0,void 0,n),kr(C,!1,void 0,n),k&&(s=nn(k,0,n)),y.isItunes&&(null==k?void 0:k.actionType)==ue.Play){var D=k
if(!D.action.playbackInformation)throw new Error("Trying to construct play action for something that cannot be played")
c==tn.ItunesExtra&&(D.action.playbackInformation.isCowatchingProhibited=!0,D.action.playbackInformation.cowatchingProhibitedReason=d.ItunesExtras)
var V=ve(n).isPlatformNativeDesktop?D.action.playbackInformation.extras:void 0
o=Er(D.action.playbackInformation,D.action.playbackMetadata,!0,V)}else if(y.isItunes&&c==tn.SharedActivityInvite&&t.upsellOffer)w.length?v=va({playable:y,channels:p,upsellOffers:t.upsellOffer,dataModels:w,dependencies:n}):(ve(n).log("no itunes offers on share play"),v=function(e,t){var n,r=Se("TV.GroupActivities.CannotSharePlayErrorTitle",void 0,t)
if(e==it.iTunes)n=Se("TV.GroupActivities.NoAvailableTransactionErrorMessage",void 0,t)
else{if(e!=it.Subscription)return ve(t).log("unknown upsell offer alert page type"),null
n=Se("TV.GroupActivities.NoAvailableSubscriptionErrorMessage",void 0,t)}return function(e,t){return{pageType:i.SharedWatchAlert,display:{title:e,description:t}}}(r,n)}(it.iTunes,n))
else if((null==k?void 0:k.kind)==de.Subscription){var x,j=k.action,M=j.playbackInformation,B=j.isBundleOffer
if(B&&(c==tn.UpNext||c==tn.BonusContent||c==tn.PostPlaySuggested||c==tn.PostPlayUpNext)&&k.actionType==le.Subscribe&&k.action.transactionInformation){var R=Ua(k,c)
o=Ha({transactionInformation:k.action.transactionInformation,notificationParams:k.action.notificationParams,isBundleOffer:B,postActionUrl:R})}else if(!I&&c!=tn.BonusContent&&c!=tn.SharedActivityInvite||k.actionType!=le.Subscribe)if((null==k?void 0:k.actionType)!=le.Play||!M||!k.action.playbackMetadata||null!=M&&null!==(x=M.streamCapability)&&void 0!==x&&x.supportsStartOver)if(k.actionType==le.PlayFreeWithSubscriptionOffer&&M&&k.action.playbackMetadata){var _,N=A&&(null===(_=t.upsellOffer)||void 0===_?void 0:_[A.id]);(v=N&&null!=N&&N.editorialData?ma({channel:A,upsellOffer:N,playable:y,dataModel:k,subscriptionTriggerSource:void 0,subscriptionUIContext:void 0,playOfferTriggerSource:y.isEntitledToPlay?void 0:c,dependencies:n}):null)||ve(n).log("VDSPlayOfferInterface","Error constructing upsell for free play offer"),o=v?Dr(M,k.action.playbackMetadata,!0,v):Er(M,k.action.playbackMetadata)}else k.supportsStreamSelectionPage&&(v=Kt(k,E,n))
else{var F=p[f],L=m.utsMetadata.type==O.SportingEvent&&F.isAppleTvPlus&&(null==y?void 0:y.isEntitledToPlay)
if(ve(n).settings.isInRetailDemoMode&&!L){var U=F.title||""
v=Ot(U,void 0,n).router}else o=Er(M,k.action.playbackMetadata)}else{var H,$=p[f],W=$&&(null===(H=t.upsellOffer)||void 0===H?void 0:H[$.id]);(v=W?ma({channel:p[f],upsellOffer:W,playable:y,dataModel:k,subscriptionTriggerSource:void 0,subscriptionUIContext:void 0,playOfferTriggerSource:c,dependencies:n}):null)&&v.items&&v.items.length&&v.items[0]&&v.items[0].action&&c!=tn.PostPlaySuggested&&c!=tn.PostPlayUpNext&&(v.items[0].action.postActionUrl=y.url)}}else(null==k?void 0:k.kind)==de.Federated&&(o={actionType:a.OpenIn,punchoutInformation:k.action,requiresAuthentication:!0,title:k.metadata.name,type:k.metadata.contentType})}var G={}
if(o||v)return o&&(G.action=o),v&&(G.router=v),s&&(G.metrics=s),G}},{key:"_makeMetadata",value:function(e){var t={utsMetadata:e},n=e
return null!=n&&n.transactionSourceRef&&null!=n&&n.playableSourceRef&&null!=n&&n.sharedWatchUrl&&(t.sharedWatchMetadata={transactionSourceRef:null==n?void 0:n.transactionSourceRef,playableSourceRef:null==n?void 0:n.playableSourceRef,sharedWatchUrl:null==n?void 0:n.sharedWatchUrl,title:null==n?void 0:n.title,type:null==n?void 0:n.type,id:null==n?void 0:n.id}),t}}],n&&on(t,n),e}()
function un(e,t){var n
if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=dn(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
var r=0,a=function(){}
return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1
return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next()
return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function dn(e,t){if(e){if("string"==typeof e)return fn(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}function fn(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}var pn=function(e){var t=e.languageMetaData,n=e.includeAudioTypes,r=e.includeSubtitleTypes,a=e.maxLanguagesToDisplay,o=e.dependencies,i=t.primaryAudioLocale,s=t.closedCaptionedLocales,l=t.subtitledLocales,c=t.subtitlesAlwaysOnLocales,u=t.audioTrackLocales,d=t.adLocales,f=t.sdhLocales,p=t.localesDict,m=t.localesAudioFormatsDict,v={},y=function(e,t){var n=v[e]&&v[e].tag||""
if(n.length){var r=[]
r.push(n),t&&r.push(t),n=ke.apply(void 0,[o].concat(r))}else n=t
v[e]={tag:n,displayName:p[e]}}
return n&&(i&&y(i,""),u.forEach((function(e){var t,n=""
m[e]&&m[e].length&&(n=ke.apply(void 0,[o].concat(function(e){if(Array.isArray(e))return fn(e)}(t=m[e])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||dn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),y(e,n)})),d.forEach((function(e){var t=Dt("AD")
y(e,t)}))),r&&(l.forEach((function(e){y(e,"")})),s.forEach((function(e){var t=Dt("CC")
y(e,t)})),f.forEach((function(e){var t=Dt("SDH")
y(e,t)})),c.forEach((function(e){var t=ve(o).localize("TV.AlwaysOn")
y(e,t)}))),mn(v,a,o)},mn=function(e,t,n){var r=Object.keys(e)
if(0!=r.length){var a=r.sort((function(t,n){var r=e[t].displayName,a=e[n].displayName
return r>a?1:r<a?-1:0})),o=ve(n).settings.language.replace("-","_"),i=a.indexOf(o)
if(-1==i&&(o=o.split("_")[0],i=a.indexOf(o)),-1==i)for(var s=0;s<a.length;s++){var l=a[s]
if((i=l.includes(o)?s:-1)>-1){o=l
break}}return i>-1&&(a.splice(i,1),a.unshift(o)),t&&a.splice(t,a.length-t),a.reduce((function(t,r){var a=e[r].displayName,o=e[r].tag
if(o.length&&(a+=" ("+o+")"),t.length){var i=[]
return i.push(t),i.push(a),ke.apply(void 0,[n].concat(i))}return a}),"")}},vn=function(e,t){var n,r=[],a=un(Y)
try{for(a.s();!(n=a.n()).done;){var o=n.value
if(e.includes(o)){var i=K[o]&&Dt(K[o])
i?r.push(i):ve(t).log("audioTrackFormatsMap: no matching audio string for key",o)}}}catch(e){a.e(e)}finally{a.f()}return r},yn=["versions"],hn=["versions"]
function gn(e,t){if(null==e)return{}
var n,r,a=function(e,t){if(null==e)return{}
var n,r,a={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n])
return a}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bn(e){return function(e){if(Array.isArray(e))return wn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Sn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||Sn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){if(e){if("string"==typeof e)return wn(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}function wn(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function Pn(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Pn(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t,n,o,i,s){var l=t.playable,c=t.metadataContainer,u=c.utsMetadata,d=c.isPremium,f=c.seasonsDict,p=void 0===f?{}:f,m=c.smartEpisodeMetadata,v=[],y=l.contentType,h=Un(l,s),b=!(!h.length&&!i.length),w=!1
if(b?v=h:n.length&&(v=Un(n[0].playable,s),y=n[0].playable.contentType,w=!0),e){var P=Wn(e)
P&&(v=v.filter((function(e){return e.kind==S.Complete&&P==S.Buy||e.kind==P})))}o==tn.ItunesExtra&&(v=v.filter((function(e){return Dn(e)&&Mr(e)})))
var k=fr(l,s)
return v.reduce((function(c,f){f.kind||ve(s).log("Critical error, itunes offer kind is invalid")
var v=f.kind,h=Hn(v),b=zn(l,s),P=b.audio,I=b.subtitles,A=f.kind==S.Redownload||f.kind==S.Purchased,C=!(!A||!f.rentalId),E=f.priceFormatted,D=function(e,t,n,r){return n==ue.Buy||n==ue.Complete||n==ue.Rent?[Qn(e,t,r)]:n==ue.Play?null!==(o=null===(i=t.playable.playbackModes)||void 0===i?void 0:i.map((function(n){return Sr(t,e,n,void 0,r)})))&&void 0!==o?o:[Sr(t,e,void 0,void 0,r)]:n==ue.Preorder?[Qn(e,t,r)]:n==ue.Preordered?[{actionType:a.Preordered,requiresAuthentication:!1}]:n==ue.Get?[Qn(e,t,r)]:[]
var o,i}(f,t,h,s)
if(y==O.Movie){var V=!C&&f.capabilities&&f.capabilities.includes(T.iTunesExtras),x=D.flatMap((function(e){var n
return null!==(n=function(e){var t,n,r,a,o,i=e.playableContainer,s=e.price,l=e.isPurchased,c=e.isRented,u=e.subtitlesDescription,d=e.extendedLanguagesDescription,f=e.audio,p=e.actionType,m=e.action,v=e.hasExtras,y=e.isPremium,h=e.dependencies,g=nr(i,void 0,h),b=null===(t=i.playable)||void 0===t||null===(n=t.itunesMediaApiData)||void 0===n||null===(r=n.offers)||void 0===r||null===(a=r.find((function(e){return e.expectedReleaseDate})))||void 0===a?void 0:a.expectedReleaseDate,T=null===(o=i.playable.itunesMediaApiData)||void 0===o?void 0:o.futureRentalAvailabilityDate,S=b?new Date(b):void 0,w=T?new Date(T):void 0,P={price:s,isPurchased:l,isRented:c,title:i.playable.title,subtitleLocales:i.playable.subtitledLocales||[],subtitlesDescription:u,languagesDescription:f,extendedLanguagesDescription:d,isSeasonOnly:!1,maybeFutureRentalReleaseDate:w,maybePreorderReleaseDate:S,hasExtras:v,isPremium:y,disclaimers:p==ue.Rent?Se("TV.Confirmation.DisclaimerRental",void 0,h):p==ue.Preorder?Se("TV.PreOrderCopy",void 0,h):ye("",void 0,h)}
return m&&{kind:de.Itunes,actionType:p,action:m,metadata:On(On({},g),P),versions:[]}}({playableContainer:t,price:E,isPurchased:A,isRented:C,subtitlesDescription:I,audio:P,actionType:h,extendedLanguagesDescription:k,action:e,hasExtras:V,isPremium:d,dependencies:s}))&&void 0!==n?n:[]}))
return x.length?x.flatMap((function(e){return An(c,e)})):c}if(y==O.Episode&&!w){var j,M=nr(t,void 0,s),B=null!==(j=null==D?void 0:D.flatMap((function(e){return{kind:de.Itunes,actionType:h,action:e,versions:[],metadata:On(On({},M),{},{languagesDescription:P,extendedLanguagesDescription:k,isPurchased:A,subtitlesDescription:I,title:l.title,art:M.art,isSeasonOnly:w,price:E})}})))&&void 0!==j?j:[]
if((null==n?void 0:n.length)>0&&(null==B?void 0:B.length)>0){var R,_=function(e,t){var n
if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Sn(e))){n&&(e=n)
var r=0,a=function(){}
return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1
return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next()
return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(B)
try{for(_.s();!(R=_.n()).done;){var N=R.value,F=(n||[]).find((function(e){return e.playable.canonicalId==M.seasonCanonicalId})),L=Tn(F&&In(e,F,[],o,[],s)||[],1)[0],U=void 0===L?void 0:L
N.seasons=U?[U]:[],N.metadata.episodeNumber=F&&F.metadataContainer.smartEpisodeMetadata&&F.metadataContainer.smartEpisodeMetadata.episodeNumber||m&&m.episodeNumber,N.metadata.seasonNumber=F&&F.metadataContainer.smartEpisodeMetadata&&F.metadataContainer.smartEpisodeMetadata.seasonNumber||m&&m.seasonNumber}}catch(e){_.e(e)}finally{_.f()}}return B.length?B.flatMap((function(e){return An(c,e)})):c}if(y==O.Season||y==O.Episode&&w&&u.type!=O.Show){var H,$=nr(t,void 0,s),W=(kn(H={},g.Season,fe.BuySeason),kn(H,g.SeasonPass,fe.Pass),kn(H,g.MultiPass,fe.MultiPass),kn(H,g.AllEpisodes,fe.AllEpisodes),H),G=p[l.canonicalId],q=D.map((function(e){return{kind:de.Itunes,actionType:h,action:e,versions:[],metadata:On(On({},$),{},{contentType:w?r.Show:$.contentType,isSeasonOnly:w,numberOfEpisodes:f.seasonOfferEpisodeCount,languagesDescription:P,extendedLanguagesDescription:k,subtitlesDescription:I,availabilityInfo:$.availabilityInfo,availabilitySeasonsCount:$.availabilitySeasonsCount,seasonNumber:G&&G.seasonNumber||t.metadataContainer.utsMetadata.seasonNumber,isPurchased:A,art:$.art,price:E,purchaseType:f.kind==S.Purchased?fe.Purchased:f.kind==S.Complete?fe.CompleteMySeason:W[f.seasonOfferKind]||fe.Invalid,title:l.title})}}))
return q.length?q.flatMap((function(e){return Cn(c,e,t,s)})):c}return i}),i)}var An=function(e,t){var n,a,o=null===(n=t.action)||void 0===n||null===(a=n.playbackInformation)||void 0===a?void 0:a.limitPlayback,i=e.find((function(e){var n,r
return e.metadata.channelId==t.metadata.channelId&&e.actionType==t.actionType&&e.kind==t.kind&&e.metadata.metadataKind==t.metadata.metadataKind&&(null===(n=e.action)||void 0===n||null===(r=n.playbackInformation)||void 0===r?void 0:r.limitPlayback)==o&&e.metadata.seasonNumber==t.metadata.seasonNumber}))
if(!i)return[].concat(bn(e),[t])
if(t.metadata.contentType==r.Show){var s=i
if(t.metadata.seasonNumber==s.metadata.seasonNumber){if(!i.versions||0==i.versions.length){i.versions
var l=gn(i,yn)
i.versions=(i.versions||[]).concat(l)}return i.versions=(i.versions||[]).concat(t),e}return[].concat(bn(e),[t])}if(t.metadata.contentType==r.Movie||t.metadata.contentType==r.Episode){if(!i.versions||0==i.versions.length){i.versions
var c=gn(i,hn)
i.versions=(i.versions||[]).concat(c)}return i.versions=(i.versions||[]).concat(t),e}return[].concat(bn(e),[t])},Cn=function(e,t,n,a){for(var o=void 0,i=e.length-1;i>=0;i--){var s=e[i]
s.metadata.contentType==r.Show&&(o=s)}if(!o){var l={kind:de.Itunes,actionType:t.actionType,metadata:On(On({},t.metadata),nr(On(On({},n),{},{playable:On(On({},n.playable),{},{contentType:O.Show})}),void 0,a)),action:t.action,seasons:[t]}
return[].concat(bn(e),[l])}if(o.metadata.contentType==r.Show&&o.metadata.channelId==t.metadata.channelId&&o.seasons){var c=o.seasons.length==An(o.seasons,t).length,u=o.seasons[o.seasons.length-1],d=u.metadata.seasonCanonicalId==t.metadata.seasonCanonicalId
return d&&t.metadata.isPurchased&&!u.metadata.isPurchased?(o.seasons.pop(),o.seasons.push(t)):o.seasons=c||d&&t.actionType!=o.seasons[o.seasons.length-1].actionType?o.seasons:o.seasons.concat(t),e}return[].concat(bn(e),[t])},En=function(e){var t=Ln(e)
return!!(t&&t>Date.now())},Dn=function(e){return e.kind===S.Purchased||e.kind===S.Redownload&&!En(e)},Vn=function(e){return e.kind===S.Preordered},xn=function(e){return Boolean(e.find(Vn))},jn=function(e){return Boolean(e&&(e.variant===b.HD||e.variant===b.PLUS))},Mn=function(e){return!jn(e)},Bn=function(e){return Dn(e)&&jn(e)},Rn=function(e){return Dn(e)&&Mn(e)},_n=function(e){return En(e)&&jn(e)},Nn=function(e){return En(e)&&Mn(e)},Fn=function(e){var t=null
if(e.itunesMediaApiData&&e.itunesMediaApiData.personalizedOffers&&e.itunesMediaApiData.personalizedOffers)for(var n=e.itunesMediaApiData.personalizedOffers,r=n?n.length:0,a=0,o=null;n&&!o&&a<r;)(o=n[a].rentalId?Ln(n[a]):null)&&(t={rentalExpiration:o,rentalDurationInMilliseconds:n[a].rentalDurationInMilliseconds,playbackDurationInMilliseconds:n[a].playbackDurationInMilliseconds,purchasedTimestamp:n[a].purchasedTimestamp,startedWatchingTimestamp:n[a].startedWatchingTimestamp}),a++
return t},Ln=function(e){var t=null
if(e.kind===S.Redownload){var n=1/0,r=1/0
e.startedWatchingTimestamp&&(n=Date.parse(e.startedWatchingTimestamp)+(e.playbackDurationInMilliseconds||1/0)),e.purchasedTimestamp&&(r=Date.parse(e.purchasedTimestamp)+(e.rentalDurationInMilliseconds||1/0)),t=Math.min(n,r)}return t===1/0?null:t},Un=function(e,t){var n=e.isEntitledToPlay,r=void 0!==n&&n,a=e.itunesMediaApiData,o=void 0===a?{offers:[],personalizedOffers:[]}:a,i=[].concat(bn(o.offers?o.offers:[]),bn(o.personalizedOffers?o.personalizedOffers:[]))||[]
return Gn(i,r,t)},Hn=function(e){var t
return(kn(t={},S.Buy,ue.Buy),kn(t,S.Rent,ue.Rent),kn(t,S.Redownload,ue.Play),kn(t,S.Purchased,ue.Play),kn(t,S.Get,ue.Get),kn(t,S.Preordered,ue.Preordered),kn(t,S.Preorder,ue.Preorder),kn(t,S.Update,ue.Update),kn(t,S.Complete,ue.Complete),t)[e]},$n=function(e){var t
return(kn(t={},ue.Buy,a.Buy),kn(t,ue.Get,a.Get),kn(t,ue.Play,a.Play),kn(t,ue.Preorder,a.Preorder),kn(t,ue.Preordered,a.Preordered),kn(t,ue.Rent,a.RentPlayNow),kn(t,ue.Complete,a.Buy),kn(t,ue.Update,a.Buy),t)[e]},Wn=function(e){var t
return(kn(t={},G.Open,void 0),kn(t,G.Install,void 0),kn(t,G.Buy,S.Buy),kn(t,G.Rent,S.Rent),kn(t,G.Preorder,S.Preorder),kn(t,G.Play,void 0),kn(t,G.Subscribe,void 0),kn(t,G.ShowSeasons,void 0),t)[e]},Gn=function(e,t,n){var r=function(e){return Boolean(e.find(En))}(e),a=function(e){return Boolean(e.find(Dn))}(e),o=xn(e),i=ve(n).settings.prefersHDFormat,s=!i,l=function(e){return Boolean(e.find(_n))}(e)||function(e){return Boolean(e.find(Bn))}(e)||xn(e.filter(jn)),c=function(e){return Boolean(e.find(Nn))}(e)||function(e){return Boolean(e.find(Rn))}(e)||xn(e.filter(Mn)),u=l!=c,d=Boolean(e.find(jn))!=Boolean(e.find(Mn))
e.length||ve(n).log("Encountered an iTunes Playable without offers. Recoverable Error.")
var f,p=e.filter((function(e){return(e.kind===S.Redownload||e.kind===S.Preordered)&&u||d||i&&jn(e)||s&&Mn(e)})),m=p.every((function(e){return e.seasonOfferKind==g.Season})),v=p.find((function(e){return e.kind==S.Complete}))
return f=m&&v?[v]:p.filter((function(e){var n=e.kind,i=e.buyParams
return!t&&i&&i.length&&!(o&&n===S.Preorder)||t&&!a&&!r&&n===S.Rent||t&&!a&&!r&&n===S.Buy||o&&n===S.Preordered||n===S.Redownload||n===S.Purchased})),qn(f)},qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={purchased:1,preordered:2,update:3,redownload:4,get:5,complete:6,buy:7,preorder:8,rent:9},n={HD:1,PLUS:2,SD:1/0}
return e.sort((function(e,r){var a=(t[e.kind]||1/0)-(t[r.kind]||1/0)
return 0===a&&(a=(e.variant?n[e.variant]:1/0)-(r.variant?n[r.variant]:1/0)),a})),e},zn=function(e,t){var n=function(e,t){var n=void 0,r=new Set,a=new Set,o=new Set,i=new Set,s=new Set,l=new Set,c={},u={},d=e.find((function(e){return e.isEntitledToPlay}))
d&&(e=[d])
var f,p=un(e)
try{for(p.s();!(f=p.n()).done;){var m=f.value,v=m.primaryLocale
if(v){var y=v.locale
n=y,c[y]=v.displayName}if(m.locales){var h,g=un(m.locales)
try{for(g.s();!(h=g.n()).done;){var b=h.value,T=b.locale
if(b.hasClosedCaptions&&(r.add(T),c[T]=b.displayName),b.hasSubtitles&&(a.add(T),c[T]=b.displayName),b.audioTrackFormats&&b.audioTrackFormats.length){i.add(T),c[T]=b.displayName
var S=vn(b.audioTrackFormats,t)
u[T]=S}b.hasAd&&(s.add(T),c[T]=b.displayName),b.hasSdh&&(l.add(T),c[T]=b.displayName),b.hasBurnedInSubtitles&&(o.add(T),c[T]=b.displayName)}}catch(e){g.e(e)}finally{g.f()}}}}catch(e){p.e(e)}finally{p.f()}return{primaryAudioLocale:n,closedCaptionedLocales:r,subtitledLocales:a,subtitlesAlwaysOnLocales:o,audioTrackLocales:i,adLocales:s,sdhLocales:l,localesDict:c,localesAudioFormatsDict:u}}([e],t),r=!1,a=!1,o=void 0,i=void 0
if(n){var s=n.primaryAudioLocale,l=n.closedCaptionedLocales,c=n.subtitledLocales,u=n.subtitlesAlwaysOnLocales,d=n.audioTrackLocales,f=n.adLocales,p=n.sdhLocales,m=new Set
s&&m.add(s),d.forEach((function(e){return m.add(e)})),f.forEach((function(e){return m.add(e)}))
var v=new Set([].concat(bn(l),bn(c),bn(u),bn(p)))
m.size>2&&(r=!0),v.size>2&&(a=!0),o=pn({languageMetaData:n,includeAudioTypes:!0,includeSubtitleTypes:!1,maxLanguagesToDisplay:2,dependencies:t}),r&&(o=o+" "+Se("TV.Confirmation.AudioMore",{number:String(m.size-2)},t).display[0].rawString),o&&(o=ve(t).localize("TV.Confirmation.AudioLang1",{language:o})),i=pn({languageMetaData:n,includeAudioTypes:!1,includeSubtitleTypes:!0,maxLanguagesToDisplay:2,dependencies:t}),a&&(i=i+" "+Se("TV.Confirmation.SubtitlesMore",{number:String(v.size-2)},t).display[0].rawString),i&&(i=ve(t).localize("TV.Confirmation.SubtitlesLang1",{language:i}))}return{audio:o,subtitles:i}}
function Qn(e,t,n){return{transactionInformation:On(On({},e),Sr(t,e,void 0,void 0,n))}}var Kn=function(e,t){var n=e
return n.action.transactionInformation?{actionType:$n(e.actionType),transactionInformation:n.action.transactionInformation,requiresAuthentication:!0}:Yn(e,t)},Yn=function(e,t){var n=e
if(n.action.playbackInformation&&n.action.playbackMetadata){var r=ve(t).isPlatformNativeDesktop?n.action.playbackInformation.extras:void 0
return{actionType:a.Play,playbackInformation:n.action.playbackInformation,playbackMetadata:n.action.playbackMetadata,requiresAuthentication:!0,extras:r}}return ve(t).log("Unsupported itunes action"),null}
function Xn(e){return function(e){if(Array.isArray(e))return Jn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Jn(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function Zn(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Zn(Object(n),!0).forEach((function(t){tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nr(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=e.playable,s=e.channel,l=e.metadataContainer,c=l.utsMetadata,u=l.seasonNumbers,d=void 0===u?[]:u,f=l.seasonsDict,p=l.smartEpisodeMetadata,m=l.isAtBeginningOfShow,v=l.isContentUnwatched,y=l.sharedWatchMetadata,h=c.type==O.Show?O.Season:c.type==O.Vod&&i?i.contentType:c.type,g={channelId:null!==(t=null==s?void 0:s.id)&&void 0!==t?t:"",channelName:null!==(n=null==s?void 0:s.name)&&void 0!==n?n:"",type:h,id:c.id,isEntitled:Boolean((null==i?void 0:i.isEntitledToPlayOnDevice)||s&&s.isSubscribed),willResume:Boolean((null==i?void 0:i.playEvent)&&!i.playEvent.isDone),isFinished:Boolean((null==i?void 0:i.playEvent)&&i.playEvent.isDone),isDownloadable:Boolean(null==i?void 0:i.isDownloadable),transactionSourceRef:null==y?void 0:y.transactionSourceRef,playableSourceRef:null==y?void 0:y.playableSourceRef,sharedWatchUrl:null==y?void 0:y.sharedWatchUrl,isContentUnwatched:null!=v&&v}
xt(a)
var b=[]
if(g.type==O.Movie){var T,S,w,P=c,k=null!==(T=null===(S=P.images)||void 0===S?void 0:S.posterArt)&&void 0!==T?T:lt,I=cr(P,o),A=I.ratingName,C=I.ratingValue,E=I.ratingSystem,D=I.ratingDomain,V=P.releaseDate,x=new Date(V),j=ar(x,o),M=null
s.isItunes&&i&&(M=Fn(i))
var B=void 0,R=void 0,_=void 0,N=c
return B=N&&N.commonSenseMedia?N.commonSenseMedia.recommendedAge:P.commonSenseRecommendedAge,N&&N.rottenTomatoesReviews?(R=N.rottenTomatoesReviews.tomatometerFreshness,_=N.rottenTomatoesReviews.tomatometerPercentage):(R=P.tomatometerFreshness,_=P.tomatometerPercentage),er(er({},g),{},{art:k,contentType:r.Movie,description:P.description,duration:e.playable.duration||P.duration,formattedReleaseDate:j,genreName:lr(P.genres),isAdultContent:Boolean(P.isAdultContent),releaseDate:V,metadataKind:"Movie",ratingDomain:D,ratingName:A,ratingSystem:E,ratingValue:C,recommendedAge:B,title:P.title||(null==i?void 0:i.title),tomatometerFreshness:R,tomatometerPercentage:_,studio:P.studio,roles:b,artForPlayable:null===(w=e.playable.images)||void 0===w?void 0:w.coverArt16X9},M||{})}if((null==i?void 0:i.contentType)==O.Season||(null==i?void 0:i.contentType)==O.Show){var F,L,U,H,$,W,G,q,z=c,Q=cr(z,o),K=Q.ratingName,Y=Q.ratingValue,X=Q.ratingSystem,J=Q.ratingDomain,Z=new Date(z.releaseDate),ee=f&&f[i.canonicalId]
if(z.type==O.Episode){var te=p
te||(te=c),q=te.showId}else q=z.id
var ne=ee&&ee.seasonNumber||c.seasonNumber,re=void 0,ae=c
return re=ae&&ae.commonSenseMedia?ae.commonSenseMedia.recommendedAge:z.commonSenseRecommendedAge,er(er({},g),{},{metadataKind:"Season",isEntitled:Boolean(i.isEntitledToPlayOnDevice),releaseDate:z.releaseDate,showCanonicalId:q,genreName:lr(z.genres),contentType:r.Show,seasonCanonicalId:i.id,showTitle:z.title,showArtwork:null!==(F=null===(L=z.images)||void 0===L?void 0:L.posterArt)&&void 0!==F?F:lt,showDescription:z.description,formattedReleaseDate:ar(Z,o),description:z.description,previewFrameArtwork:null!==(U=null===(H=z.images)||void 0===H?void 0:H.previewFrame)&&void 0!==U?U:lt,seasonNumber:ne,ratingDomain:J,recommendedAge:re,title:(null==ee?void 0:ee.title)||i.title,ratingName:K,ratingSystem:X,ratingValue:Y,availabilityInfo:dr(d,o),availabilitySeasonsCount:d.length,isAdultContent:Boolean(z.isAdultContent),art:i.contentType==O.Season&&i.images?null!==($=i.images.coverArt16X9)&&void 0!==$?$:lt:null!==(W=null==z||null===(G=z.images)||void 0===G?void 0:G.posterArt)&&void 0!==W?W:lt})}if((null==i?void 0:i.contentType)==O.Episode){var oe,ie,se,le,ce,ue,de,fe,pe,me,ye,he,ge,be=c,Te=p
Te||(Te=c)
var Se,we=cr(Te,o)||{},Pe=we.ratingName,Oe=we.ratingValue,ke=we.ratingSystem,Ie=we.ratingDomain,Ae=Te.releaseDate,Ce=Te.description,Ee=Te.duration,De=Te.episodeNumber,Ve=null!==(oe=ve(o).featureEnablers)&&void 0!==oe&&oe.isTVShowV2Enabled?Te.fractionalEpisodeNumber:void 0,xe=Te.isAdultContent,je=Te.seasonNumber,Me=Te.seasonTitle
!Me&&f&&(Me=null===(Se=f[Te.seasonId])||void 0===Se?void 0:Se.title)
var Be,Re,_e=void 0
_e=null!==(ie=Te.images)&&void 0!==ie&&ie.showPosterArt?null===(Be=Te.images)||void 0===Be?void 0:Be.showPosterArt:null===(Re=be.images)||void 0===Re?void 0:Re.posterArt
var Ne=Te.showId,Fe=Te.seasonId,Le=Te.showTitle,Ue=void 0,He=c
Ue=He&&He.commonSenseMedia?He.commonSenseMedia.recommendedAge:be.commonSenseRecommendedAge
var $e=er(er({},g),{},{art:null!==(se=null!==(le=null!==(ce=null===(ue=Te.images)||void 0===ue?void 0:ue.posterArt)&&void 0!==ce?ce:null==i||null===(de=i.images)||void 0===de?void 0:de.posterArt)&&void 0!==le?le:null==i||null===(fe=i.images)||void 0===fe?void 0:fe.coverArt16X9)&&void 0!==se?se:lt,contentType:r.Episode,description:Ce,releaseDate:Ae,duration:Ee,episodeNumber:De,fractionalEpisodeNumber:Ve,formattedReleaseDate:sr(Ae,o),genreName:lr(be.genres),isAdultContent:Boolean(xe),isAtBeginningOfShow:m||!1,isEntitled:Boolean(i.isEntitledToPlayOnDevice),metadataKind:"Episode",ratingDomain:Ie,previewFrameArtwork:null!==(pe=null===(me=Te.images)||void 0===me?void 0:me.posterArt)&&void 0!==pe?pe:lt,ratingName:Pe,ratingSystem:ke,ratingValue:Oe,availabilityInfo:dr(d,o),availabilitySeasonsCount:d.length,recommendedAge:Ue,seasonNumber:je,seasonTitle:Me,showArtwork:null!==(ye=_e)&&void 0!==ye?ye:lt,showCanonicalId:Ne,seasonCanonicalId:Fe,showDescription:be.description,showTitle:Le,artForPlayable:null===(he=e.playable.images)||void 0===he?void 0:he.coverArt16X9,title:null!==(ge=i.title)&&void 0!==ge?ge:Te.title})
return $e}if((null==i?void 0:i.contentType)==O.SportingEvent){var We,Ge,qe,ze,Qe,Ke,Ye,Xe,Je,Ze,et,tt,nt,rt,at,ot,it,st,ct,ut,dt,ft,pt=c,mt=cr(pt,o),vt=mt.ratingName,yt=mt.ratingValue,ht=mt.ratingSystem,gt=mt.ratingDomain,bt=new Date(pt.releaseDate),Tt=null!==(We=null!==(Ge=null!==(qe=null==pt||null===(ze=pt.images)||void 0===ze?void 0:ze.actionCoverArt)&&void 0!==qe?qe:null==pt||null===(Qe=pt.images)||void 0===Qe?void 0:Qe.shelfImage)&&void 0!==Ge?Ge:null===(Ke=i.canonicalMetadata)||void 0===Ke?void 0:Ke.images.contentImage)&&void 0!==We?We:lt,St=null!==(Ye=pt.shortTitle)&&void 0!==Ye?Ye:null==i||null===(Xe=i.canonicalMetadata)||void 0===Xe?void 0:Xe.shortTitle
return at=null!==(Je=e.playable.assets)&&void 0!==Je&&null!==(Ze=Je.streamCapability)&&void 0!==Ze&&Ze.supportsStartOver?{art:Tt,artwork:null!==(ot=null!==(it=null===(st=pt.images)||void 0===st?void 0:st.shelfImageLive)&&void 0!==it?it:null===(ct=pt.images)||void 0===ct?void 0:ct.shelfImage)&&void 0!==ot?ot:Tt,artForPlayable:null===(ut=e.playable.images)||void 0===ut?void 0:ut.coverArt16X9,venueName:null===(dt=i.canonicalMetadata)||void 0===dt?void 0:dt.venueName,venueAddr:null===(ft=i.canonicalMetadata)||void 0===ft?void 0:ft.venueAddr}:{art:{}},er(er(er({},g),{},{metadataKind:"SportingEvent",isEntitled:Boolean(i.isEntitledToPlayOnDevice),contentType:r.SportingEvent,formattedReleaseDate:ar(bt,o),description:pt.description,airingState:pr(i,o),ratingDomain:gt,genreName:"",recommendedAge:pt.commonSenseRecommendedAge,ratingName:vt,ratingSystem:ht,ratingValue:yt,isAdultContent:Boolean(pt.isAdultContent),title:St||i.title,art:at.art,artwork:at.artwork,artForPlayable:at.artForPlayable,venueName:at.venueName,venueAddr:at.venueAddr,longTitle:i.title,leagueShortName:null===(et=i.canonicalMetadata)||void 0===et?void 0:et.leagueShortName,leagueName:null===(tt=i.canonicalMetadata)||void 0===tt?void 0:tt.leagueName,sportName:null===(nt=i.canonicalMetadata)||void 0===nt?void 0:nt.sportName,startAirTime:i.startAirTime,endAirTime:i.endAirTime},null===(rt=i.canonicalMetadata)||void 0===rt?void 0:rt.displayTime),a)}if(g.type==O.Preview){var wt,Pt=c,Ot=cr(Pt,o),kt=Ot.ratingName,It=Ot.ratingValue,At=Ot.ratingSystem,Ct=Ot.ratingDomain,Et=er(er({},g),{},{metadataKind:"Trailer",contentType:r.Trailer,title:Pt.title,art:null!==(wt=Pt.images.shelfImage)&&void 0!==wt?wt:lt,isEntitled:Boolean(i.isEntitledToPlayOnDevice),description:"",genreName:"",ratingDomain:Ct,ratingName:kt,ratingSystem:At,ratingValue:It,isAdultContent:!1,isDownloadable:!1})
return Et}return ve(o).log("Error - unsupported content type"),{}}var rr,ar=function(e,t){var n=void 0
return isNaN(e)||(n=e.toLocaleDateString(ve(t).settings.language,{year:"numeric",month:"short",day:"numeric"})),n},or=function(e){return e?new Date(e):null},ir=function(e,t){var n=e&&or(e)
return n&&n.toLocaleDateString(ve(t).settings.language,{year:"numeric",timeZone:"UTC"})||void 0},sr=function(e,t){var n=e&&or(e)
return n&&n.toLocaleDateString(ve(t).settings.language,{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"})||void 0},lr=function(e){var t=e&&e[0]
return t?t.name:""},cr=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rating:void 0,type:void 0},n=t.rating,r=t.type,a=arguments.length>1?arguments[1]:void 0,o=n&&n.displayName||"",i=n&&n.value||0,s=n&&n.system||"",l=(tr(e={},O.Movie,rr.Movie),tr(e,O.Show,rr.Show),tr(e,O.Episode,rr.Show),tr(e,O.Season,rr.Show),tr(e,O.SportingEvent,rr.Show),e),c=n&&ur(n.systemType,a)||r&&l[r]||rr.Invalid
return{ratingName:o,ratingValue:i,ratingSystem:s,ratingDomain:c}},ur=function(e,t){return e===v.Movies?rr.Movie:e===v.TV?rr.Show:void ve(t).log("Unexpected rating systemType from UTS: ",e)}
!function(e){e.Movie="Movie",e.Show="Show",e.Invalid="Invalid"}(rr||(rr={}))
var dr=function(e,t){var n=e.map((function(n,r){return n===e[r-1]+1&&n===e[r+1]-1?"":we(n,t)})).join(", ").replace(/(, ){2,}/g,"")
return ke.apply(void 0,[t].concat(Xn(n.split(", "))))},fr=function(e,t){var n=null==e?void 0:e.primaryLocale,r=(null==e?void 0:e.audioTrackLocales)||[],a=(null==e?void 0:e.subtitledLocales)||[],o=function(e){return e.filter((function(e){return e.locale})).map((function(e){return Oe(e)})).sort()},i=((null==n?void 0:n.locale)||r.length)&&Se("TV.Audio",void 0,t).display[0].rawString+": "||"",s=[]
if(null!=n&&n.locale&&s.push(Oe(n)),r.length&&(s=s.concat(o(r))),s.length&&(i+=ke.apply(void 0,[t].concat(Xn(s)))),null!=a&&a.length){var l=o(a),c=ke.apply(void 0,[t].concat(Xn(l))),u=[]
i.length>0&&u.push(i)
var d=Se("TV.Subtitles",void 0,t).display[0].rawString+": "+c
u.push(d),i=Ie.apply(void 0,[t].concat(u))}return i},pr=function(e,t){var n,r,a=Date.now()
return function(e,t){var n=e.startAirTime,r=e.endAirTime
n||ve(t).log("No start time found for sporting event")
var a=Date.now()
return new Date(n)instanceof Date&&n<=a&&(!r||r>=a)}(e,t)?r="CurrentlyAiring":e.startAirTime&&e.startAirTime>a?r="PreGame":(e.endAirTime&&e.endAirTime<a||"Vod"==e.type)&&(r="PostGame"),r||ve(t).log("Metadata","No airing state found for sporting event, defaulting to Pre"),null!==(n=r)&&void 0!==n?n:"PreGame"}
function mr(e){return function(e){if(Array.isArray(e))return vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vr(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}var yr=function(e,t){var n=(Object.values(e)||[]).find((function(e){return e.itunesMediaApiData&&e.itunesMediaApiData.id==t})),r=n&&n.itunesMediaApiData,a=r&&r.offers||[],o=r&&r.personalizedOffers||[]
return{playable:n,extrasOffer:[].concat(mr(a),mr(o)).find((function(e){return Rr(e)&&Mr(e)}))}},hr=function(e,t){var n,r,a,o,i,s=e.itunesMediaApiData,l=t&&(Rr(t)||Br(t)),c=t&&Mr(t),u=t&&t.hlsUrl||"",d=l&&c&&s&&(s.iTunesExtrasUrl||s.iTunesExtrasPreviewUrl)
return l&&c&&t&&d?{ratingValue:null===(n=e.rating)||void 0===n?void 0:n.value,adamId:(null===(r=e.itunesMediaApiData)||void 0===r?void 0:r.id)||"",buyParams:null==t?void 0:t.buyParams,extrasUrl:d?(i=d,"".concat(i,"&hlsUrl=").concat(encodeURIComponent(u))):"",url:e.url,isEntitledToPlay:Boolean(l)}:t?void 0:{ratingValue:null===(a=e.rating)||void 0===a?void 0:a.value,extrasUrl:(null===(o=e.itunesMediaApiData)||void 0===o?void 0:o.iTunesExtrasPreviewUrl)||"",adamId:e.id,buyParams:"",url:e.url,isEntitledToPlay:!1}}
function gr(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?gr(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sr=function(e,t,n,r,a){var o=e.playable,i=e.channel,s=e.metadataContainer,l=s.utsMetadata,c=s.smartEpisodeMetadata,u=wr({playable:o,channel:i,utsMetadata:c||l},t,n,a),d=t?jr(e&&e.playable,t,a):void 0
return{playbackInformation:u,extras:d,playbackMetadata:kr(e,Boolean(d),r,a)}},wr=function(e,t,n,a){var o,i,s,l,c,u=!1,d=e.playable,f=e.channel,p=e.utsMetadata
t&&(u=Boolean(t.sharedPurchase))
var m,v=d.vpafMetrics?{vpafMetrics:d.vpafMetrics}:{},y=d.mediaMetrics?{mediaMetrics:d.mediaMetrics}:{},h=Pr(d,a)
m=(d&&d.contentType)==O.Extra?r.Trailer:d&&d.contentType
var g=!1
p.type==O.Preview&&(g=!0)
var b=e.utsMetadata,T=void 0
if(b&&b.sharedWatchUrl){var w=st(b.sharedWatchUrl)
T=w.groupActivityDay?w.groupActivityDay:void 0}var P=p.showId
if(!P&&d.url&&d.contentType==O.Episode){var k=st(d.url)
P=(null==k?void 0:k.showId)||""}var I=ve(a).isPlatformNativeDesktop?hr(e.playable,t):void 0
return br(br(br(br(br(br({showCanonicalId:P,playableId:d.id,seasonCanonicalId:p.seasonId,channelId:d.channelId,canonicalId:d.canonicalId,utsEntityType:d.contentType,externalId:d.externalId,referenceId:d.contentId,rentalId:t&&t.rentalId,adamId:d.videoAssetId||(d.isItunes?d.externalId:void 0),isRental:Boolean(t&&t.kind==S.Rent)||xr(t),url:d.url,channelName:f&&f.name,requiredAgeForPlayback:d.ageGatePolicy&&d.ageGatePolicy.age,frequencyOfAgeConfirmation:d.ageGatePolicy&&d.ageGatePolicy.frequencyInMinutes},Ir(d,void 0,a)),{},{mediaType:m,playableType:d.type,extras:I},Ar(d,null!==(o=null==f?void 0:f.isAppleTvPlus)&&void 0!==o&&o,t,a)),v),y),{},{sharedPurchase:u,isApSubscription:f&&f.isApSubscription,locale:null===(i=d.primaryLocale)||void 0===i?void 0:i.displayName,title:d.title},h?{sharedWatchUrl:h}:{}),{},{useSharedPlayableForCowatching:g,sourceRef:null==b?void 0:b.playableSourceRef,groupActivityDay:T,limitPlayback:null==n?void 0:n.startsWith("M"),playbackModes:d.playbackModes,supportsStartOver:null!==(s=null==d||null===(l=d.assets)||void 0===l||null===(c=l.streamCapability)||void 0===c?void 0:c.supportsStartOver)&&void 0!==s&&s})},Pr=function(e,t){var n,r=void 0,a=null==e?void 0:e.sharedWatchEnabled,o=null==e?void 0:e.sharedWatchId
if(!o&&null!==(n=pe.featureEnablers)&&void 0!==n&&n.isSharedWatchEnabledForSports&&(o="sharedWatchId",a=!0),null!=e&&e.url&&a&&o){r=e.url.includes("?")?e.url+"&sharedWatchId="+encodeURIComponent(o):e.url+"?sharedWatchId="+encodeURIComponent(o)
var i=ve(t).settings.storeFrontId
i?r=r+"&storefrontId="+encodeURIComponent(i):ve(t).log("SharePlay: Store front Id missing for share play")}return r},Or=function(e){var t=e.audioTrackFormats
return!(!t||!t.find((function(e){return e.includes("DolbyAtmos")})))},kr=function(e,t,n,r){var a=e.playable,o=nr(e,n,r),i=cr({rating:e.playable.rating,type:void 0},r)
return br(br(br({},o),{},{artwork:o.art},i),{},{duration:a.duration,hasAD:Boolean(a.adLocales&&a.adLocales.length>0),hasClosedCaption:Boolean(a.closedCaptionedLocales&&a.closedCaptionedLocales.length>0),hasDolbyAtmos:Or(a),hasExtras:t,hasSDH:Boolean(a.sdhLocales&&a.sdhLocales.length>0),videoDynamicRange:ve(r).settings.prefersHDFormat&&a&&a.videoColorRange?a.videoColorRange:I.sdr,videoResolutionClass:ve(r).settings.prefersHDFormat&&a.videoQuality?a.videoQuality:Z.sd,primaryLocale:e.playable.primaryLocale})},Ir=function(e,t,n){var r=void 0,a=void 0,o=void 0,i=void 0,s=e&&e.playEvent||t
return s&&(r=s.playCursorInSeconds,a=s.occurredAt,o=s.contentPlayCursorInSeconds,i=s.occurredAt,0==r&&o&&(ve(n).log("Coercing mainContentRelativeResumeTime to 0 since resumeTime is 0"),o=0)),{resumeTime:r,resumeTimeTimeStamp:a,mainContentRelativeResumeTime:o,mainContentRelativeResumeTimeTimeStamp:i}},Ar=function(e,t,n,r){var a,o,i,s,l,c,u
if(e.assets){var d,f,p,m,v=e.assets
a=v.hlsUrl,o=v.assetAdamId,i=v.fpsCertificateUrl,s=v.fpsKeyServerUrl,l=v.fpsKeyServerQueryParameters,c=v.fpsNonceServerUrl
var y="Event"==e.type||"EbsEvent"==e.type,h=!y||null!==(d=null===(f=v.streamCapability)||void 0===f?void 0:f.supportsLinearScrubbing)&&void 0!==d&&d
y&&h&&a&&(a+="&linearScrubbingSupported=true")
var g=e.externalServiceId
return y&&"EbsEvent"==e.type&&(g=void 0),u=!h,br(br({hlsUrl:a},o?{adamId:o}:{}),{},{fpsCertificateUrl:i,fpsKeyServerUrl:s,fpsKeyServerQueryParameters:l,fpsNonceServerUrl:c,disableScrubbing:u,canonicalId:e.canonicalId,externalId:e.externalId,referenceId:e.contentId,liveStreamServiceId:null!==(p=null===(m=e.vpafMetrics)||void 0===m?void 0:m.serviceId)&&void 0!==p?p:e.id,externalServiceId:g,tokenServerUrl:v.tokenServerUrl,stopUrl:v.stopUrl,hlsDownloadUrl:Cr(a,r),tokenServerParameters:v.tokenServerParameters,streamCapability:v.streamCapability,sendLocationToPlaybackKeyServerWhenOptedIn:y,sendMescalHeaderToPlaybackKeyServer:y})}if(n){a=n.hlsUrl
var b=e&&e.itunesMediaApiData
o=b&&b.id
var T=n.buyParams
return br(br({hlsUrl:a},o?{adamId:o}:{}),{},{buyParams:T,hlsDownloadUrl:Cr(a,r)})}return ve(r).log("get assets failed - unplayable entity"),null},Cr=function(e,t){if(ve(t).isPlatformIOSorIPadOS&&e)return e+"&playback-type=download"},Er=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0
return{actionType:a.Play,playbackInformation:e,playbackMetadata:t,extras:r,requiresAuthentication:n}},Dr=function(e,t,n,r){return{actionType:a.PlayWithSubscriptionOffer,playbackInformation:e,playbackMetadata:t,requiresAuthentication:n,upsellOfferData:r}},Vr=function(e,t){return{actionType:a.Download,playbackInformation:e,playbackMetadata:t,requiresAuthentication:!0}},xr=function(e){return Boolean((null==e?void 0:e.kind)===S.Redownload&&(null==e?void 0:e.rentalId))},jr=function(e,t,n){if("tvOS"!=ve(n).settings.platform||!e.playEvent||e.playEvent.isDone)return hr(e,t)},Mr=function(e){var t
return null==e||null===(t=e.capabilities)||void 0===t?void 0:t.includes(T.iTunesExtras)},Br=function(e){return(null==e?void 0:e.kind)===S.Buy},Rr=function(e){return(null==e?void 0:e.kind)===S.Purchased||(null==e?void 0:e.kind)===S.Redownload&&!_r(e)},_r=function(e){return!(null==e||!e.rentalId)},Nr=["versions"]
function Fr(e){return function(e){if(Array.isArray(e))return Lr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Lr(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function Ur(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Ur(Object(n),!0).forEach((function(t){$r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr=function(e,t,n,r){var a,o,i
if(t&&t.upsellOfferIds){var s,l,c=r?z.SharedWatch:z.Default
a=null===(s=t.upsellOfferIds)||void 0===s||null===(l=s[c])||void 0===l?void 0:l.editorialDataId}else{var u,d
a=null===(u=e.upsellOfferIds)||void 0===u||null===(d=u[z.Default])||void 0===d?void 0:d.editorialDataId}return n?(o=n.editorialData&&a?n.editorialData[a]:void 0,{commerceSubscriptionOffer:null===(i=n.commerceOffers)||void 0===i?void 0:i[0],editorialData:o}):{}}
function Gr(e,t,n,r,a){var o=e.channel,i=e.upsellOffer,s=e.playable,l=e.metadataContainer,c=e.triggerSource,u=Wr(o,s,i).commerceSubscriptionOffer
if(null!=s&&s.isEntitledToPlay){var d,f,p,m,v=s.entitlementReason
if(r==G.Subscribe)return la(t,o)&&(null===(p=t[t.length-1])||void 0===p?void 0:p.actionType)==le.Subscribe?t:sa(e,t,a)
if(r&&v==A.Unknown)return t
if(m=r?v==A.Free?le.PlayFreeWithSubscriptionOffer:le.Play:o.isSubscribed||!u||ve(a).settings.isInRetailDemoMode?le.Play:le.PlayFreeWithSubscriptionOffer,s&&Tt(s)&&c!=qr.HowToWatchCards)return[]
var y=c==qr.HowToWatchCards&&(r==G.Play||(r==G.Install||r==G.Open)&&!ve(a).isFederatedSupported),h=m==le.PlayFreeWithSubscriptionOffer,g=aa(e,a),b={art:null==n||null===(d=n.display)||void 0===d?void 0:d.coverArt},T=nr({playable:s,channel:o,metadataContainer:l},b,a),S=(null!==(f=s.playbackModes)&&void 0!==f?f:[void 0]).map((function(e){return Sr({playable:s,channel:o,metadataContainer:l},void 0,e,b,a)})).map((function(e){return Hr(Hr({},e),{},{notificationParams:null==g?void 0:g.notificationParams,transactionInformation:h?null==g?void 0:g.transactionInformation:void 0})})),w=S.flatMap((function(n){var r,l,c,u=Xr(e,a)
return ia(t,{kind:de.Subscription,actionType:m,action:n,metadata:Hr(Hr({},T),u),channel:o,playable:s,upsellOffer:i,supportsStreamSelectionPage:null!==(r=null==s||null===(l=s.assets)||void 0===l||null===(c=l.streamCapability)||void 0===c?void 0:c.supportsStartOver)&&void 0!==r&&r})})),P=[]
if(c!=qr.HowToWatchCards){var O=u&&Ba(u.eligibilityType,o.isSubscribed),k=Boolean(null==u?void 0:u.platterPassThrough)
P=O||k?sa(e,[],a):m==le.PlayFreeWithSubscriptionOffer&&!y&&sa(e,[],a)||[]}return S.length?[].concat(Fr(w),Fr(P)):t}return u?la(t,o)?t:sa(e,t,a):t}var qr,zr=function(e,t,n){var r,a,o,i=Kr(t.subscriptionCommerceOffer,e,n),s=t.subscriptionCommerceOffer
if(!i)return ve(n).log("Unable to obtain subscription transaction while attempting to create the data model"),[]
var l=t.subscriptionOfferEditorialData,c=Qr({contentType:void 0,subscriptionOffer:s,channel:e,triggerSource:t.subscriptionTriggerSource,upsellData:l,subscriptionIntent:t.subscriptionIntent,isFreePlayable:!1,dependencies:n}),u=c.title,d=c.offerType,f=c.shortTitle,p=c.subtitle,m=c.tagline,v=c.upsellTitle,y=c.logoText,h=c.logoImage,g=c.shouldShowUpsell,b=null==l?void 0:l.images,T=t.subscriptionIntent==Q.PlatterOffer?le.SubscribeWithPlatter:le.Subscribe
return[{kind:de.Subscription,action:i,actionType:T,metadata:{channelId:e.id,channelUrl:e.url,subscriptionTitle:u,upsellTitle:v,subtitle:p,tagline:m,shortTitle:f,eligibilityType:s.eligibilityType,shouldShowUpsell:g,offerType:d,isApSubscription:e.isApSubscription,isAppleTvPlus:Boolean(e.isAppleTvPlus),isTvAppBrand:e.isTvAppBrand,logoImage:h,logoText:y,channelArt:null!==(r=null===(a=e.images)||void 0===a?void 0:a.coverArt)&&void 0!==r?r:lt,channelName:e.name,heroImage:null==b?void 0:b.heroImage,tallImage:null==b?void 0:b.channelSplashTallImage,upsellImagePosterArt:null==l||null===(o=l.images)||void 0===o?void 0:o.upsellImagePosterArt,fullScreenImage:null==b?void 0:b.channelSplashFullScreenImage}}]}
function Qr(e){var t,n,r,a,o,i,s,l,c,d=e.contentType,f=e.subscriptionOffer,p=e.channel,m=e.upsellData,v=e.triggerSource,y=e.subscriptionIntent,h=e.isFreePlayable,g=(e.canonicalType,e.dependencies),b=f&&Ba(f.eligibilityType,p.isSubscribed),T=(null==p?void 0:p.name)||(null==f?void 0:f.title),S=[V.INTRO,V.HARDWARE_1,V.STUDENT_1].includes(null==f?void 0:f.eligibilityType),w=Jr((null==f?void 0:f.introOfferPeriod)||(null==f?void 0:f.freeTrialPeriod)),P=null==p?void 0:p.isSubscribed
if(v!=qr.HowToWatchCards&&!qr.SmartButtons){var k=(null==f?void 0:f.bundleType)==D.CBTime,I=v==pa.UserAction||v==pa.InAppMessaging
k||I?c=Se("TV.Button.Continue",void 0,g):P&&!b&&(c=Se("TV.Button.Browse",void 0,g))}if(P&&!b)i=o=d==O.Show&&T?ye(T,void 0,g):Se("TV.HowToWatch.SubscribedChannelPlay",void 0,g),l="Subscribed"
else if(null!=f&&null!==(t=f.ctaCopy)&&void 0!==t&&t.length)i=o=ye(f.ctaCopy,void 0,g),l=f.freeTrialPeriod||f.introOfferPeriod?"TrialPeriod":"NoOffer"
else if(S&&w){var A,C
o=null!==(A=f&&Zr(f,w,T,void 0,void 0,g).htwTitle)&&void 0!==A?A:ye("",void 0,g),i=null!==(C=f&&Zr(f,w,T,!1,void 0,g).htwTitle)&&void 0!==C?C:ye("",void 0,g),l="TrialPeriod"}else{var E
o=null!==(E=T?Se("TV.HowToWatch.SubscribeChannel",{channelName:T},g):void 0)&&void 0!==E?E:ye("",void 0,g),i=Se("TV.Subscribe",void 0,g),l="NoOffer"}if(P&&!b)s=Se("TV.HowToWatch.Subscribed",void 0,g)
else if(ra(f))s=ye("",void 0,g)
else if(null!=f&&null!==(n=f.legalLine)&&void 0!==n&&n.length){var x=f.legalLine
if(Na(f&&f.eligibilityType)){var j=ve(g).settings.accountId,M="%%APPLE_ID%%",B="%%appleId%%"
j&&x.includes(M)?x=x.replace(M,j):j&&x.includes(B)&&(x=x.replace(B,j))}s=ye(x,void 0,g)}else s=f?function(e,t,n,r){var a,o=Jr(e.renewalPeriod),i=Jr(e.introOfferPeriod||e.freeTrialPeriod),s=e.priceForDisplay,l=e.eligibilityType===V.STUDENT_1
if(t){var c=Ba(e.eligibilityType,n)
a=(l||i&&o&&s)&&na(s,i,o,l,c,r)||ye("",void 0,r)}else a=ta(e,o||void 0,r)||ye("",void 0,r)
return a}(f,S,p.isSubscribed,g):ye("",void 0,g)
var R,_=y==Q.FullScreenUpsell||y!=Q.SubscribeToChannel&&void 0,N=v==qr.SmartButtons||v==qr.HowToWatchCards,F=v==qr.SmartButtons&&(ve(g).isPlatformTV||ve(g).isPlatformNativeDesktop)&&h&&(null==f?void 0:f.eligibilityType)!=V.HARDWARE_1,L=b||!(null!=p&&p.isSubscribed)
R=null!=_?_:p.isAppleTvPlus&&N?(ra(f)||(null==f?void 0:f.eligibilityType)&&Na(null==f?void 0:f.eligibilityType)||b||F&&L)&&null!=m:L&&null!=m
var U=ye(R&&(null==m?void 0:m.tagLine)||"",void 0,g),H=ye(R&&(null==m?void 0:m.shortNote)||"",void 0,g),$=(null==f?void 0:f.bundleType)==D.CBTime,W=ye($&&f?f.title:p.name,void 0,g),G=null!==(r=null===(a=p.images)||void 0===a?void 0:a.whiteLogo)&&void 0!==r?r:lt
return $&&G&&(G.url=u.ResourceImageAppleTVPlus),{title:c||o,offerType:l,shortTitle:i,subtitle:s,tagline:U,upsellTitle:H,logoText:W,shouldShowUpsell:R,logoImage:G}}function Kr(e,t,n){if(!e)return ve(n).log("Attempted to make a subscription transaction action without uts offers"),null
if(!t)return ve(n).log("Attempted to make a subscription transaction action without uts channel"),null
var r=ra(e),a=!r&&Na(e&&e.eligibilityType),o=Fa(e&&e.eligibilityType),i=function(e,t,n){var r=ra(e),a=r?Se("TV.Hud.SubscribedToChannel",{channelName:"Apple One"},n):void 0,o=r?ye("com.apple.aristotle",void 0,n):void 0,i=Ba(e.eligibilityType,t.isSubscribed),s=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,o=Se("TV.Hud.SubscribedToChannel",{channelName:n||""},a),i=r?Se("TV.Hud.KeepWatchingChannel",{channelName:n||""},a):Se("TV.Hud.StartWatching",void 0,a)
if(Na(e&&e.eligibilityType))o=ve(a).isPlatformTV?Se("TV.Hud.TitleAppleTVPlusOfferRedeemed_tvOS",void 0,a):Se("TV.Hud.TitleAppleTVPlusOfferRedeemed",void 0,a)
else if(r&&t){var s={D:"TV.Hud.AddedFreeDays",M:"TV.Hud.AddedFreeMonths",Y:"TV.Hud.AddedFreeYears"}[t.type]
o=Pe(a,s,{count:parseInt(t.duration)})}else if(e.bundleType==D.CBTime){var l="tvOS"==ve(a).settings.platform?"Showtime and CBS All Access":e.title||n||""
o=Se("TV.Hud.SubscribedToChannel",{channelName:l},a)}return{notificationTitle:o,notificationBody:i}}(e,Jr(e.introOfferPeriod||e.freeTrialPeriod)||void 0,t.name,i,n)
return{notificationBundleTitle:a,bundleDomain:o,notificationTitle:s.notificationTitle,notificationBody:s.notificationBody}}(e,t,n),s=a&&Yr(e)||e.buyParams
return{isBundleOffer:r,isHardBundleOffer:a,isExtendedOffer:o,notificationParams:i,transactionInformation:Hr(Hr({channelId:t.id},e),{},{buyParams:s,offerType:e?e.eligibilityType:V.NONE})}}!function(e){e.SmartButtons="smartButtons",e.HowToWatchCards="howToWatchCards",e.Interstitial="interstitial"}(qr||(qr={}))
var Yr=function(e){if(!e||Na(e.eligibilityType)){var t=oa(e&&e.actionParameters)
if(t)return t.linkParams}},Xr=function(e,t){var n,r,a,o,i,s,l=e.channel,c=e.playable,u=l.isApSubscription,d=l.isAppleTvPlus,f=l.isTvAppBrand,p=c&&c.contentType,m=e.upsellOffer,v=e.metadataContainer.backgroundVideo,y=Wr(l,c,m),h=y.commerceSubscriptionOffer,g=y.editorialData,b=Qr({contentType:p,upsellData:g,subscriptionOffer:h,channel:l,triggerSource:null!==(n=e.triggerSource)&&void 0!==n?n:qr.SmartButtons,isFreePlayable:(null==c?void 0:c.entitlementReason)==A.Free,canonicalType:e.metadataContainer.utsMetadata.type,dependencies:t}),T=b.title,S=b.offerType,w=b.shortTitle,P=b.subtitle,k=b.tagline,I=b.upsellTitle,C=b.shouldShowUpsell,E=b.logoImage,D=e.metadataContainer.utsMetadata||{},x=D.leagueName,j=D.leagueShortName,M=null==g?void 0:g.images,B=p==O.SportingEvent&&l.isAppleTvPlus&&(null==c?void 0:c.isEntitledToPlay),R={channelId:l.id,upsellTitle:I,offerType:S,subscriptionTitle:T,channelName:l.name,subtitle:P,tagline:k,shortTitle:w,shouldShowUpsell:Boolean(C||(null==h?void 0:h.showUpsell)),trailerActionOrAlert:ve(t).settings.isInRetailDemoMode&&!B?Ot(l.name,v,t):void 0,logoImage:E,logoText:ye(l.name,void 0,t),channelArt:(null===(r=l.images)||void 0===r?void 0:r.coverArt)||(null===(a=l.images)||void 0===a?void 0:a.shelfImage)||lt,tallImage:null==M?void 0:M.channelSplashTallImage,heroImage:null==M?void 0:M.heroImage,fullScreenImage:null==M?void 0:M.channelSplashFullScreenImage,eligibilityType:null!==(o=null==h?void 0:h.eligibilityType)&&void 0!==o?o:V.NONE,isApSubscription:u,isAppleTvPlus:Boolean(d),isTvAppBrand:f,channelUrl:l.url,leagueName:x,leagueShortName:j,upsellImage:null!==(i=null==M?void 0:M.upsellImage)&&void 0!==i?i:null==M?void 0:M.upsellImagePosterArt,upsellImageTall:null!==(s=null==M?void 0:M.upsellImageTall)&&void 0!==s?s:null==M?void 0:M.upsellImagePosterArt,upsellImagePosterArt:null==M?void 0:M.upsellImagePosterArt,startOverDialogLiveImage:e.metadataContainer.sportsLiveArtwork}
return x||delete R.leagueName,j||delete R.leagueShortName,R},Jr=function(e){if(e&&e.length>2){var t=e.split(/P/i)
if(t.length>1){var n=t[1].split(/([M,D,Y])/i)
if(n.length>1){var r=n[0]
return{type:n[1],duration:r}}}}return null},Zr=function(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,s="FREE",l="FREE_CH",c=($r(r={HARDWARE_1_Y:"TV.Button.FreeYears",HARDWARE_1_M:"TV.Button.FreeMonths",STUDENT_1:"TV.Button.ChannelFree"},s,"TV.Button.SubscribeFree"),$r(r,l,"TV.Button.SubscribeChannelFree"),r),u=a&&n?l:s,d=!1
e.eligibilityType===V.HARDWARE_1?(u=e.eligibilityType,t&&t.type&&("M"===t.type&&"12"===t.duration&&(t.type="Y",t.duration="1"),u=u+"_"+t.type,d=!0)):e.eligibilityType===V.STUDENT_1&&(u=e.eligibilityType)
var f=c[u],p=d&&t?Pe(i,f,{count:parseInt(t.duration)}):Se(f,{channelName:n||""},i),m=Se("TV.Hud.SubscribedToChannel",{channelName:n||""},i)
if(o&&t){var v={D:"TV.Hud.AddedFreeDays",M:"TV.Hud.AddedFreeMonths",Y:"TV.Hud.AddedFreeYears"},y=v[t.type]
m=Pe(i,y,{count:parseInt(t.duration)})}else if(e.bundleType==D.CBTime){var h="tvOS"==ve(i).settings.platform?"Showtime and CBS All Access":e.title||n||""
m=Se("TV.Hud.SubscribedToChannel",{channelName:h},i)}return{htwTitle:p,notificationTitle:m}},ea={D:"TV.HowToWatch.SubscribeChannelPriceTitleDay",M:"TV.HowToWatch.SubscribeChannelPriceTitleMonth",Y:"TV.HowToWatch.SubscribeChannelPriceTitleYear"},ta=function(e,t,n){var r=t&&ea[t.type]
return t&&r&&Se(r,{price:e.priceForDisplay},n)||ye("",void 0,n)},na=function(e,t,n){var r,a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,l={D_M:"TV.SubDisclaimerDaysFreeMonthPrice",D_Y:"TV.SubDisclaimerDaysFreeYearPrice",M_M:"TV.SubDisclaimerMonthsFreeMonthPrice",M_Y:"TV.SubDisclaimerMonthsFreeYearPrice",STU_M:"TV.SubDisclaimerUnverifiedAutoRenewsMonthPrice",STU_Y:"TV.SubDisclaimerUnverifiedAutoRenewsYearPrice",UP_D:"TV.SubDisclaimerDaysFreeThenMonthPriceOrAnnual",UP_M:"TV.SubDisclaimerMonthsFreeThenMonthPriceOrAnnual"},c=null==t?void 0:t.duration,u=null==t?void 0:t.type
if("Y"===u&&c&&(u="M",c=(12*Number(c)).toString()),i&&c&&e){var d="UP_".concat(u)
a=l[d]}var f=o?"STU":u,p=null==n?void 0:n.type,m=f+"_"+p,v=null!==(r=a)&&void 0!==r?r:l[m]
if(!v)return ve(s).log("Error - loc string not found for subscription offer"),""
if(o)return Se(v,{price:e},s)
var y=parseInt(c||""),h=y&&!isNaN(y)&&Pe(s,v,{duration:y},{price:e})
return h}
function ra(e){return!!(e&&e.type&&e.type==x.Bundle&&e.amsUrl&&e.amsUrl.length)}function aa(e,t){var n=null,r=e.channel,a=e.playable,o=e.upsellOffer,i=e.metadataContainer,s=Wr(r,a,o),l=s.commerceSubscriptionOffer,c=(s.editorialData,Kr(l,r,t))
if(c){var u,d=c.transactionInformation
d&&(u=a?Hr(Hr({},d),Sr({playable:a,channel:r,metadataContainer:i},void 0,void 0,void 0,t)):d),n=Hr(Hr({},c),u)}return n}var oa=function(e){return e&&e.length?e.reduce((function(e,t){return Hr(Hr({},e),{},$r({},t.name,t.value))}),{}):null},ia=function(e,t){var n,r=e.find((function(e){return e.metadata.channelId==t.metadata.channelId&&e.actionType==t.actionType&&e.kind==de.Subscription}))
if(!r||(null===(n=e[e.length-1])||void 0===n?void 0:n.kind)!=de.Subscription)return[].concat(Fr(e),[t])
if(!r.versions||0==r.versions.length){r.versions
var a=function(e,t){if(null==e)return{}
var n,r,a=function(e,t){if(null==e)return{}
var n,r,a={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n])
return a}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,Nr)
r.versions=(r.versions||[]).concat(a)}return r.versions=(r.versions||[]).concat(t),e},sa=function(e,t,n){var r=e.channel,a=e.upsellOffer,o=e.playable,i=e.metadataContainer,s=aa(e,n),l=Xr(e,n)
if(!s)return t
var c=o?nr({playable:o,channel:r,metadataContainer:i},void 0,n):{}
return[].concat(Fr(t),[{kind:de.Subscription,actionType:le.Subscribe,action:s,metadata:Hr(Hr({},l),c),channel:r,playable:o,upsellOffer:a,supportsStreamSelectionPage:!1}])},la=function(e,t){var n
return(null===(n=e[e.length-1])||void 0===n?void 0:n.metadata.channelId)==t.id}
function ca(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?ca(Object(n),!0).forEach((function(t){da(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fa,pa,ma=function(e){var t,n,r,a,o,s=e.channel,l=e.upsellOffer,c=e.playable,u=e.playOfferTriggerSource==tn.SharedActivityInvite,d=e.dependencies,f=Wr(s,c,l,u),p=f.commerceSubscriptionOffer,m=f.editorialData,v=Kr(p,s,d)
if(!(p&&m&&v&&v.transactionInformation))return ve(d).log("SubscriptionOfferUpsell: Attempted to create a subscription confirmation page without valid data"),null
var y,h=null==v||null===(t=v.transactionInformation)||void 0===t?void 0:t.bundleType,g=Qr({contentType:void 0,subscriptionOffer:p,channel:s,triggerSource:e.subscriptionTriggerSource||e.playOfferTriggerSource||pa.UserAction,upsellData:m,subscriptionIntent:void 0,isFreePlayable:!1,dependencies:d}),b=g.title,T=g.shortTitle,S=g.subtitle,w=ya({channel:s,editorialData:m,canonicalMetadata:null==c?void 0:c.canonicalMetadata,disclaimerText:ve(d).settings.isUI?void 0:S,isSharedWatching:u,bundleType:h},d),P=null==v||null===(n=v.transactionInformation)||void 0===n?void 0:n.offerType,O=null==v||null===(r=v.transactionInformation)||void 0===r?void 0:r.type,k=e.subscriptionTriggerSource?ja[e.subscriptionTriggerSource]:e.playOfferTriggerSource?ln[e.playOfferTriggerSource]:void 0,I=null===(a=v.transactionInformation)||void 0===a?void 0:a.metrics,A=Ne(I),C=A.marketing,E=A.utsOfferMetrics,D=ua(ua(ua(ua(ua({},k?{upsellTriggerSource:k}:{}),{},{offerType:P||"",brandId:s.id,isSubscribed:!1,title:b.voiceOverText,isFreeTrial:Boolean(P&&(y=P,!(!y||y!==V.INTRO&&y!==V.HARDWARE_1&&y!==V.STUDENT_1)))},O?{type:O}:{}),h?{bundleType:h}:{}),{},{offerId:(null===(o=v.transactionInformation)||void 0===o?void 0:o.adamId)||""},E),{},{marketing:C}),x=null!=T?T:Se("TV.Button.Continue",void 0,d),j=ve(d).settings.isUI?S:void 0
if((u||e.playOfferTriggerSource==tn.PostPlaySuggested||e.playOfferTriggerSource==tn.PostPlayUpNext)&&c){var M=Pr(c,d)
M&&e.dataModel&&null!=e&&e.dataModel.action&&null!=e&&e.dataModel.action.transactionInformation?e.dataModel.action.transactionInformation.sharedWatchURL=M:ve(d).log("SharedWatch Sub Upsell: Not valid playable or transaction to add share watch url")}var B=ha(e.dataModel,x,j,e.subscriptionTriggerSource,e.subscriptionUIContext,e.playOfferTriggerSource,d),R=B?[B]:[]
return ve(d).isPlatformTV&&R.push(nt(Se("TV.Button.NotNow",void 0,d),d)),{pageType:u?i.SharedWatchSubscriptionConfirmationPage:i.SubscriptionConfirmationPage,display:w,metrics:D,items:R}},va=function(e){var t,n,r,o,s,l=e.playable,c=null===(t=e.playable)||void 0===t?void 0:t.sharedWatchId,u=e.dependencies
if(!(l&&l.isItunes&&l.sharedWatchEnabled&&c))return ve(u).log("SharedWatch iTunes Upsell: Not valid iTunes playbale or shared watch enabled"),null
var d=Pr(l,u),f=e.upsellOffers[l.channelId],p=null===(n=e.channels)||void 0===n?void 0:n[l.channelId],m=null===(r=l.upsellOfferIds)||void 0===r||null===(o=r.OfferType_SharedWatch)||void 0===o?void 0:o.editorialDataId,v=m&&(null==f||null===(s=f.editorialData)||void 0===s?void 0:s[m]),y=[],h=!1
if(e.dataModels.forEach((function(e){var t,n=null===(t=e.action)||void 0===t?void 0:t.transactionInformation
if(n){var r=$n(e.actionType)
n.sharedWatchURL=d
var o=$a(r,n),i=ga(e,u)
y.push(tt(o,i,void 0,u)),h||r!=a.RentPlayNow||(h=!0)}})),h&&y.length>1&&y.reverse(),l&&v&&p&&y.length){var g=ya({channel:p,editorialData:v,canonicalMetadata:null==l?void 0:l.canonicalMetadata,disclaimerText:void 0,isSharedWatching:!0,bundleType:void 0},u)
return null!=v&&v.images.upsellImage||null!=v&&v.images.upsellImagePosterArt?"iPadOS"!=ve(u).settings.platform||null==v||!v.images.upsellImage||null!=v&&v.images.upsellImageTall||ve(u).log("SharedWatch iTunes Upsell: Editorial data missing upsellImageTall while upsellImage is present"):ve(u).log("SharedWatch iTunes Upsell: Editorial data missing upsellImage & upsellImagePosterArt"),ve(u).isPlatformTV&&y.push(nt(Se("TV.Button.NotNow",void 0,u),u)),{pageType:i.SharedWatchiTunesSubscriptionConfirmationPage,display:g,metrics:{upsellTriggerSource:Ee.SharedActivityInvite,brandId:p.id,title:v.shortNote,isSubscribed:!1,isFreeTrial:!1,offerType:"",offerId:""},items:y}}return ve(u).log("SharedWatch iTunes Upsell: Invalid input data to create upsell page"),null},ya=function(e,t){var n,r,a,o=e.channel,i=e.editorialData,s=e.canonicalMetadata,l=e.isSharedWatching,c=(null===(n=o.images)||void 0===n?void 0:n.whiteLogo)||(null===(r=o.images)||void 0===r?void 0:r.blackLogo)
c&&e.bundleType==D.CBTime&&(c.url=u.ResourceImageAppleTVPlus)
var d,f,p,m,v=o.title||""
if(l)null!=i&&i.images.upsellImage&&(d=null==i?void 0:i.images.upsellImage,f="iPadOS"==ve(t).settings.platform?null==i?void 0:i.images.upsellImageTall:void 0),null!=i&&i.images.upsellImagePosterArt&&(p=null==i?void 0:i.images.upsellImagePosterArt),m=(null==s?void 0:s.showTitle)||(null==s?void 0:s.movieTitle)
else{var y,h,g,b,T=null===(y=i.images)||void 0===y?void 0:y.channelSplashFullScreenImage,S=null===(h=i.images)||void 0===h?void 0:h.channelSplashTallImage
if(T&&T.url&&(T.url=T.url.replace("{c}","sr")),S&&S.url&&(S.url=S.url.replace("{c}","tc")),d=null===(g=i.images)||void 0===g?void 0:g.heroImage,ve(t).isPlatformTV)d=null===(b=i.images)||void 0===b?void 0:b.channelSplashFullScreenImage
else if("iOS"!=ve(t).settings.platform||ve(t).settings.isUI){var w
if("iPadOS"==ve(t).settings.platform)f=null===(w=i.images)||void 0===w?void 0:w.channelSplashTallImage}else{var P
d=null===(P=i.images)||void 0===P?void 0:P.channelSplashTallImage}}return{channelLogo:c,channelTitle:ye(v,void 0,t),upsellImage:d,upsellImageTall:f,upsellImagePosterArt:p,title:ye(i.shortNote,void 0,t),description:ye(i.tagLine,void 0,t),disclaimerText:e.disclaimerText,contentLogo:l?null==s||null===(a=s.images)||void 0===a?void 0:a.contentLogo:void 0,contentTitle:m?ye(m,void 0,t):void 0,contentGenre:l&&null!=s&&s.genre?ye(null==s?void 0:s.genre,void 0,t):void 0,contentReleaseDate:l?null==s?void 0:s.releaseDate:void 0,contentDuration:l?null==s?void 0:s.duration:void 0,contentRating:l?null==s?void 0:s.rating:void 0}},ha=function(e,t,n,r,a,o,i){if(!e.action.transactionInformation)return ve(i).log("Failed to make sub button:: transactionInformation missing"),null
var s=void 0
o?s=Ua(e,o):r&&a?s=La(e,r,a):ve(i).log("Unable to constuct subscription post action"),e.action.transactionInformation.playbackInformation=e.action.playbackInformation,e.action.transactionInformation.playbackMetadata=e.action.playbackMetadata
var l=e.action.isHardBundleOffer,c=Ha({isCarrierOffer:l,transactionInformation:e.action.transactionInformation,notificationParams:e.action.notificationParams,postActionUrl:s})
return tt(c,t,n,i)},ga=function(e,t){switch(e.actionType){case ue.Get:return Se("TV.Button.Get",void 0,t)
case ue.Buy:return Se("TV.BuyForPrice",{buyPrice:e.metadata.price},t)
case ue.Rent:return Se("TV.RentForPrice",{rentPrice:e.metadata.price},t)}}
function ba(e,t,n,r,a,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,c=nn(n,r,l)
return{viewType:o.CanonicalOfferButton,display:{title:e,availabilityText:a,group:i,autoHighlight:s},action:t,metrics:c}}function Ta(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=nn(n,r,l)
return{viewType:o.CanonicalOfferButton,display:{title:e,autoHighlight:i,availabilityText:a,group:s},router:t,metrics:c}}function Sa(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function wa(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?wa(Object(n),!0).forEach((function(t){Oa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ka(e,t,n){var r=e.channel,a=e.upsellOffer,o=e.playable,i=a?ma({channel:r,upsellOffer:a,playable:o,dataModel:e,subscriptionTriggerSource:void 0,subscriptionUIContext:void 0,playOfferTriggerSource:tn.Canonical,dependencies:n}):null
if(i){var s=e.action&&e.action.isHardBundleOffer?void 0:e.metadata.subtitle
return Ta(e.metadata.subscriptionTitle,i,e,t,s,void 0,void 0,n)}}function Ia(e,t,n){arguments.length>3&&void 0!==arguments[3]||xa.Default
var r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=nn(e,r,a),i=e.action.transactionInformation
if(null!=i&&i.platterPassThrough)return{display:{title:e.metadata.subscriptionTitle},viewType:t,action:Wa(e,n,xa.Default,a),metrics:o}}function Aa(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Aa(Object(n),!0).forEach((function(t){Va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Da(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Da(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.UserAction="userAction",e.ChannelRoomBanner="ChannelRoomBanner",e.ChannelUpsellCarousel="ChannelUpsellCarousel",e.EpicShowcase="EpicShowcase",e.EpicInline="EpicInline",e.Spotlight="Spotlight",e.LiveService="LiveService",e.PlayerExit="PlayerExit",e.EpicStage="epicStage",e.SharedActivityInvite="sharedActivityInvite",e.Brick="Brick",e.ChannelLockup="ChannelLockup",e.AppLaunch="appLaunch",e.Deeplink="deeplink",e.InAppMessaging="inAppMessage"}(pa||(pa={}))
var xa,ja=(Va(fa={},pa.UserAction,Ee.UserAction),Va(fa,pa.ChannelRoomBanner,Ee.UserAction),Va(fa,pa.ChannelUpsellCarousel,Ee.UserAction),Va(fa,pa.EpicShowcase,Ee.UserAction),Va(fa,pa.EpicInline,Ee.UserAction),Va(fa,pa.Spotlight,Ee.UserAction),Va(fa,pa.LiveService,Ee.UserAction),Va(fa,pa.PlayerExit,Ee.UserAction),Va(fa,pa.SharedActivityInvite,Ee.SharedActivityInvite),Va(fa,pa.Brick,Ee.UserAction),Va(fa,pa.ChannelLockup,Ee.UserAction),Va(fa,pa.AppLaunch,Ee.AppLaunch),Va(fa,pa.Deeplink,Ee.Deeplink),Va(fa,pa.InAppMessaging,Ee.IAM),Va(fa,pa.EpicStage,Ee.UserAction),fa)
!function(e){e.Default="default",e.UpsellInChannelPage="upsellInChannelPage",e.UpsellInCanonicalPage="upsellInCanonicalPage"}(xa||(xa={}))
var Ma=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t
return(t=[{key:"getSubscriptionOfferData",value:function(e,t){var n,r,i=null==e||null===(n=e.upsellOffer)||void 0===n||null===(r=n.commerceOffers)||void 0===r?void 0:r[0],s=null==i?void 0:i.amsUrl
if(!i)throw"Subscription transaction data not found"
var l,d=this._getOfferEditorialDataFromTriggerSource(e.channel.upsellOfferIds,e.upsellOffer,e.subscriptionTriggerSource)
i&&Na(i.eligibilityType)?e.subscriptionIntent=Q.FullScreenUpsell:i&&Fa(i.eligibilityType)||e.channel.isAppleTvPlus&&(l=e.subscriptionTriggerSource,[pa.ChannelRoomBanner,pa.Spotlight,pa.EpicInline,pa.EpicShowcase,pa.ChannelUpsellCarousel].includes(l))?e.subscriptionIntent=Q.SubscribeToChannel:s&&(e.subscriptionIntent=Q.PlatterOffer),e.subscriptionIntent==Q.FullScreenUpsell&&(e.upsellOffer.editorialData||(ve(t).log("Forcing sub intent to subscribe from fullscreen upsell due to lack of editorial data"),e.subscriptionIntent=Q.SubscribeToChannel))
var f={subscriptionCommerceOffer:i,subscriptionOfferEditorialData:d,subscriptionTriggerSource:e.subscriptionTriggerSource,subscriptionIntent:e.subscriptionIntent},p=Ea(zr(e.channel,f,t),1)[0]
if(_a(e.channel))return function(e){var t,n,r,i={actionType:a.OpenInAppleMusic,requiresAuthentication:!1},s=null!==(t=e.metadata.shortTitle)&&void 0!==t?t:Se("TV.AppleMusic.ChannelPage.ButtonLabel")
return{viewType:o.Button,display:{title:he([{rawString:null===(n=s.display[0])||void 0===n?void 0:n.rawString,kind:c.String},{rawString:u.ResourceImageAvailabilityPunchout,kind:c.ImageString}],null===(r=s.display[0])||void 0===r?void 0:r.rawString),disclaimerText:e.metadata.subtitle},metrics:$e(i,a.OpenInAppleMusic,""),action:i}}(p)
var m=this._getSubscriptionOfferData(p,e,t)
if(e.subscriptionIntent==Q.SubscribeToChannel&&!m.action||e.subscriptionIntent==Q.FullScreenUpsell&&!m.router)throw new Error("Incorrect data obtained from VDS for channel ".concat(e.channel.id))
return m}},{key:"getPlatterData",value:function(e,t){var n,r,a=this
if(!e.upsellOffer.platterOffers)throw"Subscription platter not found"
var o=this._getOfferEditorialDataFromTriggerSource(e.channel.upsellOfferIds,e.upsellOffer,pa.UserAction)
if(!o)throw"Subscription editorial data not found"
var s=[]
e.upsellOffer.platterOffers.forEach((function(n){var r,i={subscriptionCommerceOffer:n,subscriptionOfferEditorialData:o,subscriptionTriggerSource:e.subscriptionTriggerSource,subscriptionIntent:Q.SubscribeToChannel},l=Ea(zr(e.channel,i,t),1)[0],c=a._getSubscriptionOfferData(l,e,t)
if(!c.action)throw new Error("Incorrect data obtained from VDS for channel ".concat(e.channel.id))
s.push(Ca(Ca({},c),{},{display:{channelLogo:n.platterOfferData.channelLogo,title:ye(n.platterOfferData.title,void 0,t),disclaimerText:ye(n.platterOfferData.caption,void 0,t),subtitle:n.platterOfferData.includeStrikeThrough?ge(n.platterOfferData.subtitle,void 0,t):ye(n.platterOfferData.subtitle,void 0,t),buttonText:ye(null!==(r=n.ctaCopy)&&void 0!==r?r:"",void 0,t),type:n.platterOfferData.displayType,includeStrikeThrough:n.platterOfferData.includeStrikeThrough,refreshPlatterOnSuccess:n.platterOfferData.refreshPlatterOnSuccess}},n.platterPassThrough?{action:Ca(Ca({},c.action),{},{platterPassThrough:null==n?void 0:n.platterPassThrough,channelId:e.channel.id,notificationParams:l.action.notificationParams})}:{}))}))
var l=ye(null!==(n=o.title)&&void 0!==n?n:"",void 0,t)
return{pageType:i.SubscriptionPlatterPage,display:{title:l,tagLine:ye(null!==(r=o.tagLine)&&void 0!==r?r:"",void 0,t),headerImage:o.images.topHeaderImage,shelfImage:o.images.topShelfImage},metrics:{upsellTriggerSource:e.subscriptionTriggerSource?ja[e.subscriptionTriggerSource]:void 0,brandId:e.channel.id,isSubscribed:!1,title:l.voiceOverText},items:s}}},{key:"_getSubscriptionOfferData",value:function(e,t,n){var r
if(null==e||null===(r=e.action)||void 0===r||!r.transactionInformation)throw new Error("Unable to construct subscription transaction")
var a=(It(n)||{}).router,i=ve(n).settings.isInRetailDemoMode&&a?a:e.metadata.shouldShowUpsell&&ma({channel:t.channel,upsellOffer:t.upsellOffer,dataModel:e,subscriptionTriggerSource:t.subscriptionTriggerSource,subscriptionUIContext:t.subscriptionUIContext,playOfferTriggerSource:void 0,dependencies:n})||void 0,s=e.action.isBundleOffer,l=e.actionType==le.SubscribeWithPlatter,c=t.subscriptionTriggerSource==pa.EpicStage&&t.channel.isAppleTvPlus,u=s||!e.metadata.shouldShowUpsell&&!l||c?Ha({transactionInformation:e.action.transactionInformation,notificationParams:e.action.notificationParams,isBundleOffer:s}):l?Wa(e,t.subscriptionTriggerSource,t.subscriptionUIContext,n):void 0
if(u&&(u.postActionUrl=La(e,t.subscriptionTriggerSource,t.subscriptionUIContext)),l&&t.subscriptionTriggerSource!=pa.Deeplink){var d=Ia(e,o.Cell,t.subscriptionTriggerSource,t.subscriptionUIContext,0,n)
if(d)return d}var f=e.action.isHardBundleOffer?void 0:e.metadata.subtitle
return{viewType:o.Cell,display:{title:e.metadata.shortTitle,disclaimerText:f},action:u,router:i,metrics:nn(e,0,n)}}},{key:"_getOfferEditorialDataFromTriggerSource",value:function(e,t,n){var r,a,o=z.Default,i=null==e||null===(r=e[o])||void 0===r?void 0:r.editorialDataId
return i?null==t||null===(a=t.editorialData)||void 0===a?void 0:a[i]:void 0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ba=function(e,t){return t&&Ra(e)},Ra=function(e){return e&&(e===V.HARDWARE_1||e===V.EXTENDED_OFFER||e===V.HARD_BUNDLE)},_a=function(e){return e.id.includes("tvs.sbd.11000140")},Na=function(e){return e&&e===V.HARD_BUNDLE},Fa=function(e){return e&&e===V.EXTENDED_OFFER},La=function(e,t,n){var r
return(t!=pa.ChannelUpsellCarousel&&t!=pa.EpicInline&&t!=pa.EpicShowcase&&t!=pa.LiveService&&t!=pa.EpicStage&&t!=pa.Spotlight||n==xa.UpsellInChannelPage)&&t!=pa.Deeplink&&t!=pa.AppLaunch&&t!=pa.InAppMessaging||(r=e.metadata.channelUrl),r},Ua=function(e,t){var n,r,a,o
return t!=tn.UpNext&&t!=tn.PostPlayUpNext&&t!=tn.PostPlaySuggested||(n=null===(r=e.action)||void 0===r||null===(a=r.transactionInformation)||void 0===a||null===(o=a.playbackInformation)||void 0===o?void 0:o.url),n},Ha=function(e){return{requiresAuthentication:!0,isBundleOffer:!!e.isBundleOffer,actionType:e.isCarrierOffer?a.ActivateCarrierOffer:a.Subscribe,transactionInformation:e.transactionInformation,notificationParams:e.notificationParams,postActionUrl:e.postActionUrl}},$a=function(e,t){return{requiresAuthentication:!0,actionType:e,transactionInformation:t}}
function Wa(e,t,n,r){var o,i,s=e.action.transactionInformation
if(!s)throw new Error("Attempt to construct subscription transaction platter with insufficient data")
return{actionType:a.SubscribeWithPlatter,amsUrl:null==s?void 0:s.amsUrl,platterPassThrough:null==s?void 0:s.platterPassThrough,channelId:(null==e||null===(o=e.channel)||void 0===o?void 0:o.id)||(null==e||null===(i=e.metadata)||void 0===i?void 0:i.channelId),requiresAuthentication:!0,notificationParams:e.action.notificationParams,postActionUrl:"windows"==ve(r).settings.platform?void 0:La(e,t,n)}}function Ga(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Ga(Object(n),!0).forEach((function(t){za(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qa=function(e,t){var n=Ka(e,t)
return{click:n,impressions:Re(n),location:_e(n,t)}},Ka=function(e,t){var n,r,a,o,i,s=Ae.HowToWatch,l=Fe(e.actionType),c=e.metadata.channelId,u=e.metadata.id,d={}
if(e.kind==de.Subscription){var f,p,m,v=e.action.transactionInformation
r=v&&v.type,a=v&&v.bundleType
var y=v&&v.metrics,h=Ne(y)
i=h.marketing,d=h.utsOfferMetrics
var g=e
n=v&&v.offerType,u=v&&(v.adamId||v.playbackInformation&&v.playbackInformation.adamId)||u
var b=null===(f=g.upsellOffer)||void 0===f||null===(p=f.commerceOffers)||void 0===p||null===(m=p[0])||void 0===m?void 0:m.legalLine
o={buyParams:v&&v.buyParams,name:g.metadata.subscriptionTitle.voiceOverText,subtitle:b||g.metadata.subtitle.voiceOverText,otherVersions:0,brandId:c}}else if(e.kind==de.Itunes){var T=e
o={name:T.metadata.title,subtitle:T.metadata.price,otherVersions:T.versions&&T.versions.length||0,brandId:c,buyParams:T.action&&T.action.transactionInformation&&T.action.transactionInformation.buyParams||void 0}}else o={name:e.metadata.appName,otherVersions:0,brandId:c}
return qa(qa(qa({},Ya(e.metadata.contentType,s,u,l,o)),{},{brandId:c,offerType:n,type:r,bundleType:a},i?{marketing:i}:{}),d)},Ya=function(e,t,n,r,a){return{targetType:t,targetId:n,actionType:r,contentType:e,actionDetails:a}}
function Xa(e){return function(e){if(Array.isArray(e))return Ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ja(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ja(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ja(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}var Za=function(e,t){var n,s,l,c,u,d,f,p
if(!(null!=e&&null!==(n=e.data)&&void 0!==n&&null!==(s=n.movies)&&void 0!==s&&s.length&&null!=e&&null!==(l=e.data)&&void 0!==l&&l.playables&&null!=e&&null!==(c=e.data)&&void 0!==c&&null!==(u=c.content)&&void 0!==u&&u.images&&null!=e&&null!==(d=e.data)&&void 0!==d&&d.bundlePlayables))throw new Error("Invalid UTS data provided")
var m,v,y,h=null==e?void 0:e.data,g=null==h?void 0:h.content,b=g.title,T=g.images,w=g.id,P=h.movies,k=(v=h.content.id,(y=null===(m=h.bundlePlayables[v].find((function(e){return e.playableId})))||void 0===m?void 0:m.playableId)?h.playables[y]:void 0)
if(null==k||!k.itunesMediaApiData)throw new Error("Playable invalid - missing itunesMediaApiData")
var I=k&&k.itunesMediaApiData,A=I&&I.offers||[],C=I&&I.personalizedOffers||[],E=function(e,t,n){return Tn(Gn(t,!1,n),1)[0]}(0,[].concat(Xa(A),Xa(C)),t),D=ye(b,void 0,t),V={pageType:i.TransactionConfirmationPage,display:{title:D,coverArt:null!==(f=T&&T.contentImage)&&void 0!==f?f:lt,accountText:ve(t).settings.accountId?ye(null!==(p=ve(t).settings.accountId)&&void 0!==p?p:"",void 0,t):void 0},metrics:{offerId:w,isAdultContent:P.some((function(e){return e.isAdultContent}))},items:[tt($a(a.Buy,{buyParams:E.buyParams,priceFormatted:E.priceFormatted,hlsUrl:E.hlsUrl,kind:E.kind,seasonOfferKind:E.seasonOfferKind,playbackMetadata:cr({rating:k.rating,type:O.Movie},t)}),void 0,void 0,t),nt(void 0,t)]},x={targetType:Ae.Button,targetId:w,actionType:Ce.Buy,actionDetails:{name:b,buyParams:E.buyParams}}
return{pageType:i.MovieBundleOffersPage,display:{title:D},moviesInBundle:P.map((function(e,n){var a,o=Ya(r.Movie,Ae.Swoosh,e.id,Ce.Navigate,{})
return{image:null!==(a=e.images&&e.images.posterArt)&&void 0!==a?a:lt,title:ye(e.title,void 0,t),router:{navigationUrl:e.url},metrics:{click:o,impressions:Re(o),location:_e(o,n)}}})),movieBundleOffer:E.kind==S.Purchased?void 0:{viewType:o.Button,display:{title:Se("TV.MovieBundle.Buy",{price:E.priceFormatted||""},t)},router:V,metrics:{click:x,impressions:Re(x)}}}}
function eo(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?eo(Object(n),!0).forEach((function(t){no(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t,n){var r,a,o,s=(null===(r=e.versions)||void 0===r?void 0:r.length)&&ao({pageType:i.VersionPickerPage,pageArgs:e.versions,title:Se("TV.Confirmation.ChooseVersionsHeader",void 0,n),triggerSource:t,dependencies:n})||null
if(s&&e.versions){var l=ve(n).settings.platform;(ve(n).isPlatformIOSorIPadOS||ve(n).isPlatformNativeDesktop||"web"==l)&&(o=Pe(n,"TV.HowToWatch.VersionsButtonText",{count:e.versions.length})),a=Pe(n,"TV.HowToWatch.VersionsFocusText",{count:e.versions.length})}return{versionPickerPage:s,versionsFocusText:a,versionsActionText:o}}function ao(e){var t=e.pageType,n=e.pageArgs,r=e.title,s=e.entityType,l=e.triggerSource,c=void 0===l?pa.UserAction:l,u=e.dependencies
switch(t){case i.CanonicalOffersPage:return r?Co(n,r,s,u):(ve(u).log("Attempted to create interstitial page without a title"),null)
case i.VersionPickerPage:return r?function(e,t,n,r){return{pageType:i.VersionPickerPage,display:{title:t},metrics:{id:e.length&&e[0].metadata.id||"",actionType:e.length&&e[0].actionType||"",numberOfVersions:e.length},offers:e.map((function(e){return function(e,t,n){var r,i,s,l,c,u,d,f,p,m,v,y,h,g=e.actionType==ce.OpenIn||e.actionType==ce.InstallApp?{action:{punchoutInformation:e.action,actionType:a.OpenIn,requiresAuthentication:!0,title:e.metadata.name,type:e.metadata.contentType}}:null,b=!0
t==qr.Interstitial&&(b=!e.metadata.isPurchased)
var T=ve(n).isPlatformIOSorIPadOS||ve(n).isPlatformNativeDesktop,S=(null==e?void 0:e.actionType)==ue.Play||(null==e?void 0:e.actionType)==le.Play||(null==e?void 0:e.actionType)==le.PlayFreeWithSubscriptionOffer,w=null
b&&(w=S?Yn(e,n):T||e.actionType==ue.Get?Kn(e,n):null)
var P,O=w||g?null:so(e,n),k=null!==(r=null===(i=e.metadata)||void 0===i?void 0:i.longTitle)&&void 0!==r?r:e.metadata.title
P=S?"SportingEvent"==e.metadata.contentType?void 0:Se("TV.Button.Play",void 0,n):ye(e.metadata.price||"",void 0,n)
var I="playable"in e&&(null===(s=e.playable)||void 0===s||null===(l=s.canonicalMetadata)||void 0===l||null===(c=l.images)||void 0===c?void 0:c.contentImage)||e.metadata.art
return to(to(to({viewType:o.VersionPickerOfferItem,display:{title:e.actionType==le.Play&&e.playable&&null!==(u=e.playable)&&void 0!==u&&u.limitPlayback?ye(e.metadata.title+" (M))",void 0,n):ye(k,void 0,n),versionCoverArt:I,languagesDescription:"SportingEvent"==e.metadata.type?Ht(e.metadata,null==e||null===(d=e.action)||void 0===d||null===(f=d.playbackInformation)||void 0===f?void 0:f.locale,null==e||null===(p=e.action)||void 0===p?void 0:p.playbackMetadata,n):ye(e.metadata.extendedLanguagesDescription||e.metadata.extendedLanguagesDescription||"",void 0,n),label:P},metrics:$e(e.action,e.actionType,(null===(m=e.action.transactionInformation)||void 0===m||null===(v=m.playbackInformation)||void 0===v?void 0:v.referenceId)||(null===(y=e.action)||void 0===y||null===(h=y.punchoutInformation)||void 0===h?void 0:h.channel.id)||"",e.metadata.title,void 0,n)},O&&{router:O}),g),w&&{action:w})}(e,n,r)}))}}(n,r,c,u):(ve(u).log("Attempted to create a version picker page without a title"),null)
case i.TransactionConfirmationPage:return so(n,u)
case i.ProductPage:return oo(n,u)}return ve(u).log("Attempted to create a page without a proper type"),null}var oo=function(e,t){var n,r=e.type,a=e.id,o=e.showId
switch(r){case O.Show:case O.Season:n="TVShow"
break
case O.Episode:n="Episode",o||ve(t).log("No Show ID provided for episode page")
break
case O.Movie:n="Movie"
break
case O.SportingEvent:n="SportingEvent"
break
default:n="Special"}return{pageType:i.ProductPage,productPageType:n,id:a,showId:o}}
function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var so=function(e,t){var n,o,s=(io(n={},ue.Rent,a.RentPlayNow),io(n,ue.Buy,a.Buy),io(n,ue.Complete,a.Buy),n)
if(ve(t).isPlatformIOSorIPadOS||ve(t).isPlatformNativeDesktop||!Object.keys(s).includes(e.actionType))return null
var l=e.action&&e.action.transactionInformation&&s[e.actionType]?$a(s[e.actionType],e.action.transactionInformation):null
if(!l)return null
var c=e.versions&&e.versions.length&&ao({pageType:i.VersionPickerPage,pageArgs:e.versions,title:Se("TV.Confirmation.ChooseVersionsHeader",void 0,t),dependencies:t}),u=tt(l,void 0,void 0,t),d=e.actionType==ue.Rent&&e.action.transactionInformation&&tt($a(a.RentPlayLater,e.action.transactionInformation),void 0,void 0,t)||null,f=c?tt(c,void 0,void 0,t):null,p=nt(void 0,t),m=[u].concat(f||[]).concat(d||[]).concat(p),v=void 0
e.metadata.subtitlesDescription&&(v=ye(e.metadata.subtitlesDescription,void 0,t))
var y=void 0
e.metadata.languagesDescription&&(y=ye(e.metadata.languagesDescription,void 0,t))
var h=lo(e.actionType,t),g=e.metadata.contentType==r.Movie?co(e.actionType,t):void 0,b=null!=ve(t).settings.accountId
return{pageType:i.TransactionConfirmationPage,display:{title:ye(e.metadata.title,void 0,t),coverArt:e.metadata.art,languagesTextHeader:Se("TV.Languages",void 0,t),audioLanguages:y,subtitleLanguages:v,disclaimerText:h,accountTextHeader:b?Se("TV.Confirmation.Account",void 0,t):void 0,accountText:ve(t).settings.accountId?ye(null!==(o=ve(t).settings.accountId)&&void 0!==o?o:"",void 0,t):void 0,extrasDisclaimerText:g},metrics:{offerId:e.metadata.id,isAdultContent:e.metadata.isAdultContent},items:m}},lo=function(e,t){switch(e){case ue.Rent:return Se("TV.Confirmation.DisclaimerRental",void 0,t)
case ue.Preorder:return Se("TV.PreOrderCopy",void 0,t)}},co=function(e,t){switch(e){case ue.Rent:return Se("TV.Confirmation.DisclaimerRentalExtras",void 0,t)
case ue.Buy:case ue.Complete:return Se("TV.BuyCopy",void 0,t)}}
function uo(e,t){var n
if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fo(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
var r=0,a=function(){}
return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1
return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next()
return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function fo(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function po(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?po(Object(n),!0).forEach((function(t){vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e,t,n){var a,o,i,s,l,c,d,f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],p=arguments.length>4?arguments[4]:void 0,m=(e.action,e.actionType),v=e.metadata.willResume,y=Qa(e,n),h=u.ResourceImageAppleTV,g=Se(v?"TV.HowToWatch.Resume":"TV.HowToWatch.Play",void 0,p),b=ve(p).isPlatformIOSorIPadOS||ve(p).isPlatformNativeDesktop,T=e.actionType==ue.Preorder||e.actionType==ue.Play||e.actionType==ue.Get||b?Kn(e,p):null,S=ve(p).settings.isInRetailDemoMode?kt(e.actionType,p):void 0,w=S&&S.router,P=ye(e.metadata.channelName||"",void 0,p)
if(e.metadata.contentType==r.Movie){var O=(vo(d={},ue.Get,Se("TV.HowToWatch.Get",void 0,p)),vo(d,ue.Buy,Se("TV.HowToWatch.Buy",void 0,p)),vo(d,ue.Play,g),vo(d,ue.Rent,Se("TV.HowToWatch.Rent",void 0,p)),vo(d,ue.Preorder,Se("TV.HowToWatch.PreOrder",void 0,p)),vo(d,ue.Preordered,Se("TV.HowToWatch.PreOrdered",void 0,p)),vo(d,ue.Complete,null),vo(d,ue.Update,null),d)[m],k=e,I=k.metadata.hasExtras&&ve(p).isITunesExtrasSupported?Se("TV.HowToWatch.SubTitle.iTunesExtras",void 0,p):void 0,A=b?null:so(k,p),C=ro(e,void 0,p),E=C.versionPickerPage,D=C.versionsFocusText,V=C.versionsActionText
return T||E||A||w?O&&ho(mo(mo({art:h,title:O,subtitle:I,versionsActionText:V,price:ye(k.metadata.price,void 0,p),confirmationDialogNode:A,isPurchased:k.metadata.isPurchased,isRented:k.metadata.isRented,versionPickerPage:E,action:T},D&&{versionsFocusText:D}),{},{metrics:y,purchaseAlert:w,providerName:P,dependencies:p})):[]}if(e.metadata.contentType==r.Show){var x,j,M,B=e,R=new Set(null===(x=e.seasons)||void 0===x?void 0:x.filter((function(e){return void 0!==e.metadata.seasonNumber})).map((function(e){return e.metadata.seasonNumber}))).size||0,_=R<=1,N=null
if(_)N=so(e,p),M=e.metadata.isPurchased
else{var F=e.seasons||[]
M=F.every((function(e){return e.metadata.isPurchased}))}var L=(s=e,vo(o={},ue.Get,Se("TV.HowToWatch.Get",void 0,p)),vo(o,ue.Buy,Se("TV.HowToWatch.BuySeasonNumber",{seasonNumber:String(B.metadata.seasonNumber||"")},p)),vo(o,ue.Play,g),vo(o,ue.Rent,null),vo(o,ue.Preorder,Se("TV.HowToWatch.PreOrder",void 0,p)),vo(o,ue.Preordered,Se("TV.HowToWatch.PreOrdered",void 0,p)),vo(o,ue.Complete,Se("TV.HowToWatch.CompleteSeason",void 0,p)),vo(o,ue.Update,Se("TV.HowToWatch.Update",void 0,p)),l=o,vo(i={},fe.Invalid,null),vo(i,fe.Pass,Se("TV.HowToWatch.BuySeasonPassNumber",{seasonNumber:String(B.metadata.seasonNumber||"")},p)),vo(i,fe.BuySeason,Se("TV.HowToWatch.BuySeasonNumber",{seasonNumber:String(B.metadata.seasonNumber||"")},p)),vo(i,fe.AllEpisodes,Se("TV.HowToWatch.SeasonAllEpisodesNumber",{seasonNumber:String(B.metadata.seasonNumber||"")},p)),vo(i,fe.MultiPass,null),vo(i,fe.Purchased,s.metadata.seasonNumber?Se("TV.HowToWatch.SeasonNumber",{seasonNumber:String(s.metadata.seasonNumber)},p):Se("TV.HowToWatch.SubTitle.Purchased",void 0,p)),vo(i,fe.CompleteMySeason,Se("TV.HowToWatch.CompleteSeasonNumber",{seasonNumber:String(B.metadata.seasonNumber||"")},p)),c=i,s.metadata.purchaseType?R>1?Se(M?"TV.HowToWatch.Seasons":"TV.HowToWatch.BuySeasons",void 0,p):c[s.metadata.purchaseType]:l[m]),U=(!M||e.seasons&&e.seasons.length>1)&&e.seasons&&L&&Co(e.seasons,L,void 0,p)||null,H=B.metadata.availabilitySeasonsCount,$=B.metadata.availabilityInfo,W=ve(p).isPlatformIOSorIPadOS||ve(p).isPlatformNativeDesktop,G=R>1&&H>1?Se("TV.HowToWatch.SeasonsNumberRange",{seasonNumberRange:$},p):W&&f&&M?Se("TV.HowToWatch.SubTitle.Purchased",void 0,p):void 0,q=ro(_&&e.seasons?e.seasons[0]:B,f?qr.Interstitial:void 0,p),z=q.versionPickerPage,Q=q.versionsFocusText,K=q.versionsActionText,Y=f&&e.metadata.isPurchased,X=M,J=_&&!Y&&!X,Z=J&&b?Kn(e,p):null
if(J&&!Z&&!(U||z||N||w))return[]
var ee=void 0,te=M&&!W
if(B.seasons&&R>1&&!te){var ne,re=1/0,ae="",oe=B.seasons.map((function(e){return e.metadata.price})),ie=uo(oe)
try{for(ie.s();!(ne=ie.n()).done;){var se=ne.value,le=se&&Number(se.replace(/[^0-9.]+/g,""))
le&&le<re&&(re=le,ae=se||ae)}}catch(e){ie.e(e)}finally{ie.f()}ee=Se("TV.HowToWatch.BuyFromPrice",{price:ae},p)}var ce=te?Se("TV.HowToWatch.SubTitle.Purchased",void 0,p):R>1?ee:ye(e.metadata.price,void 0,p),de=f?1==(null===(j=e.seasons)||void 0===j?void 0:j.length)?e.seasons[0].metadata.art:e.metadata.art:h
return ho(mo(mo({art:de,title:L},G&&{subtitle:G}),{},{price:ce,isPurchased:M,action:Z,confirmationDialogNode:N,interstitialNode:U,versionPickerPage:z,versionsFocusText:Q,versionsActionText:K,metrics:y,purchaseAlert:w,providerName:P,dependencies:p}))}if(t==r.Episode){var pe=e,me=(vo(a={},ue.Get,Se("TV.HowToWatch.GetEpisode",void 0,p)),vo(a,ue.Buy,Se("TV.HowToWatch.BuyEpisode",void 0,p)),vo(a,ue.Play,g),vo(a,ue.Rent,null),vo(a,ue.Complete,null),vo(a,ue.Update,null),vo(a,ue.Preorder,Se("TV.HowToWatch.PreOrder",void 0,p)),vo(a,ue.Preordered,Se("TV.HowToWatch.PreOrdered",void 0,p)),a)[m],he=ro(e,void 0,p),ge=he.versionPickerPage,be=he.versionsFocusText,Te=he.versionsActionText,we=so(e,p)
return T||ge||we||w?me&&ho({art:h,title:me,subtitle:pe.metadata.episodeNumber&&pe.metadata.seasonNumber?Se("TV.SeasonEpisode.Abbreviated",{episodeNumber:String(pe.metadata.episodeNumber||""),seasonNumber:String(pe.metadata.seasonNumber||"")},p):ye("",void 0,p),action:T,versionPickerPage:ge,versionsFocusText:be,versionsActionText:Te,price:ye(pe.metadata.price,void 0,p),isPurchased:e.metadata.isPurchased,confirmationDialogNode:we,metrics:y,purchaseAlert:w,providerName:P,dependencies:p}):[]}return[]}var ho=function(e){var t=e.art,n=e.title,r=e.subtitle,a=e.price,i=e.isPurchased,l=e.isRented,c=e.confirmationDialogNode,u=e.interstitialNode,d=e.versionPickerPage,f=e.action,p=e.versionsFocusText,m=e.versionsActionText,v=e.metrics,y=e.purchaseAlert,h=e.providerName,g=e.dependencies
return[mo(mo(mo(mo(mo(mo({viewType:o.CanonicalOfferCard,display:mo(mo(mo(mo(mo({image:t,price:a,title:n,imageStyle:s.Default},r&&{subtitle:r}),i&&{purchasedIndicatorText:Se(l?"TV.HowToWatch.SubTitle.Rented":"TV.HowToWatch.SubTitle.Purchased",void 0,g)}),p&&{versionsFocusText:p}),m&&{versionsActionText:m}),{},{providerName:h})},f&&!y&&{action:f}),y&&{router:y}),u&&{router:u}),c&&{router:c}),d&&{versions:d}),{},{metrics:v})]}
function go(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?go(Object(n),!0).forEach((function(t){To(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function So(e,t,n,i){var l,c=Qa(e,n),u=ro(e,void 0,i),d=u.versionPickerPage,f=u.versionsActionText,p=u.versionsFocusText,m=(l=e.metadata.appName,e.metadata.isNetflix?Se("TV.HowToWatch.OpenPunchoutChannel",{channelName:l},i):e.metadata.isInstalled?Se("TV.HowToWatch.OpenInApp",{appName:l},i):Se("TV.HowToWatch.GetApp",{appName:l},i)),v=ye(e.metadata.channelName||"",void 0,i)
if(e.metadata.contentType==r.Show||e.metadata.contentType==r.Episode){var y=e.metadata.availableSeasons,h=e.metadata.availableSeasonsCount
return[bo(bo({viewType:o.CanonicalOfferCard,action:{punchoutInformation:e.action,actionType:a.OpenIn,requiresAuthentication:!0,title:e.metadata.name,type:e.metadata.contentType},metrics:c},d&&{versions:d}),{},{display:bo(bo(bo({title:m},p&&{versionsFocusText:p}),f&&{versionsActionText:f}),{},{subtitle:h>1?Se("TV.HowToWatch.SeasonsNumberRange",{seasonNumberRange:y},i):1==h?Se("TV.SeasonTitle.Abbreviated",{seasonNumber:y},i):void 0,image:e.metadata.art,imageStyle:s.AppIcon,providerName:v})})]}return[bo(bo({action:{punchoutInformation:e.action,actionType:a.OpenIn,requiresAuthentication:!0,title:e.metadata.name,type:e.metadata.contentType},metrics:c},d&&{versions:d}),{},{viewType:o.CanonicalOfferCard,display:bo(bo(bo({title:m},p&&{versionsFocusText:p}),f&&{versionsActionText:f}),{},{image:e.metadata.art,imageStyle:s.AppIcon,providerName:v})})]}function wo(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?wo(Object(n),!0).forEach((function(t){Oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e,t,n,i,l){var c,u,d=Qa(e,i),f=e.metadata.availabilityInfo,m=e.metadata.availabilitySeasonsCount||0,v=m>1?Se("TV.HowToWatch.SeasonsNumberRange",{seasonNumberRange:f},l):1==m?Se("TV.SeasonTitle.Abbreviated",{seasonNumber:f},l):void 0,y=ye(e.metadata.channelName||"",void 0,l),h=null!==(c=null===(u=e.action.playbackInformation)||void 0===u?void 0:u.supportsStartOver)&&void 0!==c&&c
if(e.actionType==le.Subscribe){var g,b,T=!!e.action.isBundleOffer,S=e.action.isHardBundleOffer||!1
if(Boolean(null===(g=e.action.transactionInformation)||void 0===g?void 0:g.platterPassThrough))return function(e,t,n){var r,i,l,c=Qa(e,t),u=null===(r=e.upsellOffer)||void 0===r||null===(i=r.commerceOffers)||void 0===i?void 0:i[0]
return null!=u&&u.platterPassThrough?[{display:{title:ye(null!==(l=u.ctaCopy)&&void 0!==l?l:"",void 0,n),image:e.metadata.channelArt,imageStyle:s.Default},viewType:o.CanonicalOfferCard,action:{actionType:a.SubscribeWithPlatter,amsUrl:u.amsUrl,platterPassThrough:null==u?void 0:u.platterPassThrough,channelId:e.channel.id,requiresAuthentication:!0,notificationParams:e.action.notificationParams},metrics:c}]:[]}(e,i,l)
var w=e.channel,P=e.upsellOffer,O=e.playable,k=P&&!T?ma({channel:w,upsellOffer:P,playable:O,dataModel:e,subscriptionTriggerSource:void 0,subscriptionUIContext:void 0,playOfferTriggerSource:tn.Canonical,dependencies:l}):null,I=S?void 0:T||e.metadata.eligibilityType!=V.NONE?e.metadata.subtitle:void 0,A=S||I?void 0:e.metadata.subtitle,C=ve(l).settings.isInRetailDemoMode&&It(l)
return[Po(Po(Po({viewType:o.CanonicalOfferCard,display:{title:null!==(b=e.metadata.shortTitle)&&void 0!==b?b:ye("",void 0,l),subtitle:v,versionsFocusText:I,purchasedIndicatorText:A,image:e.metadata.channelArt,disclaimerText:I,imageStyle:s.Default,providerName:y},metrics:d},e.action.transactionInformation&&!e.metadata.shouldShowUpsell&&{action:Ha({transactionInformation:e.action.transactionInformation,notificationParams:e.action.notificationParams,isBundleOffer:T})}),e.action.transactionInformation&&e.metadata.shouldShowUpsell&&k&&{router:k}),C&&{router:C.router})]}if(e.actionType==le.Play||e.actionType==le.PlayFreeWithSubscriptionOffer&&h){var E,D=!h&&ro(e,void 0,l)||{},x=D.versionPickerPage,j=D.versionsFocusText,M=D.versionsActionText,B=function(e,t){return e.metadata.willResume?Se("TV.HowToWatch.Resume",void 0,t):Se("TV.HowToWatch.Play",void 0,t)}(e,l)
return h&&e.action.playbackInformation&&(E={router:Kt(e,n,l)}),[Po(Po(Po(Po({viewType:o.CanonicalOfferCard},E),e.metadata.trailerActionOrAlert?e.metadata.trailerActionOrAlert:e.action.playbackInformation&&e.action.playbackMetadata&&!h&&{action:Er(e.action.playbackInformation,e.action.playbackMetadata)}),{},{metrics:d},x&&{versions:x}),{},{display:{title:B,subtitle:v,image:e.metadata.channelArt,imageStyle:s.Default,purchasedIndicatorText:e.actionType!=le.PlayFreeWithSubscriptionOffer?Se("TV.HowToWatch.Subscribed",void 0,l):void 0,versionsFocusText:j,versionsActionText:M,providerName:y}})]}if(e.actionType==le.PlayFreeWithSubscriptionOffer){var R,_=void 0
if(e.metadata.trailerActionOrAlert)_=e.metadata.trailerActionOrAlert
else if(e.action.playbackInformation&&e.action.playbackMetadata){var N=e.channel,F=e.upsellOffer,L=e.playable,U=F?ma({channel:N,upsellOffer:F,playable:L,dataModel:e,subscriptionTriggerSource:void 0,subscriptionUIContext:void 0,playOfferTriggerSource:tn.Canonical,dependencies:l}):null
_=U?{action:Dr(e.action.playbackInformation,e.action.playbackMetadata,!0,U)}:{action:Er(e.action.playbackInformation,e.action.playbackMetadata)}}var H=function(e,t,n){switch(e){case r.SportingEvent:return Se(t?"TV.Button.PlayFreeLiveGame":"TV.Button.PlayFreePostGame",void 0,n)
case r.Movie:return Se("TV.Button.PlayFreeMovie",void 0,n)
default:return Se("TV.Button.PlayFreeEpisode",void 0,n)}}(t,(null===(R=e.action.playbackInformation)||void 0===R?void 0:R.playableType)!=p.VOD,l),$=ro(e,void 0,l),W=$.versionPickerPage,G=$.versionsFocusText,q=$.versionsActionText
return[Po(Po(Po({viewType:o.CanonicalOfferCard},_),{},{metrics:d},W&&{versions:W}),{},{display:{title:H,image:e.metadata.channelArt,versionsFocusText:G,versionsActionText:q,imageStyle:s.Default,providerName:y}})]}return[]}function Io(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,i=Ao()
return n==r.Movie||n==r.SportingEvent?e.flatMap((function(e,s){return e.kind==de.Subscription?ko(e,n,t,s,o):e.kind==de.Federated&&n!=r.SportingEvent||e.kind==de.Federated&&i(e)?So(e,0,s,o):e.kind==de.Itunes?yo(e,n,s,a,o):[]})):n==r.Episode||n==r.Show?e.flatMap((function(e,r){return e.kind==de.Subscription?ko(e,n,t,r,o):e.kind==de.Itunes?yo(e,n,r,a,o):e.kind==de.Federated?So(e,0,r,o):[]})):[]}var Ao=function(){var e=new Set
return function(t){var n=e.has(t.metadata.channelId)
return e.add(t.metadata.channelId),!n}},Co=function(e,t){var n,a,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Episode,c=arguments.length>3?arguments[3]:void 0,u=l.NotApplicable
return u=null!==(n=e[0])&&void 0!==n&&null!==(a=n.action)&&void 0!==a&&null!==(o=a.transactionInformation)&&void 0!==o&&o.seasonOfferKind?l.Homogeneous:l.Heterogeneous,{pageType:i.CanonicalOffersPage,display:{title:t,collectionType:u},offers:Io(e,void 0,s,!0,c)}},Eo=["seasons"]
function Do(e){return function(e){if(Array.isArray(e))return Vo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Vo(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function xo(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?xo(Object(n),!0).forEach((function(t){Mo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bo(e){return function(e){if(Array.isArray(e))return Ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ro(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ro(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function _o(e,t){return Uo(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||Fo(e,t)||No()}function No(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fo(e,t){if(e){if("string"==typeof e)return Lo(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(e,t):void 0}}function Lo(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function Uo(e){if(Array.isArray(e))return e}function Ho(e,t,n,s){var l,d=(l=e,Wo(zo(Qo(Go($o(Ko(qo(l),n,s),s)))),s)).reduce((function(e,l){var d,f=e.length-1
return l.kind==de.Itunes?function(e,t,n,o,s){var l=null,c=null
if(t.metadata.contentType==r.Movie){var u=t,d=u.metadata.isPremium?Se("TV.InTheatersNow",void 0,s):void 0
if(u.actionType!=ue.Buy||!u.rent||!ve(s).settings.isUI&&ve(s).isPlatformIOSorIPadOS){if(t.actionType==ue.Buy||t.actionType==ue.Rent||t.actionType==ue.Get){var f=t,p=ao({pageType:i.TransactionConfirmationPage,pageArgs:t,dependencies:s}),m=t.actionType==ue.Get?Se("TV.Get",void 0,s):t.actionType==ue.Buy?Se("TV.BuyForPrice",{buyPrice:t.metadata.price},s):Se("TV.RentForPrice",{rentPrice:t.metadata.price},s),v=u.metadata.maybeFutureRentalReleaseDate,y=v&&Se("TV.Rental.FutureDate",{date:v.toLocaleDateString(ve(s).settings.language,{timeZone:"UTC",month:"short",day:"numeric"})},s)||void 0
y&&d&&ve(s).log("futureRentalAvailabilityText and isPremiumText both have values. defaulting to isPremiumText")
var h=d||y
l=(ve(s).isPlatformIOSorIPadOS||ve(s).isPlatformNativeDesktop||t.actionType==ue.Get)&&f.action.transactionInformation?ba(m,{actionType:t.actionType==ue.Get?a.Get:t.actionType==ue.Buy?a.Buy:a.RentPlayNow,requiresAuthentication:!0,transactionInformation:f.action.transactionInformation},t,o,h,t.metadata.buttonGroup,void 0,s):p&&Ta(m,p,t,o,h,void 0,void 0,s)}else if(t.actionType==ue.Preorder){var g=t,b=x(g),T=Se("TV.Button.PreOrder",{buyPrice:t.metadata.price},s),S=b||void 0
l=g.action.transactionInformation&&ba(T,{actionType:a.Preorder,transactionInformation:g.action.transactionInformation,requiresAuthentication:!0},t,o,S,void 0,void 0,s)||null}else if(t.actionType==ue.Preordered){var w=t,P=x(w)
l=ba(Se("TV.HowToWatch.PreOrdered",void 0,s),w.action,w,o,P||void 0,void 0,void 0,s)}else if(t.actionType==ue.Play){var O=t
if(!O.action.playbackInformation||!O.action.playbackMetadata)return e
var k=t.metadata
l=ba(Xe(k,void 0,t.action,s),Er(O.action.playbackInformation,O.action.playbackMetadata,!0,O.action.extras),t,o,d,void 0,void 0,s),c=ve(s).isDownloadButtonSupported?ba(Se("TV.Button.Download",void 0,s),Vr(O.action.playbackInformation,O.action.playbackMetadata),t,o,void 0,void 0,void 0,s):null}}else l=function(e,t,n,r){var a=ao({pageType:i.CanonicalOffersPage,pageArgs:[e,t],title:Se("TV.BuyOrRent",void 0,r),dependencies:r})
return a&&Ta(Se("TV.BuyOrRent",void 0,r),a,e,n,Se("TV.BuyOrRentForPrice",{buyPrice:e.metadata.price,rentPrice:t.metadata.price},r),void 0,void 0,r)}(u,u.rent,o,s)}else if(t.metadata.contentType==r.Episode||t.metadata.contentType==r.Show){if(t.metadata.contentType==r.Show&&n==r.Episode&&!t.metadata.isSeasonOnly)return e
var I=t
switch(I.actionType){case ue.Buy:case ue.Complete:l=t.metadata.contentType==r.Show&&t.seasons?Ta(Pe(s,"TV.Button.BuySeasons",{count:t.seasons.length}),Co(t.seasons,ye(t.metadata.title,void 0,s),void 0,s),t,o,void 0,void 0,void 0,s):function(e,t,n,r){e.seasons
var a=function(e,t){if(null==e)return{}
var n,r,a=function(e,t){if(null==e)return{}
var n,r,a={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n])
return a}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Eo),o=ao({pageType:i.CanonicalOffersPage,pageArgs:[a].concat(Do(t)),title:ye(t.length?t[0].metadata.title:a.metadata.title,void 0,r),dependencies:r})
return o&&Ta(Se("TV.BuyFrom",{buyPrice:e.metadata.price},r),o,e,n,void 0,void 0,void 0,r)}(I,I.seasons||[],o,s)
break
case ue.Play:var A=Ye(I.metadata,void 0,void 0,s),C=t
if(!C.action.playbackInformation||!C.action.playbackMetadata)return e
l=ba(A,{actionType:a.Play,playbackInformation:C.action.playbackInformation,playbackMetadata:C.action.playbackMetadata,requiresAuthentication:!0},t,o,void 0,void 0,void 0,s),c=ve(s).isDownloadButtonSupported&&n!=r.Show?ba(Se("TV.Button.Download",void 0,s),Vr(C.action.playbackInformation,C.action.playbackMetadata),t,o,void 0,void 0,void 0,s):null
break
case ue.Get:var E=I,D=E.action&&E.action.transactionInformation
l=D?ba(Se("TV.Button.Get",void 0,s),$a(a.Get,D),t,o,void 0,void 0,void 0,s):null
break
default:!function(){throw new Error("Should have been unreachable")}()}}if(l){var V=ve(s).settings.isInRetailDemoMode&&kt(t.actionType,s)
V&&(l.router=V.router)}return l?[].concat(Do(e),[l]).concat(c||[]):e
function x(e){return e.metadata.maybePreorderReleaseDate?Se("TV.Banner.ComingSoon",{date:new Date(e.metadata.maybePreorderReleaseDate).toLocaleDateString(ve(s).settings.language,{timeZone:"UTC",year:"numeric",month:"short",day:"numeric"})},s):null}}(e,l,n,f,s):l.kind!=de.Subscription||null!==(d=l.playable)&&void 0!==d&&d.isComingSoon?l.kind==de.Federated?function(e,t,n,s,l){var d,f,p,m
if(null!==(d=t.playable)&&void 0!==d&&d.isGeoRestricted)return[]
if(n==r.SportingEvent&&(null==t||null===(f=t.metadata)||void 0===f||!f.isCurrentlyAiring)&&"CurrentlyAiring"!=(null==t||null===(p=t.metadata)||void 0===p?void 0:p.airingState))return e
var v=t.alsoAvailableOn,y=t.action,h=null,g=null,b=null
return t.actionType==ce.OpenIn?(b=he([{rawString:t.metadata.appName,kind:c.String},{rawString:u.ResourceImageAvailabilityPunchout,kind:c.ImageString}],t.metadata.appName),h={actionType:a.OpenIn,punchoutInformation:y,requiresAuthentication:!0,title:t.metadata.name,type:t.metadata.contentType}):g=ao({pageType:i.CanonicalOffersPage,pageArgs:[t].concat(Bo(v||[])),title:ye(t.metadata.name,void 0,l),entityType:n,dependencies:l}),m=jo(jo(jo({viewType:o.CanonicalOfferButton,display:jo({title:t.metadata.actionLabel,autoHighlight:!1},b&&{availabilityText:b})},g&&{router:g}),h&&{action:h}),{},{metrics:nn(t,s,l)}),[].concat(Bo(e),[m])}(e,l,n,f,s):e:function(e,t,n,s,l,c){var u,d,f,m=null,v=null,y=t.action.playbackInformation,h=t.metadata.trailerActionOrAlert&&t.metadata.trailerActionOrAlert.action,g=t.metadata.trailerActionOrAlert&&!h,b=t.metadata.channelName,T=t.metadata.shouldShowUpsell,S=null===(u=t.upsellOffer)||void 0===u||null===(d=u.commerceOffers)||void 0===d?void 0:d[0],w=Boolean(null==S?void 0:S.platterPassThrough)
if(h)m=ba(Qe(Se("TV.Button.Play",void 0,c)),h,t,s,ye(b,void 0,c),void 0,void 0,c)
else if(w&&t.actionType==le.Subscribe){if(null!=e.find((function(e){var t=e.action,n=e.router
return(null==t?void 0:t.actionType)==a.Play||(null==t?void 0:t.actionType)==a.PlayWithSubscriptionOffer||(null==n?void 0:n.pageType)==i.LivePlaybackStartOverSelectionPage}))&&"SportingEvent"==t.metadata.metadataKind)return e
var P,O=Ia(t,o.CanonicalOfferButton,pa.UserAction,void 0,s,c)
if(!O)return null===(P=ve(c))||void 0===P||P.log("VDSSubscriptionSmartButton","Expected a platter offer but one was not constructed"),e
m=O}else if("SportingEvent"==t.metadata.metadataKind&&t.actionType==le.Subscribe&&t.metadata.shouldShowUpsell){if(null!=e.find((function(e){var t,n=e.action,r=e.router
return((null==n?void 0:n.actionType)==a.Play||(null==n?void 0:n.actionType)==a.PlayWithSubscriptionOffer)&&(null===(t=n.playbackInformation)||void 0===t?void 0:t.playableType)!=p.VOD||(null==r?void 0:r.pageType)==i.LivePlaybackStartOverSelectionPage})))return e
var k=ka(t,s,c)
if(!k)return e
m=k}else if(t.actionType!=le.Play&&t.actionType!=le.PlayFreeWithSubscriptionOffer||!y||!t.action.playbackMetadata||g){if(!t.metadata.shouldShowUpsell&&t.action.transactionInformation){var I=t.metadata.subscriptionTitle,A=ve(c).settings.isInRetailDemoMode&&It(c)
m=A?Ta(I,A.router,t,s,t.metadata.subtitle,void 0,void 0,c):ba(I,Pa(Pa({},t.action),{},{actionType:a.Subscribe,requiresAuthentication:!0,transactionInformation:t.action.transactionInformation}),t,s,t.metadata.subtitle,void 0,void 0,c)}else if(t.metadata.trailerActionOrAlert&&t.metadata.trailerActionOrAlert.router){var C=t.metadata.trailerActionOrAlert
m=Ta(Qe(Se("TV.Button.Play",void 0,c)),C.router,t,s,void 0,void 0,void 0,c)}else if(T){var E=ka(t,s,c)
if(!E)return e
m=E}}else{var D
if(t.metadata.contentType==r.Movie){var V=t.actionType==le.PlayFreeWithSubscriptionOffer,x=t.metadata
D=Xe(x,V,t.action,c)}else if(t.metadata.contentType==r.SportingEvent){var j=t.metadata
if(ve(c).localize("TV.Button.Watch"))if("CurrentlyAiring"==j.airingState)D=Qe(Se("TV.Button.Watch",void 0,c))
else{if("PostGame"!=j.airingState)return e
var M
D="Condensed"==(null===(M=t.playable)||void 0===M?void 0:M.recapType)?Qe(t.metadata.willResume?Se("TV.Button.Resume",void 0,c):Se("TV.Button.WatchRecap",void 0,c)):Qe(t.metadata.willResume?Se("TV.Button.Resume",void 0,c):function(e,t,n){if(re.has(e))return Se("TV.Button.Watch")
switch(t){case"Soccer":case"Tennis":return Se("TV.Button.WatchMatch",void 0,n)
default:return ve(n).localize("TV.Button.WatchGame")?Se("TV.Button.WatchGame",void 0,n):Se("TV.Button.WatchMatch",void 0,n)}}(t.metadata.id,j.sportName,c))}else D=Qe(Se("TV.HowToWatch.LiveNow",void 0,c))}else{var B=t.actionType==le.PlayFreeWithSubscriptionOffer,R=t.metadata
D=Ye(R,B,t.action,c)}var _=t.channel,N=t.upsellOffer,F=t.playable,L=N&&t.actionType==le.PlayFreeWithSubscriptionOffer?ma({channel:_,upsellOffer:N,playable:F,dataModel:t,subscriptionTriggerSource:void 0,subscriptionUIContext:void 0,playOfferTriggerSource:tn.Canonical,dependencies:c}):null,U=L?Dr(y,t.action.playbackMetadata,!0,L):Er(y,t.action.playbackMetadata)
m=y.supportsStartOver?Ta(D,Kt(t,l,c),t,s,void 0,void 0,void 0,c):ba(D,U,t,s,ye(b,void 0,c),void 0,!1,c),v=ve(c).isDownloadButtonSupported&&n!=r.Show&&t.metadata.isDownloadable&&(t.actionType==le.Play||t.actionType==le.PlayFreeWithSubscriptionOffer)?ba(Se("TV.Button.Download",void 0,c),Vr(y,t.action.playbackMetadata),t,s,void 0,void 0,void 0,c):null}return m?[].concat((f=e,function(e){if(Array.isArray(e))return Sa(e)}(f)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(f)||function(e,t){if(e){if("string"==typeof e)return Sa(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sa(e,t):void 0}}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[m]).concat(v||[]):e}(e,l,n,f,t,s)}),[])
return d}var $o=function(e,t){if(e.length<=2&&(ve(t).settings.isUI||ve(t).isPlatformTV))return e
var n=e.findIndex((function(e){return e.actionType==ue.Buy})),r=e.findIndex((function(e){return e.actionType==ue.Rent}))
if(-1!=n&&-1!=r){var a=e[n],o=e[r]
ve(t).settings.isUI||ve(t).isPlatformTV?(a.rent=o,e.splice(n+1,1)):ve(t).isPlatformNativeDesktop?e.length>2&&(a.rent=o,e.splice(n+1,1)):(ve(t).isPlatformIOSorIPadOS||e.length>2)&&(a.metadata.buttonGroup=1,o.metadata.buttonGroup=1)}return e},Wo=function(e,t){if(ve(t).settings.isUI||ve(t).isPlatformTV)return e.slice(0,2)
var n=e.findIndex((function(e){return e.actionType==ue.Buy})),r=e.findIndex((function(e){return e.actionType==ue.Rent}))
return-1!=n&&-1!=r?e.slice(0,3):e.slice(0,2)},Go=function(e){var t,n=Uo(t=e.filter((function(e){return e.kind==de.Federated})))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||Fo(t)||No(),r=n[0],a=n.slice(1)
return r&&a.length&&(r.alsoAvailableOn=a,e=e.filter((function(e){return e==r||e.kind!=de.Federated}))),e},qo=function(e){var t=Yo(e),n=_o(e,1)[0],r=!(n&&n.kind==de.Subscription&&n.actionType==le.Play)&&n&&n.kind==de.Subscription&&n.metadata.type!=O.SportingEvent
return t&&r?[t]:e},zo=function(e){var t=_o(e,1)[0],n=t&&t.kind==de.Subscription&&t.actionType==le.Subscribe,r=t&&t.kind==de.Subscription&&t.actionType==le.PlayFreeWithSubscriptionOffer
return n?e=e.filter((function(e){return e.kind!=de.Federated&&(e==t||e.actionType!=le.Subscribe)})):r&&(e=e.filter((function(e){return e.kind!=de.Federated}))),e},Qo=function(e){var t=function(e){return e.actionType==le.Play||e.actionType==ue.Play},n=e.find((function(e){return e.kind==de.Federated&&e.metadata.isEntitledToPlay})),r=e.find((function(e){return t(e)})),a=e.flatMap((function(e){var n,r
return t(e)&&(null===(n=e.action)||void 0===n||null===(r=n.playbackInformation)||void 0===r?void 0:r.playbackModes)||[]})).length>1,o=Yo(e),i=e.filter((function(e){return!t(e)})),s=e.find((function(e){return e.actionType==le.PlayFreeWithSubscriptionOffer}))
return a?e.filter(t):r?o?[r,o]:[r]:s?i:n?[n]:e},Ko=function(e,t,n){var a,o,i,s,l
if(ve(n).isPlatformIOSorIPadOS||ve(n).isPlatformNativeDesktop||"web"==ve(n).settings.platform)return e
var c=(null===(a=e[0])||void 0===a?void 0:a.actionType)==le.PlayFreeWithSubscriptionOffer,u=(null===(o=e[1])||void 0===o?void 0:o.actionType)==le.Subscribe&&(null===(i=e[1])||void 0===i?void 0:i.metadata.shouldShowUpsell)||(null===(s=e[1])||void 0===s?void 0:s.actionType)==le.Subscribe&&(null===(l=e[1])||void 0===l?void 0:l.action.isBundleOffer)
return c&&!u&&t!=r.Episode?[e[0]]:e},Yo=function(e){return e&&e.find((function(e){return e.kind==de.Subscription&&e.actionType==le.Subscribe&&Ra(e.metadata.eligibilityType)}))}
function Xo(e){return function(e){if(Array.isArray(e))return ni(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ti(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jo(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Jo(Object(n),!0).forEach((function(t){ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ti(e,t){if(e){if("string"==typeof e)return ni(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ni(e,t):void 0}}function ni(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}var ri,ai=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._productPage=t,this._entityType=this._VDSEntityTypeFromEntityType(t.data.content.type),this._metadataContainer=this._getMetadataContainer(),this._dependencies=n}var t
return(t=[{key:"getCards",value:function(){var e=this,t=this._productPage.data,n=t.playables,r=void 0===n?{}:n,a=t.channels,o=void 0===a?{}:a,i=t.upsellOffers,s=void 0===i?{}:i,l=t.content,c=[]
return(this._productPage.data.howToWatch||[]).forEach((function(t){var n,a,i,s,u=(s=null!==(n=t.actions)&&void 0!==n?n:[],1,function(e){if(Array.isArray(e))return e}(s)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),1!==n.length);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(s)||ti(s,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],d=t.versions,f=[]
d&&d.forEach((function(t){if(null==f.find((function(e){return e.id==t.playableId}))){if(f.push(r[t.playableId]),ve(e._dependencies).settings.isUI&&u==G.Play){var n=r[t.playableId]
if(n.playbackModes&&n.playbackModes.length>1){var a=n.playbackModes.filter((function(e){return e.startsWith("M")}))
if(a&&1==a.length){var o=Zo({},n)
o.playbackModes=a,o.limitPlayback=!0,f.push(o)}}}}else ve(e._dependencies).log("Error - getting duplicated version with same playable id")}))
var p=t.seasons
p&&(p.forEach((function(e){(e.versions||[]).forEach((function(e){f.push(r[e.playableId])}))})),f.length||(f=Object.values(r).filter((function(e){return e.channelId==t.channelId}))))
var m=[]
if(l.type==O.Show){var v=e._productPage.data.seasons
m=p&&p.map((function(e){return v[e.id].seasonNumber}))||[]}var y=(u==G.Install||u==G.Open)&&ve(e._dependencies).isFederatedSupported,h=(null===(a=t.punchoutUrls)||void 0===a?void 0:a.open)||(null===(i=t.punchoutUrls)||void 0===i?void 0:i.play)
if(l.type==O.Show&&y&&h){var g=o[t.channelId]
g&&t.punchoutUrls&&c.push({channel:g,punchoutUrls:t.punchoutUrls,metadataContainer:Zo(Zo({},e._metadataContainer),{},{seasonNumbers:m})})}else if(u!=G.Subscribe||f.length)c.push({playables:f,action:u,seasonNumbers:m})
else{var b=o[t.channelId]
c.push({playables:f,comingSoonChannel:b,action:u,seasonNumbers:m})}})),Io(bt({offerWrappers:c,channelsDict:o,upsellOffersDict:s,metadataContainer:this._metadataContainer,triggerSource:qr.HowToWatchCards,dependencies:this._dependencies}),l,this._entityType,void 0,this._dependencies)}},{key:"getButtons",value:function(){var e,t=this._productPage.data,n=t.playables,r=void 0===n?{}:n,a=t.channels,o=void 0===a?{}:a,i=t.content,s=t.upsellOffers,l=void 0===s?{}:s,c=[],u=i.type
if(u==O.Movie||u==O.SportingEvent)c=null!==(e=this._productPage.data.smartPlayables)&&void 0!==e?e:[]
else if(u==O.Show){var d
c=null!==(d=this._productPage.data.smartEpisodePlayables)&&void 0!==d?d:[]}else if(u==O.Episode){var f
c=null!==(f=this._productPage.data.smartPlayables)&&void 0!==f?f:[]}var p={}
c.forEach((function(e){var t=r[e.playableId],n=t.channelId,a=p[n]||[],o=[].concat(Xo(a),[t])
p[n]=o}))
var m=Object.keys(p).map((function(e){return{playables:p[e],seasonsPlayables:Object.values(r).filter((function(t){return t.contentType===O.Season&&t.channelId==e}))}}))
return Ho(Xo(bt({offerWrappers:m,channelsDict:o,upsellOffersDict:l,metadataContainer:this._metadataContainer,triggerSource:qr.SmartButtons,dependencies:this._dependencies})),i,this._entityType,this._dependencies)}},{key:"_VDSEntityTypeFromEntityType",value:function(e){switch(e){case O.Movie:return r.Movie
case O.SportingEvent:return r.SportingEvent
case O.Episode:return r.Episode
default:return r.Show}}},{key:"_getMetadataContainer",value:function(){var e,t,n,r,a,o,i,s=this._productPage.data,l=s.content,c=s.contentPersonalizedInfo,u=void 0,d=void 0
l.type==O.Show?(d=this._productPage.data.smartEpisode,u=this._productPage.data.seasons):l.type==O.Episode&&(d=l)
var f=null!==(e=null===(t=d)||void 0===t?void 0:t.isFirstEpisode)&&void 0!==e&&e,p=!(c&&c.isWatched),m=l.backgroundVideo
return{utsMetadata:l,isPremium:null===(n=this._productPage.data.badges)||void 0===n?void 0:n.isPremium,isAtBeginningOfShow:f,smartEpisodeMetadata:d,isContentUnwatched:p,backgroundVideo:m,seasonsDict:u,sportsLiveArtwork:null===(r=this._productPage)||void 0===r||null===(a=r.data)||void 0===a||null===(o=a.content)||void 0===o||null===(i=o.images)||void 0===i?void 0:i.actionCoverArt}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()
function oi(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.EpisodeLockup="episodeLockup",e.UpNextLockup="upNext"}(ri||(ri={}))
var si=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n
return t=e,n=[{key:"getDownloadOfferData",value:function(t,n){t.downloadTriggerSource
var r,a,o,i,s,l,c,u,d=ve(n).isDownloadButtonSupported&&t.playable.isDownloadable,f=t.playable&&(null===(r=t.playable.upsellOfferIds)||void 0===r||null===(a=r.OfferType_Default)||void 0===a?void 0:a.channelId),p=f&&t.upsellOffers&&(null===(o=t.upsellOffers[f])||void 0===o||null===(i=o.commerceOffers)||void 0===i?void 0:i.length)&&(null===(s=t.upsellOffers[f])||void 0===s||null===(l=s.commerceOffers)||void 0===l?void 0:l[0]),m=p&&Ra(p.eligibilityType)
if(d&&!m){var v=(u=bt({offerWrappers:[{playables:[t.playable]}],channelsDict:t.channels,upsellOffersDict:void 0,metadataContainer:e._makeMetadata(t.metadata,t.showMetadata,t.seasonsDict),triggerSource:tn.DownloadButton,dependencies:n}),1,function(e){if(Array.isArray(e))return e}(u)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),1!==n.length);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(u)||function(e,t){if(e){if("string"==typeof e)return oi(e,1)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oi(e,1):void 0}}(u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]
if(v){var y=v.kind,h=v.actionType
if(y==de.Itunes&&h==ue.Play){var g=v
if(!g.action.playbackInformation)throw new Error("Trying to construct download action for something that cannot be played")
if(!g.action.playbackMetadata)throw new Error("Trying to construct download action for something that has no metadata")
c=Vr(g.action.playbackInformation,g.action.playbackMetadata)}else if(y==de.Subscription&&(h==le.PlayFreeWithSubscriptionOffer||h==le.Play)){var b=v.action,T=b.playbackInformation,S=b.playbackMetadata
if(!T)throw new Error("Trying to construct download action for something that cannot be played")
if(!S)throw new Error("Trying to construct download action for something that has no metadata")
c=Vr(T,S)}}}return c?{action:c}:void 0}},{key:"_makeMetadata",value:function(e,t,n){return t?{utsMetadata:t,smartEpisodeMetadata:e,seasonsDict:n}:{utsMetadata:e,seasonsDict:n}}}],n&&ii(t,n),e}()
function li(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?li(Object(n),!0).forEach((function(t){ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var di=function(e,t,n){var r={duration:e.duration,formattedReleaseDate:sr(e.releaseDate,n),isAdultContent:Boolean(e.isAdultContent),episodeNumber:e.episodeNumber}
if(t){var a=t.isItunes&&Un(t,n),o=void 0
a&&a.length>0&&(o=a[0])
var i=t&&t.itunesMediaApiData,s=function(e,t,n){return{hasAD:Boolean(e.adLocales&&e.adLocales.length>0),hasClosedCaption:Boolean(e.closedCaptionedLocales&&e.closedCaptionedLocales.length>0),hasDolbyAtmos:Or(e),hasExtras:t,hasSDH:Boolean(e.sdhLocales&&e.sdhLocales.length>0),videoDynamicRange:ve(n).settings.prefersHDFormat&&e&&e.videoColorRange?e.videoColorRange:I.sdr,videoResolutionClass:ve(n).settings.prefersHDFormat&&e.videoQuality?e.videoQuality:Z.sd,primaryLocale:e.primaryLocale}}(t,!!(o&&Mr(o)&&i&&(i.iTunesExtrasUrl||i.iTunesExtrasPreviewUrl)),n),l=cr({rating:t.rating,type:void 0},n)
return ci(ci(ci({},r),l),s)}return r},fi=function(e){var t,n,r,a=e.type,o=e.channel,i=e.content,s=e.comingSoonDict,l=e.dependencies,c=o&&s[o.id],u=c&&c.isComingSoon,d=c&&c.comingSoonDate,f=c&&c.comingSoonCustomText,p=cr(i,l),m=p.ratingName,v=p.ratingValue,y=p.ratingSystem,h=p.ratingDomain
return{artwork:null!==(t=null==i||null===(n=i.images)||void 0===n?void 0:n.posterArt)&&void 0!==t?t:lt,channelName:null!==(r=null==o?void 0:o.name)&&void 0!==r?r:"",type:a,id:i.id,releaseDate:i.releaseDate,genreName:lr(i.genres),description:i.description,duration:i.duration,ratingDomain:h,title:i.title,ratingName:m,ratingSystem:y,ratingValue:v,isAdultContent:Boolean(i.isAdultContent),hasDolbyAtmos:i.isDolbyAtmos||!1,hasExtras:!1,isComingSoon:u,comingSoonDate:d,comingSoonCustomText:f}},pi=function(e){var t,n,r,a=e.type,o=e.content,i=e.dependencies,s=cr(o,i),l=s.ratingName,c=s.ratingValue,u=s.ratingSystem,d=s.ratingDomain,f=null===(t=o.contentAvailability)||void 0===t?void 0:t.message
return{artwork:null!==(n=null==o||null===(r=o.images)||void 0===r?void 0:r.posterArt)&&void 0!==n?n:lt,channelName:"",type:a,id:o.id,releaseDate:o.releaseDate,genreName:lr(o.genres),description:o.description,duration:o.duration,ratingDomain:d,title:o.title,ratingName:l,ratingSystem:u,ratingValue:c,isAdultContent:Boolean(o.isAdultContent),hasDolbyAtmos:o.isDolbyAtmos||!1,hasExtras:!1,contentUnavailabilityText:f}}
function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vi(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function yi(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?yi(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ti=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n
return t=e,n=[{key:"getMovieBannerMetadata",value:function(e){var t=e.playable,n=e.content,r=e.comingSoonDict,a=e.channels,o=e.badges,i=e.dependencies,s={},l={utsMetadata:n}
if(At({content:n})){var c=Si({channels:a,playable:t,comingSoonDict:r}),u=c&&r[c.id]
if(u&&u.isComingSoon)s=fi({type:O.Movie,channel:c,content:n,comingSoonDict:r,dependencies:i})
else{var d={playable:t,channel:c,metadataContainer:l},f=Pi(t,i),p=f.hasExtras,m=f.preferredVideoDynamicRange,v=f.preferredVideoResolutionClass,y=kr(d,p,void 0,i)
v&&(y.videoResolutionClass=v),m&&(y.videoDynamicRange=m),n&&n.images&&n.images.contentImage&&(y.artwork=n.images.contentImage),o&&Oi(y,o),s=y}}else s=pi({type:O.Movie,content:n,dependencies:i})
var h=t&&t.sharedWatchEnabled||!1,g=ir(n.releaseDate,i)
return hi(hi({},s),{},{formattedReleaseDate:g,sharedWatchEnabled:h})}},{key:"getShowBannerContentMetadata",value:function(e){var t=e.playable,n=e.content,r=e.smartEpisodeContent,a=e.seasonsDict,o=e.comingSoonDict,i=e.channels,s=e.badges,l=e.contentPersonalizedInfo,c=e.dependencies,u={}
if(At({content:n})){var d=Si({channels:i,playable:t,comingSoonDict:o}),f=d&&o[d.id]
if(f&&f.isComingSoon)u=fi({type:O.Show,channel:d,content:n,comingSoonDict:o,dependencies:c})
else{var p=t
p||ve(c).log("Error","VDSCanonicalBannerMetadataInterface","Attempting to construct a banner when playable is not present")
var m=!(l&&l.isWatched),v=Pi(t,c),y=v.hasExtras,h=v.preferredVideoDynamicRange,g=v.preferredVideoResolutionClass
if(u=p?kr({playable:p,channel:d,metadataContainer:{utsMetadata:n,smartEpisodeMetadata:r,seasonsDict:a}},y,void 0,c):n.description?{description:n.description}:{description:ve(c).localize("TV.Banner.DescriptionNotAvailable")},m){var b=cr(n,c)
u=hi(hi({},u),b)}u.type=O.Show,g&&(u.videoResolutionClass=g),h&&(u.videoDynamicRange=h),m&&n&&n.images&&n.images.contentImage?u.artwork=n.images.contentImage:t&&t.images&&t.images.coverArt16X9&&(u.artwork=t.images.coverArt16X9)
var T=t&&t.sharedWatchEnabled||!1
u.sharedWatchEnabled=T
var S=r&&r.episodeIndex
u.episodeIndex=S
var w=void 0
r&&(w=wi({episode:r,seasonsDict:a,dependencies:c})),u.seasonTitle=w,m?ir(n.releaseDate,c):r&&sr(r.releaseDate,c),s&&Oi(u,s)}}else u=pi({type:O.Show,content:n,dependencies:c})
return u}},{key:"getEpisodeBannerContentMetadata",value:function(e){var t=e.playable,n=e.content,r=e.seasonsDict,a=e.comingSoonDict,o=e.channels,i=e.badges,s=e.dependencies,l={}
if(At({content:n})){var c=Si({channels:o,playable:t,comingSoonDict:a}),u=c&&a[c.id]
if(u&&u.isComingSoon)l=fi({type:O.Episode,channel:c,content:n,comingSoonDict:a,dependencies:s})
else{var d={playable:t,channel:c,metadataContainer:{utsMetadata:n}},f=Pi(t,s),p=f.hasExtras,m=f.preferredVideoDynamicRange,v=f.preferredVideoResolutionClass,y=kr(d,p,void 0,s)
v&&(y.videoResolutionClass=v),m&&(y.videoDynamicRange=m),t&&t.images&&t.images.coverArt16X9&&(y.artwork=t.images.coverArt16X9),l=y}}else l=pi({type:O.Episode,content:n,dependencies:s})
return l.seasonTitle=wi({episode:n,seasonsDict:r,dependencies:s}),i&&Oi(l,i),l.sharedWatchEnabled=t&&t.sharedWatchEnabled||!1,l.formattedReleaseDate=sr(n.releaseDate,s),l}}],n&&bi(t,n),e}(),Si=function(e){var t=e.channels,n=e.playable,r=e.comingSoonDict,a=void 0
if(r){var o=mi(Object.keys(r),1)[0]
o&&(a=o)}return!a&&n&&(a=n.channelId),a||(a=mi(Object.keys(t),1)[0]),t[a]},wi=function(e){var t,n,r=e.episode,a=e.seasonsDict,o=e.dependencies,i=r.seasonTitle
if(!i&&null!==(t=ve(o))&&void 0!==t&&null!==(n=t.featureEnablers)&&void 0!==n&&n.isTVShowV2Enabled&&a){var s=a[r.seasonId]
s&&s.title&&(i=s.title)}return i},Pi=function(e,t){var n=!1,r=void 0,a=void 0
if(e&&e.isItunes){var o=mi(Un(e,t),1)[0],i=e&&e.itunesMediaApiData
n=!!(o&&Mr(o)&&i&&(i.iTunesExtrasUrl||i.iTunesExtrasPreviewUrl))
var s=i&&i.offers&&i.offers.find((function(e){return e.capabilities&&e.capabilities.includes(T.FourK)}))?Z["4k"]:e&&e.videoQuality,l=o&&o.variant===b.SD||!1
r=l?Z.sd:s,a=l?I.sdr:e&&e.videoColorRange}return{hasExtras:n,preferredVideoDynamicRange:a,preferredVideoResolutionClass:r}},Oi=function(e,t){if(t.audioTrackFormat&&t.audioTrackFormat.length>0){var n=t.audioTrackFormat.includes("DolbyAtmos")
e.hasDolbyAtmos=n}if(null!=t.hasAudioDescriptions){var r=t.hasAudioDescriptions
e.hasAD=r}if(null!=t.hasClosedCaptions){var a=t.hasClosedCaptions
e.hasClosedCaption=a}if(null!=t.hasSdh){var o=t.hasSdh
e.hasSDH=o}if(t.videoQuality&&t.videoQuality.length>0){var i=t.videoQuality
e.videoResolutionClass=i}if(t.videoColorRange&&t.videoColorRange.length>0){var s=t.videoColorRange
e.videoDynamicRange=s}}
function ki(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function Ii(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?Ii(Object(n),!0).forEach((function(t){Ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ei=function(){function e(t){var n=t.collectionData,r=t.channelData,a=t.upsellOffers,o=t.dependencies
!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriptionOfferInterface=new Ma,this.collectionData=n,this.channelData=r,this.upsellOffers=a,this.epicStageFlavor=this.collectionData.displayType==w.EpicStageWithUpsell?"EpicStageWithUpsell":this.collectionData.displayType==w.EpicStage?"EpicStageWithoutUpsell":"Undetermined",this.dependencies=o}var t
return t=[{key:"getButtonsForCollection",value:function(e){if(this.disclaimerText=void 0,"Undetermined"==this.epicStageFlavor)throw new Error("VDSBrowseOfferInterface: The interface currently only supports Epic Stage. Support for other collections coming soon.")
var t=e
if("EpicStageWithUpsell"==this.epicStageFlavor&&!this.upsellOffers)return ve(this.dependencies).log("BrowseOfferInterface","Asked to construct an upsell when we have offers available"),this.makeVDSEpicStageCell()
var n=[]
if("EpicStageWithUpsell"!=this.epicStageFlavor||["3ptv","3ptv-web","tvOS"].includes(ve(this.dependencies).settings.platform)){if(t){if((ve(this.dependencies).isPlatformTV||ve(this.dependencies).isPlatformDesktopLike||ve(this.dependencies).settings.isUI)&&t&&t.type&&t.id&&!n.length){var r
t.type==O.Episode&&(r=t.showId)
var i=function(e,t,n,r){var i,s,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5?arguments[5]:void 0
switch(e){case O.Movie:i="Movie",s="TV.MediaShowcase.GotoMovie"
break
case O.Show:i="TVShow",s="TV.MediaShowcase.GotoShow"
break
case O.SportingEvent:i="SportingEvent",s=re.has(t)?"TV.MediaShowcase.GotoShow":"TV.MediaShowcase.GotoGame"
break
case O.Episode:if(void 0===r)throw new Error("Unable to construct an episode navigation action - no TV Show ID provided")
i="Episode",s="TV.MediaShowcase.GotoEpisode"}if(l&&(s="TV.MediaShowcase.MoreInfo"),!i||!s)throw new Error("Unexpected entity type while constructing navigate to canonical button")
var u=ot(t,i,n,r,c),d=Se(s,void 0,c)
return{viewType:o.Button,display:{title:d},action:u,metrics:$e(u,a.Navigate,t,void 0,Ae.CanonicalButton,c)}}(t.type,t.id,t.url,r,void 0,this.dependencies)
i&&(i.display=Ai(Ai({},i.display),{group:1})),n.push(i)}else if("EpicStageWithUpsell"==this.epicStageFlavor){var s=this.createSubscriptionButton([])
s&&n.push(s)}var l,c=function(e,t){var n
if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ki(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ki(e,t):void 0}}(e))){n&&(e=n)
var r=0,a=function(){}
return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1
return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next()
return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(t.secondaryActions)
try{for(c.s();!(l=c.n()).done;){var u=l.value,d=void 0
ve(this.dependencies).isPlatformIOSorIPadOS&&("AddToUpNext"==u?d=at(t.id,"Add",this.dependencies):"RemoveFromUpNext"==u&&(d=at(t.id,"Remove",this.dependencies)),d&&n.push(d))}}catch(e){c.e(e)}finally{c.f()}}else if("EpicStageWithUpsell"==this.epicStageFlavor){var f=this.createSubscriptionButton([])
f&&n.push(f)}}else{var p=this.createSubscriptionButton([])
p&&n.push(p)}return this.makeVDSEpicStageCell(n)}},{key:"addSubscriptionButton",value:function(e,t){if("EpicStageWithoutUpsell"==this.epicStageFlavor){var n=e.playables
if(n){var r=this.createSubscriptionButton(n)
r&&t.push(r)}}else if("EpicStageWithUpsell"==this.epicStageFlavor){var a=this.createSubscriptionButton([])
a&&t.push(a)}}},{key:"createSubscriptionButton",value:function(e){var t,n,r,a=null!==(t=this.collectionData.channelId)&&void 0!==t?t:null===(n=e[0])||void 0===n?void 0:n.channelId
if(!a&&"EpicStageWithUpsell"===this.epicStageFlavor)throw new Error("UpsellEpicStage: Unable to create subscription button: No channel specified")
if(a&&(!a||null!==(r=this.upsellOffers)&&void 0!==r&&r[a])){var i=this.getUpsellOffer(a),s=this.subscriptionOfferInterface.getSubscriptionOfferData({upsellOffer:i,channel:this.channelData[a],subscriptionTriggerSource:pa.EpicStage,subscriptionIntent:void 0,subscriptionUIContext:xa.Default},this.dependencies)
this.disclaimerText=s.display.disclaimerText
var l={display:{title:s.display.title},action:s.action,router:s.router,viewType:o.Button,metrics:s.metrics}
return ve(this.dependencies).isPlatformIOSorIPadOS&&(l.display.group=2),l}ve(this.dependencies).log("BrowseOfferInterface","No channel ID obtained or no upsell offers found for channel id ".concat(a))}},{key:"getUpsellOffer",value:function(e){var t,n=null===(t=this.upsellOffers)||void 0===t?void 0:t[e]
if(!e||!n)throw new Error("No channel ID or offer found in subscribable browse widget")
return n}},{key:"makeVDSEpicStageCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
return{buttons:e,disclaimerText:this.disclaimerText}}},{key:"createPlayButton",value:function(e){var t=e.playables
if(!t)throw new Error("Unable to construct epic stage play button - No Playable(s) found")
var n,r={channels:this.channelData,playTriggerSource:tn.EpicStage,playables:t,metadata:e},i=cn.getPlayOfferData(r,this.dependencies)
if(i){var s=Qe(Se("TV.Button.Play",void 0,this.dependencies))
e.type==O.SportingEvent&&i.action?(s=Qe(Se("TV.Button.Watch",void 0,this.dependencies)),(n=i.action,{actionType:a.Promise,wrappedAction:{promiseType:"PerformAction",actionOrPageType:n.actionType,params:{}},requiresAuthentication:!1}).onSuccess=ot(e.id,e.type,e.url,void 0,this.dependencies)):i.action&&i.action
var l={display:{title:s},viewType:o.Button,action:i.action,router:i.router,metrics:i.metrics}
return ve(this.dependencies).isPlatformIOSorIPadOS&&(l.display=Ai(Ai({},l.display),{},{group:1})),l}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},9416:function(e,t,n){"use strict"
n.r(t),n.d(t,{default:function(){return M}})
var r=n(5356)
function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=p(e)
if(t){var a=p(this).constructor
n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments)
return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function y(e,t){var n=function(n){e.contains(n.target)||t(n)}
return document.addEventListener("click",n),{destroy:function(){document.removeEventListener("click",n)}}}function h(e){(0,r.a)(e,"svelte-hjkf6o",'@charset "UTF-8";.select-container.svelte-hjkf6o.svelte-hjkf6o{--selectHeight:var(--overrideSelectHeight, 32px);width:var(--overridSelectContainerWidth, auto);position:relative;display:grid;grid-template-columns:1fr auto;grid-gap:22px;align-items:center;grid-template-areas:\'away-select away-button\';z-index:1}.dropdown-button.svelte-hjkf6o.svelte-hjkf6o{width:160px;display:flex;justify-content:space-between;align-items:center;border-radius:7px;border:1px solid var(--dropdownLightGray, #707070);background-color:var(--dropdownBackground, #575757);min-height:var(--selectHeight);user-select:none;color:var(--systemPrimary-onDark);grid-area:away-select;padding-inline-start:30px;font-size:15px;line-height:1.33338;font-weight:400;letter-spacing:0em}.dropdown-button.svelte-hjkf6o.svelte-hjkf6o:lang(th){line-height:1.86667}.dropdown-button.svelte-hjkf6o.svelte-hjkf6o:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}@media only screen and (min-width: 400px){.dropdown-button.svelte-hjkf6o.svelte-hjkf6o{width:200px}}@media only screen and (min-width: 1260px){.dropdown-button.svelte-hjkf6o.svelte-hjkf6o{width:300px}}@media only screen and (max-width: 999px){.dropdown-button.svelte-hjkf6o.svelte-hjkf6o{width:100%}}.dropdown-button.svelte-hjkf6o span.svelte-hjkf6o{text-align:start;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.dropdown-button.svelte-hjkf6o .chevron,.dropdown-select-item.svelte-hjkf6o .chevron{height:12px;fill:var(--dropdownLightGrayIcon, #999999);transform:rotate(90deg);padding-inline-start:12px;padding-inline-end:12px}ul.svelte-hjkf6o.svelte-hjkf6o{position:absolute;border-radius:7px;border:1px solid var(--dropdownLightGray, #707070);background-color:var(--dropdownBackground, #575757);color:var(--systemPrimary-onDark);min-height:var(--selectHeight);user-select:none;width:160px;z-index:1}@media only screen and (min-width: 400px){ul.svelte-hjkf6o.svelte-hjkf6o{width:200px}}@media only screen and (min-width: 1260px){ul.svelte-hjkf6o.svelte-hjkf6o{width:300px}}.open-up.svelte-hjkf6o ul.svelte-hjkf6o{bottom:-1px}.open-down.svelte-hjkf6o ul.svelte-hjkf6o{top:-1px}.dropdown-select-item.svelte-hjkf6o.svelte-hjkf6o{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--dropdownLightGray, #707070);font-size:15px;line-height:1.33338;font-weight:400;letter-spacing:0em}.dropdown-select-item.svelte-hjkf6o.svelte-hjkf6o:lang(th){line-height:1.86667}.dropdown-select-item.svelte-hjkf6o.svelte-hjkf6o:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}.dropdown-select-item.svelte-hjkf6o.svelte-hjkf6o:last-of-type{border-bottom:0px}.dropdown-select-item.svelte-hjkf6o.svelte-hjkf6o:hover{background:var(--dropdownLightGray, #707070)}.dropdown-select-item.svelte-hjkf6o span.svelte-hjkf6o{line-height:var(--selectHeight);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-inline-start:30px}.selected.svelte-hjkf6o.svelte-hjkf6o::before{content:\'\';position:absolute;color:var(--dropdownLightGrayIcon, #999999);z-index:1}html[dir=ltr] .selected.svelte-hjkf6o.svelte-hjkf6o::before{left:9px}html[dir=rtl] .selected.svelte-hjkf6o.svelte-hjkf6o::before{right:9px}.select-list.svelte-hjkf6o.svelte-hjkf6o{grid-area:away-select}@media only screen and (max-width: 999px){.select-list.svelte-hjkf6o.svelte-hjkf6o{width:100%}}.select-button.svelte-hjkf6o.svelte-hjkf6o{min-width:125px;height:var(--selectHeight);background-color:var(--keyColor);color:var(--systemPrimary-onDark);border-radius:7px;grid-area:away-button;padding-inline-start:30px;padding-inline-end:30px;font-size:13px;line-height:1.23077;font-weight:600;letter-spacing:0em}.select-button.svelte-hjkf6o.svelte-hjkf6o:lang(th){line-height:1.72308}.select-button.svelte-hjkf6o.svelte-hjkf6o:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}')}function g(e,t,n){var r=e.slice()
return r[15]=t[n],r[17]=n,r}function b(e){var t,n,a,o,i,s,l,c,u,d,f,p,m,v=e[5].name+"",y=e[0]("AMP.Shared.DropdownMenu.Continue")+""
s=new r.D({props:{class:"chevron","aria-hidden":"true"}})
var h=e[3]&&T(e)
return{c:function(){t=(0,r.c)("div"),n=(0,r.c)("button"),a=(0,r.c)("span"),o=(0,r.j)(v),i=(0,r.k)(),(0,r.q)(s.$$.fragment),l=(0,r.k)(),h&&h.c(),c=(0,r.k)(),u=(0,r.c)("button"),d=(0,r.j)(y),(0,r.g)(a,"id","button-label"),(0,r.g)(a,"class","svelte-hjkf6o"),(0,r.g)(n,"class","dropdown-button svelte-hjkf6o"),(0,r.g)(n,"data-testid","dropdown-button"),(0,r.g)(n,"aria-haspopup","menu"),(0,r.g)(n,"aria-controls","select-list"),(0,r.g)(n,"aria-expanded",e[3]),(0,r.g)(u,"class","select-button svelte-hjkf6o"),(0,r.g)(u,"data-testid","select-button"),(0,r.g)(t,"class","select-container svelte-hjkf6o"),(0,r.g)(t,"data-testid","select-container"),(0,r.t)(t,"open-up",e[3]&&"up"===e[2]),(0,r.t)(t,"open-down",e[3]&&"down"===e[2])},m:function(v,y){(0,r.b)(v,t,y),(0,r.l)(t,n),(0,r.l)(n,a),(0,r.l)(a,o),(0,r.l)(n,i),(0,r.r)(s,n,null),e[12](n),(0,r.l)(t,l),h&&h.m(t,null),(0,r.l)(t,c),(0,r.l)(t,u),(0,r.l)(u,d),f=!0,p||(m=[(0,r.m)(n,"click",e[11]),(0,r.m)(u,"click",e[14]),(0,r.m)(t,"keyup",e[9])],p=!0)},p:function(e,a){(!f||32&a)&&v!==(v=e[5].name+"")&&(0,r.o)(o,v),(!f||8&a)&&(0,r.g)(n,"aria-expanded",e[3]),e[3]?h?(h.p(e,a),8&a&&(0,r.u)(h,1)):((h=T(e)).c(),(0,r.u)(h,1),h.m(t,c)):h&&((0,r.v)(),(0,r.w)(h,1,1,(function(){h=null})),(0,r.x)()),(!f||1&a)&&y!==(y=e[0]("AMP.Shared.DropdownMenu.Continue")+"")&&(0,r.o)(d,y),12&a&&(0,r.t)(t,"open-up",e[3]&&"up"===e[2]),12&a&&(0,r.t)(t,"open-down",e[3]&&"down"===e[2])},i:function(e){f||((0,r.u)(s.$$.fragment,e),(0,r.u)(h),f=!0)},o:function(e){(0,r.w)(s.$$.fragment,e),(0,r.w)(h),f=!1},d:function(n){n&&(0,r.d)(t),(0,r.y)(s),e[12](null),h&&h.d(),p=!1,(0,r.E)(m)}}}function T(e){for(var t,n,a,o,i=[],s=new Map,l=e[1],c=function(e){return e[15].name},u=0;u<l.length;u+=1){var d=g(e,l,u),f=c(d)
s.set(f,i[u]=w(f,d))}return{c:function(){t=(0,r.c)("ul")
for(var e=0;e<i.length;e+=1)i[e].c();(0,r.g)(t,"id","select-list"),(0,r.g)(t,"data-testid","select-list"),(0,r.g)(t,"role","menu"),(0,r.g)(t,"class","select-list svelte-hjkf6o")},m:function(s,l){(0,r.b)(s,t,l)
for(var c=0;c<i.length;c+=1)i[c].m(t,null)
n=!0,a||(o=(0,r.F)(y.call(null,t,e[8])),a=!0)},p:function(e,n){102&n&&(l=e[1],(0,r.v)(),i=(0,r.H)(i,n,c,1,e,l,s,t,r.I,w,null,g),(0,r.x)())},i:function(e){if(!n){for(var t=0;t<l.length;t+=1)(0,r.u)(i[t])
n=!0}},o:function(e){for(var t=0;t<i.length;t+=1)(0,r.w)(i[t])
n=!1},d:function(e){e&&(0,r.d)(t)
for(var n=0;n<i.length;n+=1)i[n].d()
a=!1,o()}}}function S(e){var t,n
return t=new r.D({props:{class:"chevron","aria-hidden":"true"}}),{c:function(){(0,r.q)(t.$$.fragment)},m:function(e,a){(0,r.r)(t,e,a),n=!0},i:function(e){n||((0,r.u)(t.$$.fragment,e),n=!0)},o:function(e){(0,r.w)(t.$$.fragment,e),n=!1},d:function(e){(0,r.y)(t,e)}}}function w(e,t){var n,a,o,i,s,l,c,u,d,f,p=t[15].name+"",m=(t[17]===t[1].length-1&&"up"===t[2]||0===t[17]&&"down"===t[2])&&S()
function v(){return t[13](t[17])}return{key:e,first:null,c:function(){n=(0,r.c)("li"),a=(0,r.c)("span"),o=(0,r.j)(p),i=(0,r.k)(),m&&m.c(),s=(0,r.k)(),(0,r.g)(a,"class","svelte-hjkf6o"),(0,r.g)(n,"data-testid",l="list-item-".concat(t[17])),(0,r.g)(n,"role","menuitem"),(0,r.g)(n,"tabindex","0"),(0,r.g)(n,"aria-selected",c=t[15]===t[5]),(0,r.g)(n,"class","dropdown-select-item svelte-hjkf6o"),(0,r.t)(n,"selected",t[15]===t[5]),this.first=n},m:function(e,t){(0,r.b)(e,n,t),(0,r.l)(n,a),(0,r.l)(a,o),(0,r.l)(n,i),m&&m.m(n,null),(0,r.l)(n,s),u=!0,d||(f=(0,r.m)(n,"click",v),d=!0)},p:function(e,a){t=e,(!u||2&a)&&p!==(p=t[15].name+"")&&(0,r.o)(o,p),t[17]===t[1].length-1&&"up"===t[2]||0===t[17]&&"down"===t[2]?m?6&a&&(0,r.u)(m,1):((m=S()).c(),(0,r.u)(m,1),m.m(n,s)):m&&((0,r.v)(),(0,r.w)(m,1,1,(function(){m=null})),(0,r.x)()),(!u||2&a&&l!==(l="list-item-".concat(t[17])))&&(0,r.g)(n,"data-testid",l),(!u||34&a&&c!==(c=t[15]===t[5]))&&(0,r.g)(n,"aria-selected",c),34&a&&(0,r.t)(n,"selected",t[15]===t[5])},i:function(e){u||((0,r.u)(m),u=!0)},o:function(e){(0,r.w)(m),u=!1},d:function(e){e&&(0,r.d)(n),m&&m.d(),d=!1,f()}}}function P(e){var t,n,a=e[1].length&&b(e)
return{c:function(){a&&a.c(),t=(0,r.e)()},m:function(e,o){a&&a.m(e,o),(0,r.b)(e,t,o),n=!0},p:function(e,n){var o=m(n,1)[0]
e[1].length?a?(a.p(e,o),2&o&&(0,r.u)(a,1)):((a=b(e)).c(),(0,r.u)(a,1),a.m(t.parentNode,t)):a&&((0,r.v)(),(0,r.w)(a,1,1,(function(){a=null})),(0,r.x)())},i:function(e){n||((0,r.u)(a),n=!0)},o:function(e){(0,r.w)(a),n=!1},d:function(e){a&&a.d(e),e&&(0,r.d)(t)}}}function O(e,t,n){var a,o=t.translateFn,i=t.options,s=t.position,l=!1,c=null,u=0,d=function(e){n(10,u=e),n(3,l=!1)},f=function(e){a.callback(e)}
return(0,r.C)((function(){i.length||console.warn("Rendering DropdownMenu failed, no options provided")})),e.$$set=function(e){"translateFn"in e&&n(0,o=e.translateFn),"options"in e&&n(1,i=e.options),"position"in e&&n(2,s=e.position)},e.$$.update=function(){1026&e.$$.dirty&&n(5,a=i[u])},[o,i,s,l,c,a,d,f,function(e){var t=e.composedPath()[0]
l&&!c.contains(t)&&n(3,l=!1)},function(e){l&&"Escape"===e.key&&n(3,l=!1)},u,function(){return n(3,l=!l)},function(e){r.z[e?"unshift":"push"]((function(){n(4,c=e)}))},function(e){return d(e)},function(e){return f(e)}]}var k=function(e){l(n,e)
var t=u(n)
function n(e){var a
return o(this,n),a=t.call(this),(0,r.i)(f(a),e,O,P,r.s,{translateFn:0,options:1,position:2},h),a}return s(n,[{key:"translateFn",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({translateFn:e}),(0,r.f)()}},{key:"options",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({options:e}),(0,r.f)()}},{key:"position",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({position:e}),(0,r.f)()}}]),n}(r.S)
function I(e){(0,r.a)(e,"svelte-1jginh0",'.banner-container.svelte-1jginh0{padding:15px 25px 20px;display:grid;grid-area:structure-locale-switcher;background:var(--bannerDarkGray, #444444);color:var(--systemPrimary-onDark);position:relative;z-index:1;padding-inline-start:24px;padding-inline-end:32px}@media only screen and (min-width: 1000px){.banner-container.svelte-1jginh0{min-height:74px}}@media only screen and (max-width: 483px){.banner-container.svelte-1jginh0{margin-top:-54px}}@media only screen and (min-width: 484px){.banner-container.svelte-1jginh0{z-index:9891}}@media only screen and (max-width: 578px){.banner-container.svelte-1jginh0{padding-top:12px;min-height:125px}}.banner-content.svelte-1jginh0{margin:0 auto;justify-content:center;display:flex;align-items:center;width:100%;max-width:1884px;height:100%}@media only screen and (max-width: 578px){.banner-content.svelte-1jginh0{justify-content:space-between;align-items:flex-start}}.close-button.svelte-1jginh0{line-height:0;fill:var(--systemPrimary-onDark)}@media only screen and (max-width: 999px){.close-button.svelte-1jginh0{position:absolute;top:17px;z-index:1}html[dir=ltr] .close-button.svelte-1jginh0{left:25px}html[dir=rtl] .close-button.svelte-1jginh0{right:25px}}@media only screen and (max-width: 999px){:host .close-button.svelte-1jginh0{inset-inline-start:25px}}.dropdown-container.svelte-1jginh0{display:flex;align-items:center;justify-content:flex-end;width:100%;padding-inline-start:20px}@media only screen and (max-width: 578px){.dropdown-container.svelte-1jginh0{justify-content:space-between;height:100%}}@media only screen and (max-width: 999px){.dropdown-container.svelte-1jginh0{--overridSelectContainerWidth:100%;flex-direction:column;align-items:flex-start;padding-inline-start:0}.dropdown-container.svelte-1jginh0 .dropdown-button{flex-grow:1}}.message.svelte-1jginh0{font-size:15px;line-height:1.33338;font-weight:400;letter-spacing:0em;margin-inline-end:30px}.message.svelte-1jginh0:lang(th){line-height:1.86667}.message.svelte-1jginh0:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}@media only screen and (max-width: 999px){.message.svelte-1jginh0{margin-bottom:20px;padding-inline-start:40px;margin-inline-end:20px}}')}function A(e){var t,n,a,o,i,s,l,c,u,d,f,p,m,v,y,h=e[0]("AMP.Shared.AwayFromHomeBanner.Heading")+""
return o=new r.J({}),f=new k({props:{translateFn:e[0],position:e[3],options:e[6]}}),{c:function(){t=(0,r.c)("div"),n=(0,r.c)("div"),a=(0,r.c)("button"),(0,r.q)(o.$$.fragment),s=(0,r.k)(),l=(0,r.c)("div"),c=(0,r.c)("span"),u=(0,r.j)(h),d=(0,r.k)(),(0,r.q)(f.$$.fragment),(0,r.g)(a,"class","close-button svelte-1jginh0"),(0,r.g)(a,"data-testid","close-button"),(0,r.g)(a,"type","button"),(0,r.g)(a,"aria-label",i=e[0]("AMP.Shared.AX.Close")),(0,r.g)(c,"class","message svelte-1jginh0"),(0,r.g)(l,"class","dropdown-container svelte-1jginh0"),(0,r.g)(n,"class","banner-content svelte-1jginh0"),(0,r.g)(t,"aria-label",p=e[0]("AMP.Shared.AwayFromHomeBanner.AriaLabel")),(0,r.g)(t,"class","banner-container svelte-1jginh0"),(0,r.g)(t,"data-testid","banner-container")},m:function(i,p){(0,r.b)(i,t,p),(0,r.l)(t,n),(0,r.l)(n,a),(0,r.r)(o,a,null),(0,r.l)(n,s),(0,r.l)(n,l),(0,r.l)(l,c),(0,r.l)(c,u),(0,r.l)(l,d),(0,r.r)(f,l,null),m=!0,v||(y=[(0,r.m)(a,"click",e[8]),(0,r.F)(r.K.call(null,t))],v=!0)},p:function(e,n){(!m||1&n&&i!==(i=e[0]("AMP.Shared.AX.Close")))&&(0,r.g)(a,"aria-label",i),(!m||1&n)&&h!==(h=e[0]("AMP.Shared.AwayFromHomeBanner.Heading")+"")&&(0,r.o)(u,h)
var o={}
1&n&&(o.translateFn=e[0]),8&n&&(o.position=e[3]),64&n&&(o.options=e[6]),f.$set(o),(!m||1&n&&p!==(p=e[0]("AMP.Shared.AwayFromHomeBanner.AriaLabel")))&&(0,r.g)(t,"aria-label",p)},i:function(e){m||((0,r.u)(o.$$.fragment,e),(0,r.u)(f.$$.fragment,e),m=!0)},o:function(e){(0,r.w)(o.$$.fragment,e),(0,r.w)(f.$$.fragment,e),m=!1},d:function(e){e&&(0,r.d)(t),(0,r.y)(o),(0,r.y)(f),v=!1,(0,r.E)(y)}}}function C(e){var t,n
return(t=new r.L({props:{translateFn:e[0],regions:e[1],defaultRoute:e[2]}})).$on("close",(function(){(0,r.A)(e[5].close)&&e[5].close.apply(this,arguments)})),{c:function(){(0,r.q)(t.$$.fragment)},m:function(e,a){(0,r.r)(t,e,a),n=!0},p:function(n,r){e=n
var a={}
1&r&&(a.translateFn=e[0]),2&r&&(a.regions=e[1]),4&r&&(a.defaultRoute=e[2]),t.$set(a)},i:function(e){n||((0,r.u)(t.$$.fragment,e),n=!0)},o:function(e){(0,r.w)(t.$$.fragment,e),n=!1},d:function(e){(0,r.y)(t,e)}}}function E(e){var t,n,a,o=e[7]&&A(e),i={modalTriggerElement:e[4],$$slots:{default:[C]},$$scope:{ctx:e}}
return n=new r.M({props:i}),e[12](n),{c:function(){o&&o.c(),t=(0,r.k)(),(0,r.q)(n.$$.fragment)},m:function(e,i){o&&o.m(e,i),(0,r.b)(e,t,i),(0,r.r)(n,e,i),a=!0},p:function(e,a){var i=m(a,1)[0]
e[7]?o?(o.p(e,i),128&i&&(0,r.u)(o,1)):((o=A(e)).c(),(0,r.u)(o,1),o.m(t.parentNode,t)):o&&((0,r.v)(),(0,r.w)(o,1,1,(function(){o=null})),(0,r.x)())
var s={}
16&i&&(s.modalTriggerElement=e[4]),262183&i&&(s.$$scope={dirty:i,ctx:e}),n.$set(s)},i:function(e){a||((0,r.u)(o),(0,r.u)(n.$$.fragment,e),a=!0)},o:function(e){(0,r.w)(o),(0,r.w)(n.$$.fragment,e),a=!1},d:function(a){o&&o.d(a),a&&(0,r.d)(t),e[12](null),(0,r.y)(n,a)}}}function D(e,t,n){var a,o,i,s=t.translateFn,l=t.locale,c=t.user,u=t.regions,d=t.storefrontNameTranslations,f=t.defaultRoute,p=t.dropdownPosition,m=void 0===p?"up":p,v=null,y=[],h=l.language,g=l.storefront.toLowerCase(),b=!1,T=function(){var e
if(o&&d[o]?c.isSignedIn&&o!==g?n(7,b=!0):n(7,b=o!==g&&!i):n(7,b=!1),b){var t=null!==(e=d[o][h])&&void 0!==e?e:d[o].default
n(6,y=[{name:t,callback:function(){window.location.assign((0,r.N)(f,o))}},{name:s("AMP.Shared.LocaleSwitcher.Heading"),callback:function(e){n(4,v=e.target),a.showModal()}}])}}
return(0,r.C)((function(){var e
i=window.localStorage.getItem("dismissed-geo-banner-".concat(g)),o=null===(e=function(e){if("undefined"==typeof document)return null
var t="".concat("geo","="),n=document.cookie.split(";").map((function(e){return e.trimStart()})).filter((function(e){return e.startsWith(t)}))[0]
return n?n.substr(t.length):null}())||void 0===e?void 0:e.toLowerCase(),T()})),e.$$set=function(e){"translateFn"in e&&n(0,s=e.translateFn),"locale"in e&&n(9,l=e.locale),"user"in e&&n(10,c=e.user),"regions"in e&&n(1,u=e.regions),"storefrontNameTranslations"in e&&n(11,d=e.storefrontNameTranslations),"defaultRoute"in e&&n(2,f=e.defaultRoute),"dropdownPosition"in e&&n(3,m=e.dropdownPosition)},e.$$.update=function(){1024&e.$$.dirty&&(c.isSignedIn,T())},[s,u,f,m,v,a,y,b,function(){n(7,b=!1),window.localStorage.setItem("dismissed-geo-banner-".concat(g),Date.now().toString())},l,c,d,function(e){r.z[e?"unshift":"push"]((function(){n(5,a=e)}))}]}var V=function(e){l(n,e)
var t=u(n)
function n(e){var a
return o(this,n),a=t.call(this),(0,r.i)(f(a),e,D,E,r.s,{translateFn:0,locale:9,user:10,regions:1,storefrontNameTranslations:11,defaultRoute:2,dropdownPosition:3},I),a}return s(n,[{key:"translateFn",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({translateFn:e}),(0,r.f)()}},{key:"locale",get:function(){return this.$$.ctx[9]},set:function(e){this.$$set({locale:e}),(0,r.f)()}},{key:"user",get:function(){return this.$$.ctx[10]},set:function(e){this.$$set({user:e}),(0,r.f)()}},{key:"regions",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({regions:e}),(0,r.f)()}},{key:"storefrontNameTranslations",get:function(){return this.$$.ctx[11]},set:function(e){this.$$set({storefrontNameTranslations:e}),(0,r.f)()}},{key:"defaultRoute",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({defaultRoute:e}),(0,r.f)()}},{key:"dropdownPosition",get:function(){return this.$$.ctx[3]},set:function(e){this.$$set({dropdownPosition:e}),(0,r.f)()}}]),n}(r.S)
function x(e){var t,n,a,o
return t=new r.G({}),a=new V({props:{translateFn:e[0],locale:e[1],user:e[2],regions:e[3],storefrontNameTranslations:e[5],defaultRoute:e[4],dropdownPosition:e[6]}}),{c:function(){(0,r.q)(t.$$.fragment),n=(0,r.k)(),(0,r.q)(a.$$.fragment)},m:function(e,i){(0,r.r)(t,e,i),(0,r.b)(e,n,i),(0,r.r)(a,e,i),o=!0},p:function(e,t){var n=m(t,1)[0],r={}
1&n&&(r.translateFn=e[0]),2&n&&(r.locale=e[1]),4&n&&(r.user=e[2]),8&n&&(r.regions=e[3]),32&n&&(r.storefrontNameTranslations=e[5]),16&n&&(r.defaultRoute=e[4]),64&n&&(r.dropdownPosition=e[6]),a.$set(r)},i:function(e){o||((0,r.u)(t.$$.fragment,e),(0,r.u)(a.$$.fragment,e),o=!0)},o:function(e){(0,r.w)(t.$$.fragment,e),(0,r.w)(a.$$.fragment,e),o=!1},d:function(e){(0,r.y)(t,e),e&&(0,r.d)(n),(0,r.y)(a,e)}}}function j(e,t,n){var r=t.translateFn,a=t.locale,o=t.user,i=t.regions,s=t.defaultRoute,l=t.storefrontNameTranslations,c=t.dropdownPosition
return e.$$set=function(e){"translateFn"in e&&n(0,r=e.translateFn),"locale"in e&&n(1,a=e.locale),"user"in e&&n(2,o=e.user),"regions"in e&&n(3,i=e.regions),"defaultRoute"in e&&n(4,s=e.defaultRoute),"storefrontNameTranslations"in e&&n(5,l=e.storefrontNameTranslations),"dropdownPosition"in e&&n(6,c=e.dropdownPosition)},[r,a,o,i,s,l,c]}var M=(0,r.B)(function(e){l(n,e)
var t=u(n)
function n(e){var a
return o(this,n),a=t.call(this),(0,r.i)(f(a),e,j,x,r.s,{translateFn:0,locale:1,user:2,regions:3,defaultRoute:4,storefrontNameTranslations:5,dropdownPosition:6}),a}return s(n,[{key:"translateFn",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({translateFn:e}),(0,r.f)()}},{key:"locale",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({locale:e}),(0,r.f)()}},{key:"user",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({user:e}),(0,r.f)()}},{key:"regions",get:function(){return this.$$.ctx[3]},set:function(e){this.$$set({regions:e}),(0,r.f)()}},{key:"defaultRoute",get:function(){return this.$$.ctx[4]},set:function(e){this.$$set({defaultRoute:e}),(0,r.f)()}},{key:"storefrontNameTranslations",get:function(){return this.$$.ctx[5]},set:function(e){this.$$set({storefrontNameTranslations:e}),(0,r.f)()}},{key:"dropdownPosition",get:function(){return this.$$.ctx[6]},set:function(e){this.$$set({dropdownPosition:e}),(0,r.f)()}}]),n}(r.S),"amp-away-from-home-banner",{translateFn:null,locale:null,user:null,regions:null,defaultRoute:null,storefrontNameTranslations:null,dropdownPosition:null})},3081:function(e,t,n){"use strict"
n.r(t),n.d(t,{default:function(){return j}})
var r=n(5356)
function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=p(e)
if(t){var a=p(this).constructor
n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments)
return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function y(e){(0,r.a)(e,"svelte-sf16an","a.svelte-sf16an.svelte-sf16an{--linkColor:var(--systemSecondary);white-space:nowrap;padding-inline-end:10px}ul.svelte-sf16an.svelte-sf16an{display:flex;flex-wrap:wrap;padding-inline-start:10px}@media only screen and (max-width: 1259px){ul.languages-new-line.svelte-sf16an.svelte-sf16an{padding-inline-start:0}ul.languages-new-line.svelte-sf16an li:first-of-type a.svelte-sf16an{padding-inline-start:0}ul.languages-new-line.svelte-sf16an li.svelte-sf16an:first-of-type::before{content:'';height:100%;border-inline-start:none}}ul.svelte-sf16an li.svelte-sf16an{margin-top:6px;display:inline-flex;line-height:1;vertical-align:middle}ul.svelte-sf16an li:first-of-type a.svelte-sf16an{padding-inline-start:10px}ul.svelte-sf16an li.svelte-sf16an:first-of-type::before{content:'';height:100%;border-inline-start:1px solid var(--systemQuaternary)}ul.svelte-sf16an li.svelte-sf16an::after{border-inline-start:1px solid var(--systemQuaternary);content:'';padding-inline-end:10px}ul.svelte-sf16an li.svelte-sf16an:last-child::after{content:none}")}function h(e,t,n){var r=e.slice()
return r[4]=t[n],r}function g(e){for(var t,n=e[1],a=[],o=0;o<n.length;o+=1)a[o]=T(h(e,n,o))
return{c:function(){t=(0,r.c)("ul")
for(var n=0;n<a.length;n+=1)a[n].c();(0,r.g)(t,"class","svelte-sf16an"),(0,r.t)(t,"languages-new-line",e[1].length>=6)},m:function(e,n){(0,r.b)(e,t,n)
for(var o=0;o<a.length;o+=1)a[o].m(t,null)},p:function(e,o){if(7&o){var i
for(n=e[1],i=0;i<n.length;i+=1){var s=h(e,n,i)
a[i]?a[i].p(s,o):(a[i]=T(s),a[i].c(),a[i].m(t,null))}for(;i<a.length;i+=1)a[i].d(1)
a.length=n.length}2&o&&(0,r.t)(t,"languages-new-line",e[1].length>=6)},d:function(e){e&&(0,r.d)(t),(0,r.h)(a,e)}}}function b(e){var t,n,a,o,i,s,l,c,u,d=e[4].name+""
function f(){return e[3](e[4])}return{c:function(){t=(0,r.c)("li"),n=(0,r.c)("a"),a=(0,r.j)(d),l=(0,r.k)(),(0,r.g)(n,"href",o="?l=".concat(e[4].tag)),(0,r.g)(n,"aria-label",i=e[0]("AMP.Shared.LocaleSwitcher.SwitchLanguage",{language:e[4].name})),(0,r.g)(n,"data-testid",s="other-language-".concat(e[4].tag)),(0,r.g)(n,"class","svelte-sf16an"),(0,r.g)(t,"class","svelte-sf16an")},m:function(e,o){(0,r.b)(e,t,o),(0,r.l)(t,n),(0,r.l)(n,a),(0,r.l)(t,l),c||(u=(0,r.m)(n,"click",(0,r.p)(f)),c=!0)},p:function(t,l){e=t,2&l&&d!==(d=e[4].name+"")&&(0,r.o)(a,d),2&l&&o!==(o="?l=".concat(e[4].tag))&&(0,r.g)(n,"href",o),3&l&&i!==(i=e[0]("AMP.Shared.LocaleSwitcher.SwitchLanguage",{language:e[4].name}))&&(0,r.g)(n,"aria-label",i),2&l&&s!==(s="other-language-".concat(e[4].tag))&&(0,r.g)(n,"data-testid",s)},d:function(e){e&&(0,r.d)(t),c=!1,u()}}}function T(e){var t,n=e[4].tag&&e[4].name&&b(e)
return{c:function(){n&&n.c(),t=(0,r.e)()},m:function(e,a){n&&n.m(e,a),(0,r.b)(e,t,a)},p:function(e,r){e[4].tag&&e[4].name?n?n.p(e,r):((n=b(e)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d:function(e){n&&n.d(e),e&&(0,r.d)(t)}}}function S(e){var t,n=e[1].length>0&&g(e)
return{c:function(){n&&n.c(),t=(0,r.e)()},m:function(e,a){n&&n.m(e,a),(0,r.b)(e,t,a)},p:function(e,r){var a=m(r,1)[0]
e[1].length>0?n?n.p(e,a):((n=g(e)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:r.n,o:r.n,d:function(e){n&&n.d(e),e&&(0,r.d)(t)}}}function w(e,t,n){var r=t.translateFn,a=t.otherLanguages,o=function(e){var t=new URL(window.location.href).pathname
window.location.assign("".concat(t,"?l=").concat(e))}
return e.$$set=function(e){"translateFn"in e&&n(0,r=e.translateFn),"otherLanguages"in e&&n(1,a=e.otherLanguages)},[r,a,o,function(e){return o(e.tag)}]}var P=function(e){l(n,e)
var t=u(n)
function n(e){var a
return o(this,n),a=t.call(this),(0,r.i)(f(a),e,w,S,r.s,{translateFn:0,otherLanguages:1},y),a}return s(n,[{key:"translateFn",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({translateFn:e}),(0,r.f)()}},{key:"otherLanguages",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({otherLanguages:e}),(0,r.f)()}}]),n}(r.S)
function O(e){(0,r.a)(e,"svelte-gtfomf",".button-container.svelte-gtfomf.svelte-gtfomf{--linkColor:var(--systemPrimary);display:flex;margin-bottom:25px}@media only screen and (max-width: 1259px){.button-container.languages-new-line.svelte-gtfomf.svelte-gtfomf{flex-direction:column}.button-container.languages-new-line.svelte-gtfomf button.svelte-gtfomf{margin-bottom:5px}}button.svelte-gtfomf.svelte-gtfomf{line-height:1;display:inline-flex;margin-top:6px;vertical-align:middle;white-space:nowrap}")}function k(e){var t,n,a,o,i,s,l,c
return i=new P({props:{translateFn:e[0],otherLanguages:e[6]}}),{c:function(){t=(0,r.c)("div"),n=(0,r.c)("button"),a=(0,r.j)(e[5]),o=(0,r.k)(),(0,r.q)(i.$$.fragment),(0,r.g)(n,"class","link svelte-gtfomf"),(0,r.g)(n,"data-testid","locale-switcher-button"),(0,r.g)(t,"class","button-container svelte-gtfomf"),(0,r.t)(t,"languages-new-line",e[6].length>=6)},m:function(u,d){(0,r.b)(u,t,d),(0,r.l)(t,n),(0,r.l)(n,a),(0,r.l)(t,o),(0,r.r)(i,t,null),s=!0,l||(c=(0,r.m)(n,"click",e[7]),l=!0)},p:function(e,n){(!s||32&n)&&(0,r.o)(a,e[5])
var o={}
1&n&&(o.translateFn=e[0]),64&n&&(o.otherLanguages=e[6]),i.$set(o),64&n&&(0,r.t)(t,"languages-new-line",e[6].length>=6)},i:function(e){s||((0,r.u)(i.$$.fragment,e),s=!0)},o:function(e){(0,r.w)(i.$$.fragment,e),s=!1},d:function(e){e&&(0,r.d)(t),(0,r.y)(i),l=!1,c()}}}function I(e){var t,n
return(t=new r.L({props:{translateFn:e[0],regions:e[1],defaultRoute:e[2]}})).$on("close",(function(){(0,r.A)(e[3].close)&&e[3].close.apply(this,arguments)})),{c:function(){(0,r.q)(t.$$.fragment)},m:function(e,a){(0,r.r)(t,e,a),n=!0},p:function(n,r){e=n
var a={}
1&r&&(a.translateFn=e[0]),2&r&&(a.regions=e[1]),4&r&&(a.defaultRoute=e[2]),t.$set(a)},i:function(e){n||((0,r.u)(t.$$.fragment,e),n=!0)},o:function(e){(0,r.w)(t.$$.fragment,e),n=!1},d:function(e){(0,r.y)(t,e)}}}function A(e){var t,n,a,o=e[5]&&!e[4]&&k(e)
return n=new r.M({props:{modalTriggerElement:C,$$slots:{default:[I]},$$scope:{ctx:e}}}),e[16](n),{c:function(){o&&o.c(),t=(0,r.k)(),(0,r.q)(n.$$.fragment)},m:function(e,i){o&&o.m(e,i),(0,r.b)(e,t,i),(0,r.r)(n,e,i),a=!0},p:function(e,a){var i=m(a,1)[0]
e[5]&&!e[4]?o?(o.p(e,i),48&i&&(0,r.u)(o,1)):((o=k(e)).c(),(0,r.u)(o,1),o.m(t.parentNode,t)):o&&((0,r.v)(),(0,r.w)(o,1,1,(function(){o=null})),(0,r.x)())
var s={}
131087&i&&(s.$$scope={dirty:i,ctx:e}),n.$set(s)},i:function(e){a||((0,r.u)(o),(0,r.u)(n.$$.fragment,e),a=!0)},o:function(e){(0,r.w)(o),(0,r.w)(n.$$.fragment,e),a=!1},d:function(a){o&&o.d(a),a&&(0,r.d)(t),e[16](null),(0,r.y)(n,a)}}}var C=null
function E(e,t,n){var a,o,i,s,l,c,u,d,f,p=t.translateFn,m=t.locale,v=t.regions,y=t.languages,h=t.defaultRoute,g=t.storefrontNameTranslations
return e.$$set=function(e){"translateFn"in e&&n(0,p=e.translateFn),"locale"in e&&n(8,m=e.locale),"regions"in e&&n(1,v=e.regions),"languages"in e&&n(9,y=e.languages),"defaultRoute"in e&&n(2,h=e.defaultRoute),"storefrontNameTranslations"in e&&n(10,g=e.storefrontNameTranslations)},e.$$.update=function(){256&e.$$.dirty&&n(15,a=m.language),256&e.$$.dirty&&n(14,o=m.storefront),49664&e.$$.dirty&&n(6,i=y[o].filter((function(e){return e.tag.toLowerCase()!==a.toLowerCase()}))),64512&e.$$.dirty&&n(5,s=null!==n(12,u=null===n(11,c=g[o])||void 0===c?void 0:c[a])&&void 0!==u?u:null===n(13,d=g[o])||void 0===d?void 0:d.default),16384&e.$$.dirty&&n(4,l="cn"===o)},[p,v,h,f,l,s,i,function(){v.length&&f.showModal()},m,y,g,c,u,d,o,a,function(e){r.z[e?"unshift":"push"]((function(){n(3,f=e)}))}]}var D=function(e){l(n,e)
var t=u(n)
function n(e){var a
return o(this,n),a=t.call(this),(0,r.i)(f(a),e,E,A,r.s,{translateFn:0,locale:8,regions:1,languages:9,defaultRoute:2,storefrontNameTranslations:10},O),a}return s(n,[{key:"translateFn",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({translateFn:e}),(0,r.f)()}},{key:"locale",get:function(){return this.$$.ctx[8]},set:function(e){this.$$set({locale:e}),(0,r.f)()}},{key:"regions",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({regions:e}),(0,r.f)()}},{key:"languages",get:function(){return this.$$.ctx[9]},set:function(e){this.$$set({languages:e}),(0,r.f)()}},{key:"defaultRoute",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({defaultRoute:e}),(0,r.f)()}},{key:"storefrontNameTranslations",get:function(){return this.$$.ctx[10]},set:function(e){this.$$set({storefrontNameTranslations:e}),(0,r.f)()}}]),n}(r.S)
function V(e){var t,n,a,o
return t=new r.G({}),a=new D({props:{translateFn:e[0],locale:e[1],regions:e[2],languages:e[3],defaultRoute:e[4],storefrontNameTranslations:e[5]}}),{c:function(){(0,r.q)(t.$$.fragment),n=(0,r.k)(),(0,r.q)(a.$$.fragment)},m:function(e,i){(0,r.r)(t,e,i),(0,r.b)(e,n,i),(0,r.r)(a,e,i),o=!0},p:function(e,t){var n=m(t,1)[0],r={}
1&n&&(r.translateFn=e[0]),2&n&&(r.locale=e[1]),4&n&&(r.regions=e[2]),8&n&&(r.languages=e[3]),16&n&&(r.defaultRoute=e[4]),32&n&&(r.storefrontNameTranslations=e[5]),a.$set(r)},i:function(e){o||((0,r.u)(t.$$.fragment,e),(0,r.u)(a.$$.fragment,e),o=!0)},o:function(e){(0,r.w)(t.$$.fragment,e),(0,r.w)(a.$$.fragment,e),o=!1},d:function(e){(0,r.y)(t,e),e&&(0,r.d)(n),(0,r.y)(a,e)}}}function x(e,t,n){var r=t.translateFn,a=t.locale,o=t.regions,i=t.languages,s=t.defaultRoute,l=t.storefrontNameTranslations
return e.$$set=function(e){"translateFn"in e&&n(0,r=e.translateFn),"locale"in e&&n(1,a=e.locale),"regions"in e&&n(2,o=e.regions),"languages"in e&&n(3,i=e.languages),"defaultRoute"in e&&n(4,s=e.defaultRoute),"storefrontNameTranslations"in e&&n(5,l=e.storefrontNameTranslations)},[r,a,o,i,s,l]}var j=(0,r.B)(function(e){l(n,e)
var t=u(n)
function n(e){var a
return o(this,n),a=t.call(this),(0,r.i)(f(a),e,x,V,r.s,{translateFn:0,locale:1,regions:2,languages:3,defaultRoute:4,storefrontNameTranslations:5}),a}return s(n,[{key:"translateFn",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({translateFn:e}),(0,r.f)()}},{key:"locale",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({locale:e}),(0,r.f)()}},{key:"regions",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({regions:e}),(0,r.f)()}},{key:"languages",get:function(){return this.$$.ctx[3]},set:function(e){this.$$set({languages:e}),(0,r.f)()}},{key:"defaultRoute",get:function(){return this.$$.ctx[4]},set:function(e){this.$$set({defaultRoute:e}),(0,r.f)()}},{key:"storefrontNameTranslations",get:function(){return this.$$.ctx[5]},set:function(e){this.$$set({storefrontNameTranslations:e}),(0,r.f)()}}]),n}(r.S),"amp-locale-switcher",{translateFn:null,locale:null,regions:null,languages:null,defaultRoute:null,storefrontNameTranslations:null})},5356:function(e,t,n){"use strict"
function r(e){var t="function"==typeof Map?new Map:void 0
return r=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e
var n
if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function")
if(void 0!==t){if(t.has(e))return t.get(e)
t.set(e,r)}function r(){return a(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)},r(e)}function a(e,t,n){return a=u()?Reflect.construct:function(e,t,n){var r=[null]
r.push.apply(r,t)
var a=new(Function.bind.apply(e,r))
return n&&i(a,n.prototype),a},a.apply(null,arguments)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function s(e){var t=u()
return function(){var n,r=d(e)
if(t){var a=d(this).constructor
n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments)
return l(this,n)}}function l(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments
return new Promise((function(r,a){var o=e.apply(t,n)
function i(e){f(o,r,a,i,s,"next",e)}function s(e){f(o,r,a,i,s,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function g(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return T(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(){}function P(e,t){for(var n in t)e[n]=t[n]
return e}function O(e){return e()}function k(){return Object.create(null)}function I(e){e.forEach(O)}function A(e){return"function"==typeof e}function C(e,t){return e!=e?t==t:e!==t||e&&"object"==S(e)||"function"==typeof e}function E(e,t,n,r){if(e){var a=D(e,t,n,r)
return e[0](a)}}function D(e,t,n,r){return e[1]&&r?P(n.ctx.slice(),e[1](r(t))):n.ctx}function V(e,t,n,r){if(e[2]&&r){var a=e[2](r(n))
if(void 0===t.dirty)return a
if("object"==S(a)){for(var o=[],i=Math.max(t.dirty.length,a.length),s=0;s<i;s+=1)o[s]=t.dirty[s]|a[s]
return o}return t.dirty|a}return t.dirty}function x(e,t,n,r,a,o){if(a){var i=D(t,n,r,o)
e.p(i,a)}}function j(e){if(e.ctx.length>32){for(var t=[],n=e.ctx.length/32,r=0;r<n;r++)t[r]=-1
return t}return-1}function M(e){var t={}
for(var n in e)"$"!==n[0]&&(t[n]=e[n])
return t}function B(e){return e&&A(e.destroy)?e.destroy:w}n.d(t,{A:function(){return A},B:function(){return St},C:function(){return se},D:function(){return Le},E:function(){return I},F:function(){return B},G:function(){return Tt},H:function(){return Ie},I:function(){return ke},J:function(){return $e},K:function(){return We},L:function(){return gt},M:function(){return _e},N:function(){return qe},S:function(){return je},a:function(){return L},b:function(){return H},c:function(){return q},d:function(){return W},e:function(){return Y},f:function(){return he},g:function(){return Z},h:function(){return G},i:function(){return xe},j:function(){return Q},k:function(){return K},l:function(){return F},m:function(){return X},n:function(){return w},o:function(){return re},p:function(){return J},q:function(){return Ce},r:function(){return Ee},s:function(){return C},t:function(){return ae},u:function(){return Pe},v:function(){return Se},w:function(){return Oe},x:function(){return we},y:function(){return De},z:function(){return ce}})
var R,_=!1
function N(e,t,n,r){for(;e<t;){var a=e+(t-e>>1)
n(a)<=r?e=a+1:t=a}return e}function F(e,t){e.appendChild(t)}function L(e,t,n){var r=function(e){if(!e)return document
var t=e.getRootNode?e.getRootNode():e.ownerDocument
return t&&t.host?t:e.ownerDocument}(e)
if(!r.getElementById(t)){var a=q("style")
a.id=t,a.textContent=n,function(e,t){F(e.head||e,t)}(r,a)}}function U(e,t){if(_){for(function(e){if(!e.hydrate_init){e.hydrate_init=!0
var t=e.childNodes
if("HEAD"===e.nodeName){for(var n=[],r=0;r<t.length;r++){var a=t[r]
void 0!==a.claim_order&&n.push(a)}t=n}var o=new Int32Array(t.length+1),i=new Int32Array(t.length)
o[0]=-1
for(var s=0,l=0;l<t.length;l++){var c=t[l].claim_order,u=(s>0&&t[o[s]].claim_order<=c?s+1:N(1,s,(function(e){return t[o[e]].claim_order}),c))-1
i[l]=o[u]+1
var d=u+1
o[d]=l,s=Math.max(d,s)}for(var f=[],p=[],m=t.length-1,v=o[s]+1;0!=v;v=i[v-1]){for(f.push(t[v-1]);m>=v;m--)p.push(t[m])
m--}for(;m>=0;m--)p.push(t[m])
f.reverse(),p.sort((function(e,t){return e.claim_order-t.claim_order}))
for(var y=0,h=0;y<p.length;y++){for(;h<f.length&&p[y].claim_order>=f[h].claim_order;)h++
var g=h<f.length?f[h]:null
e.insertBefore(p[y],g)}}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);null!==e.actual_end_child&&void 0===e.actual_end_child.claim_order;)e.actual_end_child=e.actual_end_child.nextSibling
t!==e.actual_end_child?void 0===t.claim_order&&t.parentNode===e||e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else t.parentNode===e&&null===t.nextSibling||e.appendChild(t)}function H(e,t,n){e.insertBefore(t,n||null)}function $(e,t,n){_&&!n?U(e,t):t.parentNode===e&&t.nextSibling==n||e.insertBefore(t,n||null)}function W(e){e.parentNode.removeChild(e)}function G(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function q(e){return document.createElement(e)}function z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Q(e){return document.createTextNode(e)}function K(){return Q(" ")}function Y(){return Q("")}function X(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function J(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Z(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ee(e,t){for(var n in t)Z(e,n,t[n])}function te(e){return Array.from(e.childNodes)}function ne(e,t,n){return function(e,t,n,r){return function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4]
!function(e){void 0===e.claim_info&&(e.claim_info={last_index:0,total_claimed:0})}(e)
var o=function(){for(var o=e.claim_info.last_index;o<e.length;o++){var i=e[o]
if(t(i)){var s=n(i)
return void 0===s?e.splice(o,1):e[o]=s,a||(e.claim_info.last_index=o),i}}for(var l=e.claim_info.last_index-1;l>=0;l--){var c=e[l]
if(t(c)){var u=n(c)
return void 0===u?e.splice(l,1):e[l]=u,a?void 0===u&&e.claim_info.last_index--:e.claim_info.last_index=l,c}}return r()}()
return o.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,o}(e,(function(e){return e.nodeName===t}),(function(e){for(var t=[],r=0;r<e.attributes.length;r++){var a=e.attributes[r]
n[a.name]||t.push(a.name)}t.forEach((function(t){return e.removeAttribute(t)}))}),(function(){return r(t)}))}(e,t,n,z)}function re(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ae(e,t,n){e.classList[n?"add":"remove"](t)}function oe(e){R=e}function ie(){if(!R)throw new Error("Function called outside component initialization")
return R}function se(e){ie().$$.on_mount.push(e)}var le=[],ce=[],ue=[],de=[],fe=Promise.resolve(),pe=!1
function me(e){ue.push(e)}var ve=new Set,ye=0
function he(){var e=R
do{for(;ye<le.length;){var t=le[ye]
ye++,oe(t),ge(t.$$)}for(oe(null),le.length=0,ye=0;ce.length;)ce.pop()()
for(var n=0;n<ue.length;n+=1){var r=ue[n]
ve.has(r)||(ve.add(r),r())}ue.length=0}while(le.length)
for(;de.length;)de.pop()()
pe=!1,ve.clear(),oe(e)}function ge(e){if(null!==e.fragment){e.update(),I(e.before_update)
var t=e.dirty
e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(me)}}var be,Te=new Set
function Se(){be={r:0,c:[],p:be}}function we(){be.r||I(be.c),be=be.p}function Pe(e,t){e&&e.i&&(Te.delete(e),e.i(t))}function Oe(e,t,n,r){if(e&&e.o){if(Te.has(e))return
Te.add(e),be.c.push((function(){Te.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function ke(e,t){Oe(e,1,1,(function(){t.delete(e.key)}))}function Ie(e,t,n,r,a,o,i,s,l,c,u,d){for(var f=e.length,p=o.length,m=f,v={};m--;)v[e[m].key]=m
var y=[],h=new Map,g=new Map
for(m=p;m--;){var b=d(a,o,m),T=n(b),S=i.get(T)
S?r&&S.p(b,t):(S=c(T,b)).c(),h.set(T,y[m]=S),T in v&&g.set(T,Math.abs(m-v[T]))}var w=new Set,P=new Set
function O(e){Pe(e,1),e.m(s,u),i.set(e.key,e),u=e.first,p--}for(;f&&p;){var k=y[p-1],I=e[f-1],A=k.key,C=I.key
k===I?(u=k.first,f--,p--):h.has(C)?!i.has(A)||w.has(A)?O(k):P.has(C)?f--:g.get(A)>g.get(C)?(P.add(A),O(k)):(w.add(C),f--):(l(I,i),f--)}for(;f--;){var E=e[f]
h.has(E.key)||l(E,i)}for(;p;)O(y[p-1])
return y}function Ae(e,t){for(var n={},r={},a={$$scope:1},o=e.length;o--;){var i=e[o],s=t[o]
if(s){for(var l in i)l in s||(r[l]=1)
for(var c in s)a[c]||(n[c]=s[c],a[c]=1)
e[o]=s}else for(var u in i)a[u]=1}for(var d in r)d in n||(n[d]=void 0)
return n}function Ce(e){e&&e.c()}function Ee(e,t,n,r){var a=e.$$,o=a.fragment,i=a.on_mount,s=a.on_destroy,l=a.after_update
o&&o.m(t,n),r||me((function(){var t=i.map(O).filter(A)
s?s.push.apply(s,g(t)):I(t),e.$$.on_mount=[]})),l.forEach(me)}function De(e,t){var n=e.$$
null!==n.fragment&&(I(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ve(e,t){-1===e.$$.dirty[0]&&(le.push(e),pe||(pe=!0,fe.then(he)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,r,a,o,i){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],l=R
oe(e)
var c=e.$$={fragment:null,ctx:null,props:o,update:w,not_equal:a,bound:k(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:k(),dirty:s,skip_bound:!1,root:t.target||l.$$.root}
i&&i(c.root)
var u=!1
if(c.ctx=n?n(e,t.props||{},(function(t,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n
return c.ctx&&a(c.ctx[t],c.ctx[t]=r)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](r),u&&Ve(e,t)),n})):[],c.update(),u=!0,I(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){_=!0
var d=te(t.target)
c.fragment&&c.fragment.l(d),d.forEach(W)}else c.fragment&&c.fragment.c()
t.intro&&Pe(e.$$.fragment),Ee(e,t.target,t.anchor,t.customElement),_=!1,he()}oe(l)}var je=function(){function e(){v(this,e)}return h(e,[{key:"$destroy",value:function(){De(this,1),this.$destroy=w}},{key:"$on",value:function(e,t){var n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[])
return n.push(t),function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},{key:"$set",value:function(e){var t
this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),e}()
function Me(e){L(e,"svelte-1rakbp",'dialog{position:absolute;left:0;right:0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto;border:solid;padding:1em;background:white;color:black;display:block}dialog:not([open]){display:none}dialog+.backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0, 0, 0, 0.1)}._dialog_overlay{position:fixed;top:0;right:0;bottom:0;left:0}dialog.fixed{position:fixed;top:50%;transform:translate(0, -50%)}dialog.svelte-1rakbp:modal{position:fixed}dialog.svelte-1rakbp{flex-direction:column;align-items:center;padding:0;border-radius:var(--modalBorderRadius, 10px);border:0;color:var(--systemPrimary);font-size:13px;line-height:1.23077;font-weight:400;letter-spacing:0em;background:transparent}dialog.svelte-1rakbp:lang(th){line-height:1.72308}dialog.svelte-1rakbp:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}dialog.svelte-1rakbp::backdrop,dialog + .backdrop{--modalScrimColor:rgba(0, 0, 0, 0.45);background-color:var(--modalScrimColor)}')}function Be(e){var t,n,r,a,o=e[7].default,i=E(o,e,e[6],null)
return{c:function(){t=q("dialog"),i&&i.c(),Z(t,"data-testid","dialog"),Z(t,"class","svelte-1rakbp"),ae(t,"error",e[0])},m:function(o,s){H(o,t,s),i&&i.m(t,null),e[8](t),n=!0,r||(a=X(t,"click",e[2]),r=!0)},p:function(e,r){var a=m(r,1)[0]
i&&i.p&&(!n||64&a)&&x(i,o,e,e[6],n?V(o,e[6],a,null):j(e[6]),null),1&a&&ae(t,"error",e[0])},i:function(e){n||(Pe(i,e),n=!0)},o:function(e){Oe(i,e),n=!1},d:function(n){n&&W(t),i&&i.d(n),e[8](null),r=!1,a()}}}function Re(e,t,r){var a,o,i=t.$$slots,s=void 0===i?{}:i,l=t.$$scope,c=t.modalTriggerElement,u=t.error,d=void 0!==u&&u,f=!1
function m(){return v.apply(this,arguments)}function v(){return(v=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.body.classList.remove("noscroll"),f&&!o&&document.body.removeChild(a),a.close(),null==c||c.focus()
case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return se(p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f=!("showModal"in a))){e.next=6
break}return e.next=3,n.e(757).then(n.bind(n,2757))
case 3:e.sent.default.registerDialog(a),a.classList.add("dialog-polyfill")
case 6:case"end":return e.stop()}}),e)})))),e.$$set=function(e){"modalTriggerElement"in e&&r(3,c=e.modalTriggerElement),"error"in e&&r(0,d=e.error),"$$scope"in e&&r(6,l=e.$$scope)},[d,a,function(e){e.target===a&&m()},c,p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.body.classList.add("noscroll"),f&&(o=function(e){for(;e;e=e.parentNode)if("[object ShadowRoot]"===e.toString())return!0
return!1}(a),o||document.body.appendChild(a)),a.showModal()
case 1:case"end":return e.stop()}}),e)}))),m,l,s,function(e){ce[e?"unshift":"push"]((function(){r(1,a=e)}))}]}var _e=function(e){o(n,e)
var t=s(n)
function n(e){var r
return v(this,n),xe(c(r=t.call(this)),e,Re,Be,C,{modalTriggerElement:3,error:0,showModal:4,close:5},Me),r}return h(n,[{key:"modalTriggerElement",get:function(){return this.$$.ctx[3]},set:function(e){this.$$set({modalTriggerElement:e}),he()}},{key:"error",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({error:e}),he()}},{key:"showModal",get:function(){return this.$$.ctx[4]}},{key:"close",get:function(){return this.$$.ctx[5]}}]),n}(je)
function Ne(e){for(var t,n,r=[{"stroke-linejoin":"round"},{viewBox:"0 0 36 64"},e[0]],a={},o=0;o<r.length;o+=1)a=P(a,r[o])
return{c:function(){t=z("svg"),n=z("path"),this.h()},l:function(e){var r=te(t=ne(e,"svg",{"stroke-linejoin":!0,viewBox:!0}))
te(n=ne(r,"path",{d:!0})).forEach(W),r.forEach(W),this.h()},h:function(){Z(n,"d","m3.344 64c.957 0 1.768-.368 2.394-.994l29.2-28.538c.701-.7 1.069-1.547 1.069-2.468 0-.957-.368-1.841-1.068-2.467l-29.165-28.502c-.662-.661-1.473-1.03-2.43-1.03-1.914-.001-3.35 1.471-3.35 3.386 0 .884.367 1.767.956 2.393l26.808 26.22-26.808 26.218a3.5 3.5 0 0 0 -.956 2.395c0 1.914 1.435 3.387 3.35 3.387z"),ee(t,a)},m:function(e,r){$(e,t,r),U(t,n)},p:function(e,n){var o=m(n,1)[0]
ee(t,a=Ae(r,[{"stroke-linejoin":"round"},{viewBox:"0 0 36 64"},1&o&&e[0]]))},i:w,o:w,d:function(e){e&&W(t)}}}function Fe(e,t,n){return e.$$set=function(e){n(0,t=P(P({},t),M(e)))},[t=M(t)]}var Le=function(e){o(n,e)
var t=s(n)
function n(e){var r
return v(this,n),xe(c(r=t.call(this)),e,Fe,Ne,C,{}),r}return h(n)}(je)
function Ue(e){for(var t,n,r=[{width:"18px"},{height:"18px"},{version:"1.1"},{viewBox:"0 0 18 18"},{"aria-hidden":"true"},e[0]],a={},o=0;o<r.length;o+=1)a=P(a,r[o])
return{c:function(){t=z("svg"),n=z("path"),this.h()},l:function(e){var r=te(t=ne(e,"svg",{width:!0,height:!0,version:!0,viewBox:!0,"aria-hidden":!0}))
te(n=ne(r,"path",{d:!0})).forEach(W),r.forEach(W),this.h()},h:function(){Z(n,"d","M1.2 18C.6 18 0 17.5 0 16.8c0-.4.1-.6.4-.8l7-7-7-7c-.3-.2-.4-.5-.4-.8C0 .5.6 0 1.2 0c.3 0 .6.1.8.3l7 7 7-7c.2-.2.5-.3.8-.3.6 0 1.2.5 1.2 1.2 0 .3-.1.6-.4.8l-7 7 7 7c.2.2.4.5.4.8 0 .7-.6 1.2-1.2 1.2-.3 0-.6-.1-.8-.3l-7-7-7 7c-.2.1-.5.3-.8.3z"),ee(t,a)},m:function(e,r){$(e,t,r),U(t,n)},p:function(e,n){var o=m(n,1)[0]
ee(t,a=Ae(r,[{width:"18px"},{height:"18px"},{version:"1.1"},{viewBox:"0 0 18 18"},{"aria-hidden":"true"},1&o&&e[0]]))},i:w,o:w,d:function(e){e&&W(t)}}}function He(e,t,n){return e.$$set=function(e){n(0,t=P(P({},t),M(e)))},[t=M(t)]}var $e=function(e){o(n,e)
var t=s(n)
function n(e){var r
return v(this,n),xe(c(r=t.call(this)),e,He,Ue,C,{}),r}return h(n)}(je)
function We(e){queueMicrotask((function(){return e.focus()}))}function Ge(e){var t,n=function(){var n=e.scrollHeight,r=e.scrollTop,a=n-e.offsetHeight,o=r>1,i=0===a||r>=a
t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame((function(){return e.dispatchEvent(new CustomEvent("scrollStatus",{detail:{contentIsScrolling:o,hideGradient:i}}))}))},r=function(e,t){var n,r
return function(){for(var a=this,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s]
var l=function(){e.apply(a,i),r=Date.now()}
if(r){clearTimeout(n)
var c=Date.now()-r,u=Math.max(0,t-c)
n=setTimeout((function(){c>=t&&l()}),u)}else l()}}(n,250),a=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
return function(){for(var a=this,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s]
var l=r&&!n
clearTimeout(n),l&&e.apply(this,i),n=setTimeout((function(){n=null,r||e.apply(a,i)}),t)}}(n,50)
return e.addEventListener("scroll",a,{capture:!0,passive:!0}),window.addEventListener("resize",r),{destroy:function(){e.removeEventListener("scroll",a,{capture:!0}),window.removeEventListener("resize",r),t&&window.cancelAnimationFrame(t)}}}function qe(e,t,n){var r
return r=""===e?"/".concat(t):"/".concat(t,"/").concat(e),n&&(r="".concat(r,"?l=").concat(n)),r}function ze(e){L(e,"svelte-1m89n1a",'ul.svelte-1m89n1a.svelte-1m89n1a,li.svelte-1m89n1a.svelte-1m89n1a{list-style-type:none;margin:0;padding:0}ul.svelte-1m89n1a.svelte-1m89n1a{columns:1 auto;margin-bottom:25px}@media only screen and (min-width: 600px){ul.svelte-1m89n1a.svelte-1m89n1a{columns:3 auto}}@media only screen and (min-width: 1000px){ul.svelte-1m89n1a.svelte-1m89n1a{columns:4 auto}}@media only screen and (min-width: 1580px){ul.svelte-1m89n1a.svelte-1m89n1a{columns:5 auto}}@media only screen and (min-width: 1940px){ul.svelte-1m89n1a.svelte-1m89n1a{columns:6 auto}}li.svelte-1m89n1a.svelte-1m89n1a{padding-right:40px;padding-bottom:26px;display:inline-block;width:100%;font-size:12px;line-height:1.25;font-weight:400;letter-spacing:0em}li.svelte-1m89n1a.svelte-1m89n1a:lang(th){line-height:1.75}li.svelte-1m89n1a.svelte-1m89n1a:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}li.svelte-1m89n1a a.svelte-1m89n1a{--linkColor:var(--systemPrimary)}')}function Qe(e,t,n){var r=e.slice()
return r[3]=t[n],r}function Ke(e){var t,n,r,a,o,i,s=e[3].name+""
return{c:function(){t=q("li"),n=q("a"),r=q("span"),a=Q(s),i=K(),Z(n,"href",o=e[1](e[3])),Z(n,"data-testid","region-list-link"),Z(n,"class","svelte-1m89n1a"),Z(t,"class","svelte-1m89n1a")},m:function(e,o){H(e,t,o),F(t,n),F(n,r),F(r,a),F(t,i)},p:function(e,t){1&t&&s!==(s=e[3].name+"")&&re(a,s),1&t&&o!==(o=e[1](e[3]))&&Z(n,"href",o)},d:function(e){e&&W(t)}}}function Ye(e){for(var t,n=e[0],r=[],a=0;a<n.length;a+=1)r[a]=Ke(Qe(e,n,a))
return{c:function(){t=q("ul")
for(var e=0;e<r.length;e+=1)r[e].c()
Z(t,"class","svelte-1m89n1a")},m:function(e,n){H(e,t,n)
for(var a=0;a<r.length;a+=1)r[a].m(t,null)},p:function(e,a){var o=m(a,1)[0]
if(3&o){var i
for(n=e[0],i=0;i<n.length;i+=1){var s=Qe(e,n,i)
r[i]?r[i].p(s,o):(r[i]=Ke(s),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1)
r.length=n.length}},i:w,o:w,d:function(e){e&&W(t),G(r,e)}}}function Xe(e,t,n){var r=t.regionList,a=t.defaultRoute
return e.$$set=function(e){"regionList"in e&&n(0,r=e.regionList),"defaultRoute"in e&&n(2,a=e.defaultRoute)},[r,function(e){return e.isDefault?qe(a,e.id):qe(a,e.id,e.language)},a]}var Je=function(e){o(n,e)
var t=s(n)
function n(e){var r
return v(this,n),xe(c(r=t.call(this)),e,Xe,Ye,C,{regionList:0,defaultRoute:2},ze),r}return h(n,[{key:"regionList",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({regionList:e}),he()}},{key:"defaultRoute",get:function(){return this.$$.ctx[2]},set:function(e){this.$$set({defaultRoute:e}),he()}}]),n}(je)
function Ze(e){L(e,"svelte-1q1msui",'.region-header.svelte-1q1msui{padding-top:13px;padding-bottom:20px;border-top:1px solid var(--labelDivider);display:flex;justify-content:space-between;align-items:baseline}h2.svelte-1q1msui{margin-inline-end:5px;font-size:17px;line-height:1.29412;font-weight:700;letter-spacing:0em}h2.svelte-1q1msui:lang(th){line-height:1.81184}h2.svelte-1q1msui:lang(zh){font-weight:600}h2.svelte-1q1msui:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}')}var et=function(e){return{}},tt=function(e){return{}},nt=function(e){return{}},rt=function(e){return{}}
function at(e){var t,n,r,a,o,i,s=e[2].button,l=E(s,e,e[1],rt),c=e[2].list,u=E(c,e,e[1],tt)
return{c:function(){t=q("div"),n=q("h2"),r=Q(e[0]),a=K(),l&&l.c(),o=K(),u&&u.c(),Z(n,"class","svelte-1q1msui"),Z(t,"class","region-header svelte-1q1msui")},m:function(e,s){H(e,t,s),F(t,n),F(n,r),F(t,a),l&&l.m(t,null),H(e,o,s),u&&u.m(e,s),i=!0},p:function(e,t){var n=m(t,1)[0];(!i||1&n)&&re(r,e[0]),l&&l.p&&(!i||2&n)&&x(l,s,e,e[1],i?V(s,e[1],n,nt):j(e[1]),rt),u&&u.p&&(!i||2&n)&&x(u,c,e,e[1],i?V(c,e[1],n,et):j(e[1]),tt)},i:function(e){i||(Pe(l,e),Pe(u,e),i=!0)},o:function(e){Oe(l,e),Oe(u,e),i=!1},d:function(e){e&&W(t),l&&l.d(e),e&&W(o),u&&u.d(e)}}}function ot(e,t,n){var r=t.$$slots,a=void 0===r?{}:r,o=t.$$scope,i=t.regionName
return e.$$set=function(e){"regionName"in e&&n(0,i=e.regionName),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,a]}var it=function(e){o(n,e)
var t=s(n)
function n(e){var r
return v(this,n),xe(c(r=t.call(this)),e,ot,at,C,{regionName:0},Ze),r}return h(n,[{key:"regionName",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({regionName:e}),he()}}]),n}(je)
function st(e){L(e,"svelte-10ycx9y",'@charset "UTF-8";.locale-switcher-modal-container.svelte-10ycx9y{position:relative;min-height:230px;height:calc(100vh - 160px);display:flex;flex-direction:column;align-items:center;overflow:hidden;background-color:var(--pageBG);max-width:calc(100vw - 50px);border-radius:10px;font-family:"Locale Switcher", "Locale Switcher PingFang TC", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(zh-CN) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang SC", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "PingFang SC", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(zh-HK) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang HK", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "PingFang HK", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(zh-MO) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang HK", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "PingFang HK", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(zh-TW) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang TC", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "PingFang TC", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(ar) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang TC", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(he) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang TC", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arial Hebrew", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(hi) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang TC", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Kohinoor Devanagari", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(ja) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang TC", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Hiragino Sans", "SF Pro Icons", "Hiragino Kaku Gothic Pro", " Pro W3", "", "Meiryo", " ", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(ko) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang TC", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Apple SD Gothic Neo", "SF Pro Icons", "Apple Gothic", "HY Gulim", "MalgunGothic", "HY Dotum", "Lexi Gulim", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(th) .locale-switcher-modal-container.svelte-10ycx9y{font-family:"Locale Switcher", "Locale Switcher PingFang TC", -apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Thonburi Pro", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}@media only screen and (min-width: 1000px){.locale-switcher-modal-container.svelte-10ycx9y{width:990px}}@media only screen and (min-width: 1940px){.locale-switcher-modal-container.svelte-10ycx9y{width:1250px}}.locale-switcher-modal-container.svelte-10ycx9y::after{position:absolute;bottom:0;height:64px;opacity:1;pointer-events:none;transition-delay:0s;transition-duration:300ms;transition-property:height, width, background;width:calc(100% - 40px);content:\'\';background:linear-gradient(to top, var(--pageBG) 0%, rgba(var(--pageBG-rgb), 0) 100%);z-index:1}@media only screen and (min-width: 1000px){.locale-switcher-modal-container.svelte-10ycx9y::after{width:calc(100% - 60px)}}.header-container.svelte-10ycx9y{pointer-events:none;position:sticky;transition-delay:0s;transition-duration:500ms;transition-property:height, width;width:100%;padding-top:54px;padding-bottom:32px;max-height:120px;z-index:1}.content-is-scrolling.svelte-10ycx9y{box-shadow:0 3px 5px var(--systemQuaternary);transition:box-shadow 0.2s ease-in-out}.close-button.svelte-10ycx9y{position:absolute;top:0;margin:16px 20px 10px 20px;width:18px;height:18px;align-self:flex-start;fill:var(--systemSecondary)}.title.svelte-10ycx9y{color:var(--systemPrimary);font-weight:bold;text-align:center;padding-inline-start:20px;padding-inline-end:20px;font-size:22px;line-height:1.18182;font-weight:700;letter-spacing:0em}.title.svelte-10ycx9y:lang(th){line-height:1.65455}.title.svelte-10ycx9y:lang(zh){font-weight:600}.title.svelte-10ycx9y:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Display", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}@media only screen and (min-width: 1260px){.title.svelte-10ycx9y{font-size:26px;line-height:1.23077;font-weight:700;letter-spacing:0em}.title.svelte-10ycx9y:lang(th){line-height:1.72308}.title.svelte-10ycx9y:lang(zh){font-weight:600}.title.svelte-10ycx9y:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Display", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}}.region-container.svelte-10ycx9y{position:relative;height:calc(100% - 120px);padding-bottom:42px;overflow-y:auto;padding-inline-start:20px;padding-inline-end:20px}@media only screen and (min-width: 600px){.region-container.svelte-10ycx9y{padding-inline-start:50px;padding-inline-end:50px}}.back-button.svelte-10ycx9y{color:var(--keyColor);margin-bottom:16px;display:flex;align-items:center}.back-button.svelte-10ycx9y .back-chevron{height:12px;fill:var(--keyColor);transform:rotate(180deg);margin-inline-end:5px}html[dir=rtl] .back-button.svelte-10ycx9y .back-chevron{transform:rotate(0deg)}:host([dir=\'rtl\']) .back-chevron{transform:rotate(0deg)}.see-all-button.svelte-10ycx9y{min-width:42px;color:var(--keyColor)}.see-all-button-hidden.svelte-10ycx9y{display:none}')}function lt(e,t,n){var r=e.slice()
return r[16]=t[n],r}function ct(e){var t,n,r,a,o,i,s,l,c,u=e[0]("AMP.Shared.LocaleSwitcher.Back")+""
return n=new Le({props:{class:"back-chevron","aria-hidden":"true"}}),i=new it({props:{regionName:e[0](e[4].name),$$slots:{list:[dt]},$$scope:{ctx:e}}}),{c:function(){t=q("button"),Ce(n.$$.fragment),r=K(),a=Q(u),o=K(),Ce(i.$$.fragment),Z(t,"class","back-button svelte-10ycx9y")},m:function(u,d){H(u,t,d),Ee(n,t,null),F(t,r),F(t,a),H(u,o,d),Ee(i,u,d),s=!0,l||(c=X(t,"click",e[10]),l=!0)},p:function(e,t){(!s||1&t)&&u!==(u=e[0]("AMP.Shared.LocaleSwitcher.Back")+"")&&re(a,u)
var n={}
17&t&&(n.regionName=e[0](e[4].name)),524306&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i:function(e){s||(Pe(n.$$.fragment,e),Pe(i.$$.fragment,e),s=!0)},o:function(e){Oe(n.$$.fragment,e),Oe(i.$$.fragment,e),s=!1},d:function(e){e&&W(t),De(n),e&&W(o),De(i,e),l=!1,c()}}}function ut(e){for(var t,n,r=[],a=new Map,o=e[6],i=function(e){return e[16].name},s=0;s<o.length;s+=1){var l=lt(e,o,s),c=i(l)
a.set(c,r[s]=mt(c,l))}return{c:function(){for(var e=0;e<r.length;e+=1)r[e].c()
t=Y()},m:function(e,a){for(var o=0;o<r.length;o+=1)r[o].m(e,a)
H(e,t,a),n=!0},p:function(e,n){451&n&&(o=e[6],Se(),r=Ie(r,n,i,1,e,o,a,t.parentNode,ke,mt,t,lt),we())},i:function(e){if(!n){for(var t=0;t<o.length;t+=1)Pe(r[t])
n=!0}},o:function(e){for(var t=0;t<r.length;t+=1)Oe(r[t])
n=!1},d:function(e){for(var n=0;n<r.length;n+=1)r[n].d(e)
e&&W(t)}}}function dt(e){var t,n
return t=new Je({props:{slot:"list",regionList:e[4].locales,defaultRoute:e[1]}}),{c:function(){Ce(t.$$.fragment)},m:function(e,r){Ee(t,e,r),n=!0},p:function(e,n){var r={}
16&n&&(r.regionList=e[4].locales),2&n&&(r.defaultRoute=e[1]),t.$set(r)},i:function(e){n||(Pe(t.$$.fragment,e),n=!0)},o:function(e){Oe(t.$$.fragment,e),n=!1},d:function(e){De(t,e)}}}function ft(e){var t,n,r,a,o,i=e[0]("AMP.Shared.LocaleSwitcher.SeeAll")+""
function s(){return e[12](e[16])}return{c:function(){t=q("button"),n=Q(i),r=K(),Z(t,"slot","button"),Z(t,"class","see-all-button svelte-10ycx9y"),ae(t,"see-all-button-hidden",e[16].locales.length<=yt)},m:function(e,i){H(e,t,i),F(t,n),F(t,r),a||(o=X(t,"click",s),a=!0)},p:function(t,r){e=t,1&r&&i!==(i=e[0]("AMP.Shared.LocaleSwitcher.SeeAll")+"")&&re(n,i)},d:function(e){e&&W(t),a=!1,o()}}}function pt(e){var t,n,r
return n=new Je({props:{slot:"list",regionList:e[16].locales.length<=yt?null===(t=e[7](e[16]))||void 0===t?void 0:t.locales:e[16].locales,defaultRoute:e[1]}}),{c:function(){Ce(n.$$.fragment)},m:function(e,t){Ee(n,e,t),r=!0},p:function(e,t){var r={}
2&t&&(r.defaultRoute=e[1]),n.$set(r)},i:function(e){r||(Pe(n.$$.fragment,e),r=!0)},o:function(e){Oe(n.$$.fragment,e),r=!1},d:function(e){De(n,e)}}}function mt(e,t){var n,r,a
return r=new it({props:{regionName:t[0](t[16].name),$$slots:{list:[pt],button:[ft]},$$scope:{ctx:t}}}),{key:e,first:null,c:function(){n=Y(),Ce(r.$$.fragment),this.first=n},m:function(e,t){H(e,n,t),Ee(r,e,t),a=!0},p:function(e,n){t=e
var a={}
1&n&&(a.regionName=t[0](t[16].name)),524291&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a)},i:function(e){a||(Pe(r.$$.fragment,e),a=!0)},o:function(e){Oe(r.$$.fragment,e),a=!1},d:function(e){e&&W(n),De(r,e)}}}function vt(e){var t,n,r,a,o,i,s,l,c,u,d,f,p,v,y,h=e[0]("AMP.Shared.LocaleSwitcher.Heading")+""
r=new $e({props:{"data-testid":"locale-switcher-modal-close-button-svg"}})
var g=[ut,ct],b=[]
function T(e,t){return e[3]?0:1}return d=T(e),f=b[d]=g[d](e),{c:function(){t=q("div"),n=q("button"),Ce(r.$$.fragment),o=K(),i=q("div"),s=q("h1"),l=Q(h),c=K(),u=q("div"),f.c(),Z(n,"data-testid","locale-switcher-modal-close-button"),Z(n,"class","close-button svelte-10ycx9y"),Z(n,"type","button"),Z(n,"aria-label",a=e[0]("AMP.Shared.AX.Close")),Z(s,"data-testid","locale-switcher-modal-title"),Z(s,"class","title svelte-10ycx9y"),Z(i,"class","header-container svelte-10ycx9y"),ae(i,"content-is-scrolling",e[2]),Z(u,"class","region-container svelte-10ycx9y"),Z(t,"data-testid","locale-switcher-modal-container"),Z(t,"class","locale-switcher-modal-container svelte-10ycx9y")},m:function(a,f){H(a,t,f),F(t,n),Ee(r,n,null),F(t,o),F(t,i),F(i,s),F(s,l),F(t,c),F(t,u),b[d].m(u,null),e[13](u),p=!0,v||(y=[X(n,"click",e[9]),B(We.call(null,n)),B(Ge.call(null,u)),X(u,"scrollStatus",e[14])],v=!0)},p:function(e,t){var r=m(t,1)[0];(!p||1&r&&a!==(a=e[0]("AMP.Shared.AX.Close")))&&Z(n,"aria-label",a),(!p||1&r)&&h!==(h=e[0]("AMP.Shared.LocaleSwitcher.Heading")+"")&&re(l,h),4&r&&ae(i,"content-is-scrolling",e[2])
var o=d;(d=T(e))===o?b[d].p(e,r):(Se(),Oe(b[o],1,1,(function(){b[o]=null})),we(),(f=b[d])?f.p(e,r):(f=b[d]=g[d](e)).c(),Pe(f,1),f.m(u,null))},i:function(e){p||(Pe(r.$$.fragment,e),Pe(f),p=!0)},o:function(e){Oe(r.$$.fragment,e),Oe(f),p=!1},d:function(n){n&&W(t),De(r),b[d].d(),e[13](null),v=!1,I(y)}}}var yt=6
function ht(e,t,n){var r,a,o=t.translateFn,i=t.regions,s=t.defaultRoute,l=!1,c=!0,u=i.map((function(e){return{name:e.name,locales:e.locales.filter((function(e){return e.isDefault}))}})),d=function(){var e=ie()
return function(t,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).cancelable,a=void 0!==r&&r,o=e.$$.callbacks[t]
if(o){var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bubbles,a=void 0!==r&&r,o=n.cancelable,i=void 0!==o&&o,s=document.createEvent("CustomEvent")
return s.initCustomEvent(e,a,i,t),s}(t,n,{cancelable:a})
return o.slice().forEach((function(t){t.call(e,i)})),!i.defaultPrevented}return!0}}(),f=function(e){return i.find((function(t){return t.name===e.name}))},p=function(e){n(4,r=f(e)),n(3,c=!1),a.scroll(0,0)}
return e.$$set=function(e){"translateFn"in e&&n(0,o=e.translateFn),"regions"in e&&n(11,i=e.regions),"defaultRoute"in e&&n(1,s=e.defaultRoute)},[o,s,l,c,r,a,u,f,p,function(){d("close")},function(){n(3,c=!0)},i,function(e){return p(e)},function(e){ce[e?"unshift":"push"]((function(){n(5,a=e)}))},function(e){return n(2,l=e.detail.contentIsScrolling)}]}var gt=function(e){o(n,e)
var t=s(n)
function n(e){var r
return v(this,n),xe(c(r=t.call(this)),e,ht,vt,C,{translateFn:0,regions:11,defaultRoute:1},st),r}return h(n,[{key:"translateFn",get:function(){return this.$$.ctx[0]},set:function(e){this.$$set({translateFn:e}),he()}},{key:"regions",get:function(){return this.$$.ctx[11]},set:function(e){this.$$set({regions:e}),he()}},{key:"defaultRoute",get:function(){return this.$$.ctx[1]},set:function(e){this.$$set({defaultRoute:e}),he()}}]),n}(je)
function bt(e){L(e,"svelte-1rmrh62",'@charset "UTF-8";html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-ms-overflow-style:-ms-autohiding-scrollbar;box-sizing:border-box}body{margin:0;padding:0}ul,ol,li,dl,dt,dd,h1,h2,h3,h4,h5,h6,hgroup,p,blockquote,figure,form,fieldset,input,legend,pre,abbr,button{margin:0;padding:0}pre,code,address,caption,th,figcaption{font-size:1em;font-weight:normal;font-style:normal}fieldset,iframe{border:0}caption,th{text-align:start}table{border-collapse:collapse;border-spacing:0}audio,canvas,video,progress{vertical-align:baseline}button{background:none;border:0;color:inherit;cursor:pointer;font:inherit;line-height:inherit;vertical-align:inherit}button:disabled{cursor:default}:focus{outline:4px solid rgba(0, 125, 250, 0.6);outline-offset:1px}:focus[data-focus-method="mouse"]:not(input):not(textarea):not(select),:focus[data-focus-method="touch"]:not(input):not(textarea):not(select){outline:none}:focus[type=\'range\'][data-focus-method="mouse"],:focus[type=\'range\'][data-focus-method="touch"]{outline:none}::-moz-focus-inner{border:0;padding:0}*,*::before,*::after{box-sizing:inherit}html,body,div,ul,ol,li,a,img,embed,h1,h2,h3,h4,h5,h6,dl,dt,dd,pre,code,form,footer,section,header,fieldset,legend,p,blockquote,table,th,td{user-select:none;-webkit-user-drag:none}*[contenteditable]{user-select:auto !important}ul{list-style-type:none}svg{pointer-events:none}:root{color-scheme:light dark;--systemRed:#ff3b30;--systemRed-vibrant:#f53126;--systemRed-default_IC:#d70015;--systemRed-vibrant_IC:#c20618;--systemOrange:#ff9500;--systemOrange-vibrant:#f58b00;--systemOrange-default_IC:#c93400;--systemOrange-vibrant_IC:#ad3a00;--systemYellow:#ffcc00;--systemYellow-vibrant:#f5c200;--systemYellow-default_IC:#a05a00;--systemYellow-vibrant_IC:#925100;--systemGreen:#28cd41;--systemGreen-vibrant:#1ec337;--systemGreen-default_IC:#007d1b;--systemGreen-vibrant_IC:#007018;--systemMint:#00c7be;--systemMint-vibrant:#00bdb4;--systemMint-default_IC:#0c817b;--systemMint-vibrant_IC:#0b7570;--systemTeal:#59adc4;--systemTeal-vibrant:#2ea7bd;--systemTeal-default_IC:#008299;--systemTeal-vibrant_IC:#00778c;--systemCyan:#55bef0;--systemCyan-vibrant:#41afdc;--systemCyan-default_IC:#0071a4;--systemCyan-vibrant_IC:#006796;--systemBlue:#007aff;--systemBlue-vibrant:#0070f5;--systemBlue-default_IC:#0040dd;--systemBlue-vibrant_IC:#0040dd;--systemBlue-rollover:#0045b7;--systemBlue-pressed:#005cd7;--systemBlue-deepPressed:#0045b7;--systemBlue-disabled:rgba(0, 122, 255, 0.35);--systemIndigo:#5856d6;--systemIndigo-vibrant:#5452cc;--systemIndigo-default_IC:#3634a3;--systemIndigo-vibrant_IC:#3634a3;--systemPurple:#af52de;--systemPurple-vibrant:#9f4bc9;--systemPurple-default_IC:#ad44ab;--systemPurple-vibrant_IC:#ad44ab;--systemPink:#ff2d55;--systemPink-vibrant:#f5234b;--systemPink-default_IC:#d30f45;--systemPink-vibrant_IC:#c11032;--systemBrown:#a2845e;--systemBrown-vibrant:#987a54;--systemBrown-default_IC:#7f6545;--systemBrown-vibrant_IC:#775d3b;--systemGray:#8e8e93;--systemGray-vibrant:#848489;--systemGray-default_IC:#69696e;--systemGray-vibrant_IC:#616165;--systemPrimary:rgba(0, 0, 0, 0.85);--systemPrimary-vibrant:#4c4c4c;--systemPrimary-onLight:rgba(0, 0, 0, 0.85);--systemPrimary-onDark:rgba(255, 255, 255, 0.85);--systemPrimary-default_IC:black;--systemPrimary-vibrant_IC:black;--systemPrimary-onLight_IC:black;--systemPrimary-onDark_IC:white;--systemSecondary:rgba(0, 0, 0, 0.5);--systemSecondary-vibrant:gray;--systemSecondary-onLight:rgba(0, 0, 0, 0.5);--systemSecondary-onDark:rgba(255, 255, 255, 0.55);--systemSecondary-default_IC:rgba(0, 0, 0, 0.76);--systemSecondary-vibrant_IC:rgba(0, 0, 0, 0.76);--systemSecondary-onLight_IC:rgba(0, 0, 0, 0.76);--systemSecondary-onDark_IC:rgba(255, 255, 255, 0.7);--systemTertiary:rgba(0, 0, 0, 0.25);--systemTertiary-vibrant:#bfbfbf;--systemTertiary-onLight:rgba(0, 0, 0, 0.25);--systemTertiary-onDark:rgba(255, 255, 255, 0.25);--systemTertiary-default_IC:rgba(0, 0, 0, 0.56);--systemTertiary-vibrant_IC:rgba(0, 0, 0, 0.56);--systemTertiary-onLight_IC:rgba(0, 0, 0, 0.56);--systemTertiary-onDark_IC:rgba(255, 255, 255, 0.5);--systemQuaternary:rgba(0, 0, 0, 0.1);--systemQuaternary-vibrant:#e6e6e6;--systemQuaternary-onLight:rgba(0, 0, 0, 0.1);--systemQuaternary-onDark:rgba(255, 255, 255, 0.1);--systemQuaternary-default_IC:rgba(0, 0, 0, 0.35);--systemQuaternary-vibrant_IC:rgba(0, 0, 0, 0.35);--systemQuaternary-onLight_IC:rgba(0, 0, 0, 0.35);--systemQuaternary-onDark_IC:rgba(255, 255, 255, 0.3);--systemQuinary:rgba(0, 0, 0, 0.05);--systemQuinary-vibrant:#f2f2f2;--systemQuinary-onLight:rgba(0, 0, 0, 0.05);--systemQuinary-onDark:rgba(255, 255, 255, 0.05);--systemQuinary-default_IC:rgba(0, 0, 0, 0.1);--systemQuinary-vibrant_IC:rgba(0, 0, 0, 0.1);--systemQuinary-onLight_IC:rgba(0, 0, 0, 0.1);--systemQuinary-onDark_IC:rgba(255, 255, 255, 0.1);--keyColor:#007aff;--keyColor-rgb:0, 122, 255;--keyColor-rollover:#0045b7;--keyColor-rollover-rgb:0, 69, 183;--keyColor-pressed:#005cd7;--keyColor-pressed-rgb:0, 92, 215;--keyColor-deepPressed:#0045b7;--keyColor-deepPressed-rgb:0, 69, 183;--keyColor-disabled:rgba(0, 122, 255, 0.35);--systemStandardUltrathinMaterialSover:rgba(246, 246, 246, 0.36);--systemStandardUltrathinMaterialSover-inactive:#f0f0f0;--systemStandardUltrathinMaterialSover-default_IC:#d2d2d2;--systemStandardUltrathinMaterialSover-inactive_IC:#ececec;--systemStandardThinMaterialSover:rgba(246, 246, 246, 0.48);--systemStandardThinMaterialSover-inactive:#f0f0f0;--systemStandardThinMaterialSover-default_IC:gainsboro;--systemStandardThinMaterialSover-inactive_IC:#ececec;--systemStandardMediumMaterialSover:rgba(246, 246, 246, 0.6);--systemStandardMediumMaterialSover-inactive:#f0f0f0;--systemStandardMediumMaterialSover-default_IC:#e6e6e6;--systemStandardMediumMaterialSover-inactive_IC:#ececec;--systemStandardThickMaterialSover:rgba(246, 246, 246, 0.72);--systemStandardThickMaterialSover-inactive:#f0f0f0;--systemStandardThickMaterialSover-default_IC:#f0f0f0;--systemStandardThickMaterialSover-inactive_IC:#ececec;--systemStandardUltrathickMaterialSover:rgba(246, 246, 246, 0.84);--systemStandardUltrathickMaterialSover-inactive:#f0f0f0;--systemStandardUltrathickMaterialSover-default_IC:#fafafa;--systemStandardUltrathickMaterialSover-inactive_IC:#ececec;--systemHeaderMaterialSover:rgba(255, 255, 255, 0.8);--systemHeaderMaterialSover-default_IC:white;--systemToolbarTitlebarMaterialSover:rgba(253, 253, 253, 0.8);--systemToolbarTitlebarMaterialSover-inactive:#f0f0f0;--systemToolbarTitlebarMaterialSover-default_IC:white;--systemToolbarTitlebarMaterialSover-inactive_IC:#ececec;--labelDivider:rgba(0, 0, 0, 0.15);--vibrantDivider:rgba(60, 60, 67, 0.29);--pageBG:white;--pageBG-rgb:255, 255, 255;--shelfBG:rgba(0, 0, 0, 0.05);--genericJoeColor:#ebebeb;--fallbackMaterialBG:rgba(255, 255, 255, 0.97);--liveBadgePlatterBG:#ff5066;--cardHoverColor:rgba(120, 120, 128, 0.25);--contextMenuBorderColor:rgba(0, 0, 0, 0.15);--contextMenuTextColor:rgba(0, 0, 0, 0.85);--contextMenuOverrideTextColor:#ff3b30;--dialogShadowColor:rgba(0, 0, 0, 0.25);--footerBg:#fbfbfb;--opaqueShelfBG:#f2f2f2;--systemGray6:#6c6c70;--lockupHoverBGColor:rgba(51, 51, 51, 0.3);--lockupChinScrim:rgba(0, 0, 0, 0.2);--mobileNavigationBG:white;--playerBackgroundFallback:rgba(255, 255, 255, 0.97);--playerBackgroundFallback-default_IC:#fafafa;--playerBackground:rgba(255, 255, 255, 0.88);--playerBackground-default_IC:#fafafa;--navSidebarBG:rgba(60, 60, 67, 0.03);--navSidebarBG-default_IC:#fafafa;--navSidebarSelectedState:rgba(60, 60, 67, 0.1);--searchBoxIconFill:rgba(0, 0, 0, 0.65);--bannerDarkGray:#444444;--dropdownBackground:#575757;--dropdownLightGray:#707070;--dropdownLightGrayIcon:#999999;--dropdownActiveOutlineColor:#0066cc;--dropdownActiveOutlineColorShadow:rgba(0, 102, 204, 0.6);--radiosityShadowColor:rgba(0, 0, 0, 0.1);--searchBarBorderColor:rgba(0, 0, 0, 0.15);--modalScrimColor:rgba(0, 0, 0, 0.45)}@supports not (font: -apple-system-body){:root{--systemPrimary:rgba(0, 0, 0, 0.88);--systemPrimary-vibrant:#1d1d1f;--systemPrimary-onLight:rgba(0, 0, 0, 0.88);--systemPrimary-onDark:rgba(255, 255, 255, 0.92);--systemSecondary:rgba(0, 0, 0, 0.56);--systemSecondary-vibrant:rgba(0, 0, 0, 0.56);--systemSecondary-onLight:rgba(0, 0, 0, 0.56);--systemSecondary-onDark:rgba(255, 255, 255, 0.64);--systemTertiary:rgba(0, 0, 0, 0.48);--systemTertiary-vibrant:rgba(0, 0, 0, 0.48);--systemTertiary-onLight:rgba(0, 0, 0, 0.48);--systemTertiary-onDark:rgba(255, 255, 255, 0.4)}}:root .increase-contrast{--systemRed:#d70015;--systemRed-vibrant:#c20618;--systemOrange:#c93400;--systemOrange-vibrant:#ad3a00;--systemYellow:#a05a00;--systemYellow-vibrant:#925100;--systemGreen:#007d1b;--systemGreen-vibrant:#007018;--systemMint:#0c817b;--systemMint-vibrant:#0b7570;--systemTeal:#008299;--systemTeal-vibrant:#00778c;--systemCyan:#0071a4;--systemCyan-vibrant:#006796;--systemBlue:#0040dd;--systemBlue-vibrant:#0040dd;--systemIndigo:#3634a3;--systemIndigo-vibrant:#3634a3;--systemPurple:#ad44ab;--systemPurple-vibrant:#ad44ab;--systemPink:#d30f45;--systemPink-vibrant:#c11032;--systemBrown:#7f6545;--systemBrown-vibrant:#775d3b;--systemGray:#69696e;--systemGray-vibrant:#616165;--systemPrimary:black;--systemPrimary-vibrant:black;--systemPrimary-onLight:black;--systemPrimary-onDark:white;--systemSecondary:rgba(0, 0, 0, 0.76);--systemSecondary-vibrant:rgba(0, 0, 0, 0.76);--systemSecondary-onLight:rgba(0, 0, 0, 0.76);--systemSecondary-onDark:rgba(255, 255, 255, 0.7);--systemTertiary:rgba(0, 0, 0, 0.56);--systemTertiary-vibrant:rgba(0, 0, 0, 0.56);--systemTertiary-onLight:rgba(0, 0, 0, 0.56);--systemTertiary-onDark:rgba(255, 255, 255, 0.5);--systemQuaternary:rgba(0, 0, 0, 0.35);--systemQuaternary-vibrant:rgba(0, 0, 0, 0.35);--systemQuaternary-onLight:rgba(0, 0, 0, 0.35);--systemQuaternary-onDark:rgba(255, 255, 255, 0.3);--systemQuinary:rgba(0, 0, 0, 0.1);--systemQuinary-vibrant:rgba(0, 0, 0, 0.1);--systemQuinary-onLight:rgba(0, 0, 0, 0.1);--systemQuinary-onDark:rgba(255, 255, 255, 0.1);--systemStandardUltrathinMaterialSover:#d2d2d2;--systemStandardUltrathinMaterialSover-inactive:#ececec;--systemStandardThinMaterialSover:gainsboro;--systemStandardThinMaterialSover-inactive:#ececec;--systemStandardMediumMaterialSover:#e6e6e6;--systemStandardMediumMaterialSover-inactive:#ececec;--systemStandardThickMaterialSover:#f0f0f0;--systemStandardThickMaterialSover-inactive:#ececec;--systemStandardUltrathickMaterialSover:#fafafa;--systemStandardUltrathickMaterialSover-inactive:#ececec;--systemHeaderMaterialSover:white;--systemToolbarTitlebarMaterialSover:white;--systemToolbarTitlebarMaterialSover-inactive:#ececec;--playerBackgroundFallback:#fafafa;--playerBackground:#fafafa;--navSidebarBG:#fafafa}@media(prefers-contrast: more){:root{--systemRed:#d70015;--systemRed-vibrant:#c20618;--systemOrange:#c93400;--systemOrange-vibrant:#ad3a00;--systemYellow:#a05a00;--systemYellow-vibrant:#925100;--systemGreen:#007d1b;--systemGreen-vibrant:#007018;--systemMint:#0c817b;--systemMint-vibrant:#0b7570;--systemTeal:#008299;--systemTeal-vibrant:#00778c;--systemCyan:#0071a4;--systemCyan-vibrant:#006796;--systemBlue:#0040dd;--systemBlue-vibrant:#0040dd;--systemIndigo:#3634a3;--systemIndigo-vibrant:#3634a3;--systemPurple:#ad44ab;--systemPurple-vibrant:#ad44ab;--systemPink:#d30f45;--systemPink-vibrant:#c11032;--systemBrown:#7f6545;--systemBrown-vibrant:#775d3b;--systemGray:#69696e;--systemGray-vibrant:#616165;--systemPrimary:black;--systemPrimary-vibrant:black;--systemPrimary-onLight:black;--systemPrimary-onDark:white;--systemSecondary:rgba(0, 0, 0, 0.76);--systemSecondary-vibrant:rgba(0, 0, 0, 0.76);--systemSecondary-onLight:rgba(0, 0, 0, 0.76);--systemSecondary-onDark:rgba(255, 255, 255, 0.7);--systemTertiary:rgba(0, 0, 0, 0.56);--systemTertiary-vibrant:rgba(0, 0, 0, 0.56);--systemTertiary-onLight:rgba(0, 0, 0, 0.56);--systemTertiary-onDark:rgba(255, 255, 255, 0.5);--systemQuaternary:rgba(0, 0, 0, 0.35);--systemQuaternary-vibrant:rgba(0, 0, 0, 0.35);--systemQuaternary-onLight:rgba(0, 0, 0, 0.35);--systemQuaternary-onDark:rgba(255, 255, 255, 0.3);--systemQuinary:rgba(0, 0, 0, 0.1);--systemQuinary-vibrant:rgba(0, 0, 0, 0.1);--systemQuinary-onLight:rgba(0, 0, 0, 0.1);--systemQuinary-onDark:rgba(255, 255, 255, 0.1);--systemStandardUltrathinMaterialSover:#d2d2d2;--systemStandardUltrathinMaterialSover-inactive:#ececec;--systemStandardThinMaterialSover:gainsboro;--systemStandardThinMaterialSover-inactive:#ececec;--systemStandardMediumMaterialSover:#e6e6e6;--systemStandardMediumMaterialSover-inactive:#ececec;--systemStandardThickMaterialSover:#f0f0f0;--systemStandardThickMaterialSover-inactive:#ececec;--systemStandardUltrathickMaterialSover:#fafafa;--systemStandardUltrathickMaterialSover-inactive:#ececec;--systemHeaderMaterialSover:white;--systemToolbarTitlebarMaterialSover:white;--systemToolbarTitlebarMaterialSover-inactive:#ececec;--playerBackgroundFallback:#fafafa;--playerBackground:#fafafa;--navSidebarBG:#fafafa}}@media(prefers-color-scheme: dark){:root{--systemRed:#ff453a;--systemRed-vibrant:#ff4f44;--systemRed-default_IC:#ff6961;--systemRed-vibrant_IC:#ff4136;--systemOrange:#ff9f0a;--systemOrange-vibrant:#ffa914;--systemOrange-default_IC:#ffb340;--systemOrange-vibrant_IC:#ffb340;--systemYellow:#ffd60a;--systemYellow-vibrant:#ffe014;--systemYellow-default_IC:#ffd426;--systemYellow-vibrant_IC:#ffd426;--systemGreen:#32d74b;--systemGreen-vibrant:#3ce155;--systemGreen-default_IC:#31de4b;--systemGreen-vibrant_IC:#31de4b;--systemMint:#63e6e2;--systemMint-vibrant:#6ce0db;--systemMint-default_IC:#63e6e2;--systemMint-vibrant_IC:#63e6e2;--systemTeal:#6ac4dc;--systemTeal-vibrant:#44d4ed;--systemTeal-default_IC:#5de6ff;--systemTeal-vibrant_IC:#5de6ff;--systemCyan:#5ac8f5;--systemCyan-vibrant:#5acdfa;--systemCyan-default_IC:#70d7ff;--systemCyan-vibrant_IC:#70d7ff;--systemBlue:#0a84ff;--systemBlue-vibrant:#148eff;--systemBlue-default_IC:#409cff;--systemBlue-vibrant_IC:#409cff;--systemBlue-rollover:#47c1ff;--systemBlue-pressed:#38b2ff;--systemBlue-deepPressed:#47c1ff;--systemBlue-disabled:rgba(10, 132, 255, 0.5);--systemIndigo:#5e5ce6;--systemIndigo-vibrant:#6361f2;--systemIndigo-default_IC:#7d7aff;--systemIndigo-vibrant_IC:#7d7aff;--systemPurple:#bf5af2;--systemPurple-vibrant:#cc65ff;--systemPurple-default_IC:#da8fff;--systemPurple-vibrant_IC:#da8fff;--systemPink:#ff375f;--systemPink-vibrant:#ff4169;--systemPink-default_IC:#ff6482;--systemPink-vibrant_IC:#ff3a5f;--systemBrown:#ac8e68;--systemBrown-vibrant:#b69872;--systemBrown-default_IC:#b59469;--systemBrown-vibrant_IC:#b59469;--systemGray:#98989d;--systemGray-vibrant:#a2a2a7;--systemGray-default_IC:#98989d;--systemGray-vibrant_IC:#98989d;--systemPrimary:rgba(255, 255, 255, 0.85);--systemPrimary-vibrant:#e5e5e5;--systemPrimary-onLight:rgba(0, 0, 0, 0.85);--systemPrimary-onDark:rgba(255, 255, 255, 0.85);--systemPrimary-default_IC:white;--systemPrimary-vibrant_IC:white;--systemPrimary-onLight_IC:black;--systemPrimary-onDark_IC:white;--systemSecondary:rgba(255, 255, 255, 0.55);--systemSecondary-vibrant:#7c7c7c;--systemSecondary-onLight:rgba(0, 0, 0, 0.5);--systemSecondary-onDark:rgba(255, 255, 255, 0.55);--systemSecondary-default_IC:rgba(255, 255, 255, 0.7);--systemSecondary-vibrant_IC:rgba(255, 255, 255, 0.7);--systemSecondary-onLight_IC:rgba(0, 0, 0, 0.76);--systemSecondary-onDark_IC:rgba(255, 255, 255, 0.7);--systemTertiary:rgba(255, 255, 255, 0.25);--systemTertiary-vibrant:#414141;--systemTertiary-onLight:rgba(0, 0, 0, 0.25);--systemTertiary-onDark:rgba(255, 255, 255, 0.25);--systemTertiary-default_IC:rgba(255, 255, 255, 0.5);--systemTertiary-vibrant_IC:rgba(255, 255, 255, 0.5);--systemTertiary-onLight_IC:rgba(0, 0, 0, 0.56);--systemTertiary-onDark_IC:rgba(255, 255, 255, 0.5);--systemQuaternary:rgba(255, 255, 255, 0.1);--systemQuaternary-vibrant:#232323;--systemQuaternary-onLight:rgba(0, 0, 0, 0.1);--systemQuaternary-onDark:rgba(255, 255, 255, 0.1);--systemQuaternary-default_IC:rgba(255, 255, 255, 0.3);--systemQuaternary-vibrant_IC:rgba(255, 255, 255, 0.3);--systemQuaternary-onLight_IC:rgba(0, 0, 0, 0.35);--systemQuaternary-onDark_IC:rgba(255, 255, 255, 0.3);--systemQuinary:rgba(255, 255, 255, 0.05);--systemQuinary-vibrant:#080808;--systemQuinary-onLight:rgba(0, 0, 0, 0.05);--systemQuinary-onDark:rgba(255, 255, 255, 0.05);--systemQuinary-default_IC:rgba(255, 255, 255, 0.1);--systemQuinary-vibrant_IC:rgba(255, 255, 255, 0.1);--systemQuinary-onLight_IC:rgba(0, 0, 0, 0.1);--systemQuinary-onDark_IC:rgba(255, 255, 255, 0.1);--keyColor:#0a84ff;--keyColor-rgb:10, 132, 255;--keyColor-rollover:#47c1ff;--keyColor-rollover-rgb:71, 193, 255;--keyColor-pressed:#38b2ff;--keyColor-pressed-rgb:56, 178, 255;--keyColor-deepPressed:#47c1ff;--keyColor-deepPressed-rgb:71, 193, 255;--keyColor-disabled:rgba(10, 132, 255, 0.5);--systemStandardUltrathinMaterialSover:rgba(40, 40, 40, 0.4);--systemStandardUltrathinMaterialSover-inactive:#282828;--systemStandardUltrathinMaterialSover-default_IC:black;--systemStandardUltrathinMaterialSover-inactive_IC:#141414;--systemStandardThinMaterialSover:rgba(40, 40, 40, 0.5);--systemStandardThinMaterialSover-inactive:#282828;--systemStandardThinMaterialSover-default_IC:#0a0a0a;--systemStandardThinMaterialSover-inactive_IC:#141414;--systemStandardMediumMaterialSover:rgba(40, 40, 40, 0.6);--systemStandardMediumMaterialSover-inactive:#282828;--systemStandardMediumMaterialSover-default_IC:#141414;--systemStandardMediumMaterialSover-inactive_IC:#141414;--systemStandardThickMaterialSover:rgba(40, 40, 40, 0.7);--systemStandardThickMaterialSover-inactive:#282828;--systemStandardThickMaterialSover-default_IC:#1e1e1e;--systemStandardThickMaterialSover-inactive_IC:#141414;--systemStandardUltrathickMaterialSover:rgba(40, 40, 40, 0.8);--systemStandardUltrathickMaterialSover-inactive:#282828;--systemStandardUltrathickMaterialSover-default_IC:#282828;--systemStandardUltrathickMaterialSover-inactive_IC:#141414;--systemHeaderMaterialSover:rgba(30, 30, 30, 0.8);--systemHeaderMaterialSover-default_IC:#1e1e1e;--systemToolbarTitlebarMaterialSover:rgba(60, 60, 60, 0.8);--systemToolbarTitlebarMaterialSover-inactive:#282828;--systemToolbarTitlebarMaterialSover-default_IC:#262626;--systemToolbarTitlebarMaterialSover-inactive_IC:#141414;--labelDivider:rgba(255, 255, 255, 0.1);--vibrantDivider:rgba(235, 235, 245, 0.19);--pageBG:#1f1f1f;--pageBG-rgb:31, 31, 31;--shelfBG:rgba(255, 255, 255, 0.05);--genericJoeColor:#323232;--fallbackMaterialBG:rgba(31, 31, 31, 0.97);--liveBadgePlatterBG:#ff5066;--cardHoverColor:rgba(120, 120, 128, 0.41);--contextMenuBorderColor:rgba(255, 255, 255, 0.1);--contextMenuTextColor:rgba(255, 255, 255, 0.85);--contextMenuOverrideTextColor:#ff3b30;--dialogShadowColor:rgba(0, 0, 0, 0.55);--footerBg:#323232;--opaqueShelfBG:#2b2b2b;--systemGray6:#aeaeb2;--lockupHoverBGColor:rgba(51, 51, 51, 0.3);--lockupChinScrim:rgba(0, 0, 0, 0.2);--mobileNavigationBG:#2e2e2e;--playerBackgroundFallback:rgba(45, 45, 45, 0.97);--playerBackgroundFallback-default_IC:#282828;--playerBackground:rgba(45, 45, 45, 0.88);--playerBackground-default_IC:#282828;--navSidebarBG:rgba(235, 235, 245, 0.03);--navSidebarBG-default_IC:#282828;--navSidebarSelectedState:rgba(235, 235, 245, 0.1);--searchBoxIconFill:rgba(255, 255, 255, 0.9);--bannerDarkGray:#444444;--dropdownBackground:#575757;--dropdownLightGray:#707070;--dropdownLightGrayIcon:#999999;--dropdownActiveOutlineColor:#0066cc;--dropdownActiveOutlineColorShadow:rgba(0, 102, 204, 0.6);--radiosityShadowColor:rgba(0, 0, 0, 0.3);--searchBarBorderColor:rgba(255, 255, 255, 0.15);--modalScrimColor:rgba(0, 0, 0, 0.45)}@supports not (font: -apple-system-body){:root{--systemPrimary:rgba(255, 255, 255, 0.92);--systemPrimary-vibrant:#f5f5f7;--systemPrimary-onLight:rgba(0, 0, 0, 0.88);--systemPrimary-onDark:rgba(255, 255, 255, 0.92);--systemSecondary:rgba(255, 255, 255, 0.64);--systemSecondary-vibrant:#a1a1a6;--systemSecondary-onLight:rgba(0, 0, 0, 0.56);--systemSecondary-onDark:rgba(255, 255, 255, 0.64);--systemTertiary:rgba(255, 255, 255, 0.4);--systemTertiary-vibrant:#6e6e73;--systemTertiary-onLight:rgba(0, 0, 0, 0.48);--systemTertiary-onDark:rgba(255, 255, 255, 0.4)}}:root .increase-contrast{--systemRed:#ff6961;--systemRed-vibrant:#ff4136;--systemOrange:#ffb340;--systemOrange-vibrant:#ffb340;--systemYellow:#ffd426;--systemYellow-vibrant:#ffd426;--systemGreen:#31de4b;--systemGreen-vibrant:#31de4b;--systemMint:#63e6e2;--systemMint-vibrant:#63e6e2;--systemTeal:#5de6ff;--systemTeal-vibrant:#5de6ff;--systemCyan:#70d7ff;--systemCyan-vibrant:#70d7ff;--systemBlue:#409cff;--systemBlue-vibrant:#409cff;--systemIndigo:#7d7aff;--systemIndigo-vibrant:#7d7aff;--systemPurple:#da8fff;--systemPurple-vibrant:#da8fff;--systemPink:#ff6482;--systemPink-vibrant:#ff3a5f;--systemBrown:#b59469;--systemBrown-vibrant:#b59469;--systemGray:#98989d;--systemGray-vibrant:#98989d;--systemPrimary:white;--systemPrimary-vibrant:white;--systemPrimary-onLight:black;--systemPrimary-onDark:white;--systemSecondary:rgba(255, 255, 255, 0.7);--systemSecondary-vibrant:rgba(255, 255, 255, 0.7);--systemSecondary-onLight:rgba(0, 0, 0, 0.76);--systemSecondary-onDark:rgba(255, 255, 255, 0.7);--systemTertiary:rgba(255, 255, 255, 0.5);--systemTertiary-vibrant:rgba(255, 255, 255, 0.5);--systemTertiary-onLight:rgba(0, 0, 0, 0.56);--systemTertiary-onDark:rgba(255, 255, 255, 0.5);--systemQuaternary:rgba(255, 255, 255, 0.3);--systemQuaternary-vibrant:rgba(255, 255, 255, 0.3);--systemQuaternary-onLight:rgba(0, 0, 0, 0.35);--systemQuaternary-onDark:rgba(255, 255, 255, 0.3);--systemQuinary:rgba(255, 255, 255, 0.1);--systemQuinary-vibrant:rgba(255, 255, 255, 0.1);--systemQuinary-onLight:rgba(0, 0, 0, 0.1);--systemQuinary-onDark:rgba(255, 255, 255, 0.1);--systemStandardUltrathinMaterialSover:black;--systemStandardUltrathinMaterialSover-inactive:#141414;--systemStandardThinMaterialSover:#0a0a0a;--systemStandardThinMaterialSover-inactive:#141414;--systemStandardMediumMaterialSover:#141414;--systemStandardMediumMaterialSover-inactive:#141414;--systemStandardThickMaterialSover:#1e1e1e;--systemStandardThickMaterialSover-inactive:#141414;--systemStandardUltrathickMaterialSover:#282828;--systemStandardUltrathickMaterialSover-inactive:#141414;--systemHeaderMaterialSover:#1e1e1e;--systemToolbarTitlebarMaterialSover:#262626;--systemToolbarTitlebarMaterialSover-inactive:#141414;--playerBackgroundFallback:#282828;--playerBackground:#282828;--navSidebarBG:#282828}}@media(prefers-color-scheme: dark) and (prefers-contrast: more){:root{--systemRed:#ff6961;--systemRed-vibrant:#ff4136;--systemOrange:#ffb340;--systemOrange-vibrant:#ffb340;--systemYellow:#ffd426;--systemYellow-vibrant:#ffd426;--systemGreen:#31de4b;--systemGreen-vibrant:#31de4b;--systemMint:#63e6e2;--systemMint-vibrant:#63e6e2;--systemTeal:#5de6ff;--systemTeal-vibrant:#5de6ff;--systemCyan:#70d7ff;--systemCyan-vibrant:#70d7ff;--systemBlue:#409cff;--systemBlue-vibrant:#409cff;--systemIndigo:#7d7aff;--systemIndigo-vibrant:#7d7aff;--systemPurple:#da8fff;--systemPurple-vibrant:#da8fff;--systemPink:#ff6482;--systemPink-vibrant:#ff3a5f;--systemBrown:#b59469;--systemBrown-vibrant:#b59469;--systemGray:#98989d;--systemGray-vibrant:#98989d;--systemPrimary:white;--systemPrimary-vibrant:white;--systemPrimary-onLight:black;--systemPrimary-onDark:white;--systemSecondary:rgba(255, 255, 255, 0.7);--systemSecondary-vibrant:rgba(255, 255, 255, 0.7);--systemSecondary-onLight:rgba(0, 0, 0, 0.76);--systemSecondary-onDark:rgba(255, 255, 255, 0.7);--systemTertiary:rgba(255, 255, 255, 0.5);--systemTertiary-vibrant:rgba(255, 255, 255, 0.5);--systemTertiary-onLight:rgba(0, 0, 0, 0.56);--systemTertiary-onDark:rgba(255, 255, 255, 0.5);--systemQuaternary:rgba(255, 255, 255, 0.3);--systemQuaternary-vibrant:rgba(255, 255, 255, 0.3);--systemQuaternary-onLight:rgba(0, 0, 0, 0.35);--systemQuaternary-onDark:rgba(255, 255, 255, 0.3);--systemQuinary:rgba(255, 255, 255, 0.1);--systemQuinary-vibrant:rgba(255, 255, 255, 0.1);--systemQuinary-onLight:rgba(0, 0, 0, 0.1);--systemQuinary-onDark:rgba(255, 255, 255, 0.1);--systemStandardUltrathinMaterialSover:black;--systemStandardUltrathinMaterialSover-inactive:#141414;--systemStandardThinMaterialSover:#0a0a0a;--systemStandardThinMaterialSover-inactive:#141414;--systemStandardMediumMaterialSover:#141414;--systemStandardMediumMaterialSover-inactive:#141414;--systemStandardThickMaterialSover:#1e1e1e;--systemStandardThickMaterialSover-inactive:#141414;--systemStandardUltrathickMaterialSover:#282828;--systemStandardUltrathickMaterialSover-inactive:#141414;--systemHeaderMaterialSover:#1e1e1e;--systemToolbarTitlebarMaterialSover:#262626;--systemToolbarTitlebarMaterialSover-inactive:#141414;--playerBackgroundFallback:#282828;--playerBackground:#282828;--navSidebarBG:#282828}}:root{--viewport-default:"xsmall"}@media only screen and (min-width: 1000px){:root{--viewport-default:"small"}}@media only screen and (min-width: 1260px){:root{--viewport-default:"medium"}}@media only screen and (min-width: 1580px){:root{--viewport-default:"large"}}@media only screen and (min-width: 1940px){:root{--viewport-default:"xlarge"}}html{font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;font-size:106.25%;quotes:"" ""}[lang]:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(he){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arial Hebrew", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(hi){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Kohinoor Devanagari", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(ja){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Hiragino Sans", "SF Pro Icons", "Hiragino Kaku Gothic Pro", " Pro W3", "", "Meiryo", " ", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(ko){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Apple SD Gothic Neo", "SF Pro Icons", "Apple Gothic", "HY Gulim", "MalgunGothic", "HY Dotum", "Lexi Gulim", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(th){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Thonburi Pro", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(zh-CN){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "PingFang SC", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(zh-HK){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "PingFang HK", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(zh-MO){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "PingFang HK", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}[lang]:lang(zh-TW){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "PingFang TC", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif}:lang(cs){quotes:"" ""}:lang(de){quotes:"" ""}:lang(de-CH){quotes:"" ""}:lang(de-LI){quotes:"" ""}:lang(fr){quotes:"" ""}:lang(fr-CH){quotes:"" ""}:lang(es-ES){quotes:"" ""}:lang(hu){quotes:"" ""}:lang(ja-JP){quotes:"" ""}:lang(no-NO){quotes:"" ""}:lang(lt){quotes:"" ""}:lang(pl){quotes:"" ""}:lang(ru){quotes:" " " "}:lang(zh){quotes:"" ""}:lang(zh-CN){quotes:"" ""}body{font-size:13px;line-height:1.23077;font-weight:400;letter-spacing:0em;color:var(--bodyTextColor, var(--systemPrimary));font-style:normal}body:lang(th){line-height:1.72308}body:lang(ar){font-family:-apple-system, BlinkMacSystemFont, "Apple Color Emoji", "SF Pro", "Arabic UI Text", "SF Pro Icons", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif}body,input,textarea,select,button{font-synthesis:none;-moz-font-feature-settings:\'kern\';-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a,.link{cursor:pointer;text-decoration:none;color:var(--linkColor, inherit);letter-spacing:inherit}a:hover,.link:hover{text-decoration:var(--linkHoverTextDecoration, underline)}a:hover,a:focus,.link:hover,.link:focus{color:var(--linkHoverColor, var(--linkColor, inherit))}a:disabled,.link:disabled{opacity:0.32}li{list-style:none}b,strong{font-weight:600}em,i,cite,dfn{font-style:italic}sup,sub{position:relative;font-size:0.6em;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}abbr{border:0}:lang(ja),:lang(ko),:lang(th),:lang(zh){font-style:normal}:lang(ko){word-break:keep-all}.text-align-center{text-align:center}')}var Tt=function(e){o(n,e)
var t=s(n)
function n(e){var r
return v(this,n),xe(c(r=t.call(this)),e,null,null,C,{},bt),r}return h(n)}(je)
function St(e,t,n){if(!t.startsWith("amp-"))throw new Error("Custom element name must begin with amp-")
if("undefined"==typeof window||"undefined"!=typeof FastBoot)return h((function e(){v(this,e)}))
var a=function(t){o(a,t)
var r=s(a)
function a(){var e
return v(this,a),(e=r.apply(this,arguments))._shadowRoot=e.attachShadow({mode:"open"}),e}return h(a,[{key:"connectedCallback",value:function(){var t=this,r=Object.fromEntries(g(Object.keys(n)).map((function(e){return[e,t[e]]})))
this._element=new e({target:this._shadowRoot,props:r})}},{key:"disconnectedCallback",value:function(){var e
null===(e=this._element)||void 0===e||e.$destroy()}}]),a}(r(HTMLElement))
return customElements.define(t,a),a}},3749:function(e){var t={}
function n(e){return e.types,{visitor:{Program:function(e,n){t=n.opts.enabledFeatures},IfStatement:function(e){var n
a(e.node.test)?(r(e.node.test),o(e,t[e.node.test.arguments[0].value])):"UnaryExpression"===(n=e.node.test).type&&"!"===n.operator&&a(n.argument)&&(r(e.node.test.argument),o(e,!t[e.node.test.argument.arguments[0].value]))},ConditionalExpression:function(e){a(e.node.test)&&(r(e.node.test),t[e.node.test.arguments[0].value]?e.replaceWithMultiple(e.node.consequent):e.replaceWithMultiple(e.node.alternate))},CallExpression:function(e,t){if(a(e.node))throw new Error("Unsafe usage of feature flag found on line ".concat(e.node.loc.start.line,"\n                    Currently babel-plugin-feature-remover only accepts three ways of\n                    marking code to be removed:\n\n                    1. if (feature('FEATURE_NAME')) {}\n                    2. if (!feature('FEATURE_NAME')) {}\n                    3. feature('FEATURE_NAME') ? foo : bar\n\n                    Please rewrite the code to use one of the above forms. For instance:\n\n                        if (feature('FEATURE_NAME') && someOtherCheck) {}\n\n                    can be rewritten as\n\n                       if (feature('FEATURE_NAME')) {\n                           if (someOtherCheck) {\n\n                           }\n                       }\n                    "))}}}}function r(e){if("StringLiteral"!==e.arguments[0].type)throw new Error('Invalid usage of feature flag: "Argument received by `feature` must be a string" on line '+e.loc.start.line)}function a(e){return"CallExpression"===e.type&&"feature"===e.callee.name}function o(e,t){t?e.replaceWithMultiple(e.node.consequent.body):e.node.alternate?"IfStatement"===e.node.alternate.type?e.replaceWith(e.node.alternate):e.replaceWithMultiple(e.node.alternate.body):e.remove()}n.baseDir=function(){return __dirname},n.cacheKey=function(){return"feature-obfuscation"},e.exports=n},4387:function(e,t){"use strict"
var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()
function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=/(?:os x|iphone os|ipad; cpu os) (\d+)[_.](\d+)[_.]?(\d+)?/,o=null
new Promise((function(e,t){var n=new Image
n.onerror=function(){return t()},n.onload=function(){return e()},n.src="data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoBAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA=="})).then((function(){o=!0})).catch((function(){o=!1}))
var i=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
r(this,e),this.ua=t.toLowerCase()}return n(e,[{key:"couldSupportScheme",value:function(e){var t=!1
switch(e){case"apple-music":t=this.isAndroid
break
case"itms":t=this.ismacOS||this.isWindows
break
case"itms-books":t=this.ismacOS||this.isiOS
break
case"itms-itunesu":case"itms-apps":case"itms-podcast":case"itms-messages":case"itms-watch":case"music":t=this.isiOS
break
case"macappstore":t=this.ismacOS
break
case"video":t=this.isAtLeastMojavePlusOne||this.isAtLeastiOSTenTwo}return t}},{key:"isWindows",get:function(){return!this.isMobile&&/windows/.test(this.ua)}},{key:"isWebOS",get:function(){return/web0s|webos/.test(this.ua)}},{key:"isTizen",get:function(){return/tizen/.test(this.ua)}},{key:"isLinux",get:function(){return!this.isMobile&&/linux/.test(this.ua)}},{key:"isAtLeastMojavePlusOne",get:function(){return this.isAtLeastBigSur||this.isMojavePlusOne}},{key:"isAtLeastMojave",get:function(){return this.isAtLeastBigSur||this.isMojavePlusOne||this.isMojave}},{key:"isBigSur",get:function(){return!!this.ismacOS&&(this.isSafari?this.webPSupported:!(!this._isChromeOnBigSur&&!this._isFirefoxOnBigSur)||10===this.macOSMajorVersion&&this.macOSMinorVersion>=16||this.macOSMajorVersion>=11)}},{key:"isAtLeastBigSur",get:function(){return this.isBigSur}},{key:"_isSafariOnBigSur",get:function(){return this.isSafari&&this.isAtLeastBigSur&&14===this.majorVersion}},{key:"_isSafariOnBigSurE",get:function(){return this._isSafariOnBigSur&&1===this.minorVersion}},{key:"_isSafariOnBigSurPreE",get:function(){return this._isSafariOnBigSur&&0===this.minorVersion}},{key:"_isSafariOnBigSurF",get:function(){return this._isSafariOnBigSur&&1===this.minorVersion&&1===this.patchVersion}},{key:"_isFirefoxOnBigSur",get:function(){return this.isFirefox&&10===this.macOSMajorVersion&&this.macOSMinorVersion>=15}},{key:"_isChromeOnBigSur",get:function(){return this.isChrome&&10===this.macOSMajorVersion&&15===this.macOSMinorVersion&&7===this.macOSPatchVersion||this.isChrome&&11===this.macOSMajorVersion}},{key:"webPSupported",get:function(){return"boolean"!=typeof o&&console.warn("You accessed `webPSupported` that has not yet resolved to a boolean. Consider checking this property or a property that relies on this value later."),o||!1}},{key:"isMojavePlusOne",get:function(){return this.ismacOS&&10===this.macOSMajorVersion&&15===this.macOSMinorVersion&&!this.isBigSur}},{key:"isMojave",get:function(){return this.ismacOS&&10===this.macOSMajorVersion&&14===this.macOSMinorVersion}},{key:"isAtLeastiOSTenTwo",get:function(){return!!this.isiOS&&(10===this.iOSMajorVersion&&this.iOSMinorVersion>=2||this.iOSMajorVersion>10)}},{key:"macOSMajorVersion",get:function(){if(this.ismacOS){var e=this.ua.match(a)
if(e&&e[1])return this._isSafariOnBigSur?11:parseInt(e[1],10)}}},{key:"macOSMinorVersion",get:function(){if(this.ismacOS){var e=this.ua.match(a)
if(e&&e[2])return this._isSafariOnBigSurPreE?this.patchVersion-1:this._isSafariOnBigSurE?3:this._isSafariOnBigSurF?4:parseInt(e[2],10)}}},{key:"macOSPatchVersion",get:function(){if(this.ismacOS){var e=this.ua.match(a)
if(e&&e[2]&&e[3])return parseInt(e[3],10)}}},{key:"iOSMajorVersion",get:function(){if(this.isiOS){var e=this.ua.match(a)
if(e&&e[1])return parseInt(e[1],10)}}},{key:"iOSMinorVersion",get:function(){if(this.isiOS){var e=this.ua.match(a)
if(e&&e[2])return parseInt(e[2],10)}}},{key:"ismacOS",get:function(){return!this.isMobile&&/macintosh/.test(this.ua)}},{key:"isChromeOS",get:function(){return!this.isMobile&&/CrOS/.test(this.ua)}},{key:"engineMajorVersion",get:function(){if(this.engineVersion)return parseInt(this.engineVersion[1],10)}},{key:"majorVersion",get:function(){if(this.version)return parseInt(this.version[1],10)}},{key:"minorVersion",get:function(){if(this.version)return parseInt(this.version[2],10)}},{key:"patchVersion",get:function(){if(this.version)return parseInt(this.version[3],10)}},{key:"engineVersion",get:function(){return this.isEdge?this.ua.match(/(?:edge).(\d+)/):this.ua.match(/(?:applewebkit|gecko|trident).(\d+)/)}},{key:"version",get:function(){if(!this.isEdge)return this.ua.match(/(?:chrome|crios|version|firefox|msie|rv).(\d+)\.(\d+)\.?(\d+)?/)}},{key:"isWebKit",get:function(){return!this.isEdgeHTML&&/applewebkit/.test(this.ua)&&!/edge/.test(this.ua)}},{key:"isiOS",get:function(){return this.isMobile&&/iphone|ipad|ipod/.test(this.ua)}},{key:"isEdge",get:function(){return/\sedge\//.test(this.ua)}},{key:"isChrome",get:function(){return!this.isEdge&&/chrome|crios/.test(this.ua)}},{key:"isSafari",get:function(){return!this.isEdge&&!this.isChrome&&/safari/.test(this.ua)}},{key:"isFirefox",get:function(){return!this.isEdge&&!this.isChrome&&!this.isSafari&&/firefox/.test(this.ua)}},{key:"isOpera",get:function(){return!this.isEdge&&!this.isChrome&&!this.isSafari&&/opera|opr/.test(this.ua)}},{key:"isOperaMini",get:function(){return!this.isEdge&&!this.isChrome&&!this.isSafari&&/opera\s*mini/.test(this.ua)}},{key:"isIE",get:function(){return!this.isEdge&&!this.isChrome&&!this.isSafari&&!this.isFirefox&&/trident|msie/.test(this.ua)}},{key:"isMobile",get:function(){return/mobile/.test(this.ua)||this.isOperaMini}},{key:"isAndroid",get:function(){return/android/.test(this.ua)}},{key:"isEdgeHTML",get:function(){return this.isEdge}},{key:"isTrident",get:function(){return!this.isEdgeHTML&&!this.isWebKit&&/trident/.test(this.ua)}},{key:"isGecko",get:function(){return!this.isEdgeHTML&&!this.isWebKit&&!this.isTrident&&/gecko/.test(this.ua)}},{key:"osName",get:function(){return this.isWindows?"Windows":this.isLinux?"Linux":this.ismacOS?"MacOS":this.isChromeOS?"Chrome OS":this.isTizen?"Tizen":this.isTrident?"Trident":this.isAndroid?"Android":this.isiOS?"iOS":this.isWebOS?"WebOS":"unknown"}},{key:"clientName",get:function(){return this.isEdge?"Edge":this.isIE?"IE":this.isChrome?"Chrome":this.isSafari?"Safari":this.isFirefox?"Firefox":this.isOpera?"Opera":this.isOperaMini?"Opera Mini":"unknown"}},{key:"browserName",get:function(){var e="",t=this.clientName
return this.majorVersion&&(e=""+this.majorVersion,this.minorVersion&&this.patchVersion?e=e+"."+this.minorVersion+"."+this.patchVersion:this.minorVersion&&(e=e+"."+this.minorVersion)),""!==t?""!==e?t+" "+e:t:"unknown"}}]),e}()
t.default=i},6155:function(e,t,n){"use strict"
var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7433),o={app:["8"],audiobook:["3"],book:["11","13"],"mac-app":["12"],podcast:["2"]},i={audiobook:/\/(audiobook\/|viewAudiobook)/,book:/\/book\//,course:/\/course\//,"mac-app":/\/mac-app\//,story:/\/story\//,developer:/\/developer\//,music:/\/(album|artist|music-video|show|episode)\//,podcast:/\/podcast\//,tv:/\/(episode|movie|movie-collection|show|season|sporting-event|person)\//},s={book:"books.apple.com",podcast:"podcasts.apple.com",music:"music.apple.com",tv:"tv.apple.com"},l={book:"books",podcast:"podcasts"},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)
var n=(0,a.parseURL)(t),r=n.hostname,o=n.pathname,i=n.protocol,s=n.search
this.hostname=r,this.pathname=o,this.protocol=i,this.query=(0,a.parseSearch)(s),this.url=t}return r(e,null,[{key:"forURL",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.isAndroid||!1,r=t.isMobile||!1,a=t.isAtLeastMojave||!1,o=t.isAtLeastMojavePlusOne||!1,i=t.isAtLeastiOSTenTwo||!1,s=new this(e)
if(!/https?:/.test(s.protocol))return s.protocol
if(r){if((s.isApps||s.isStory||s.isDeveloper)&&!n)return"itms-apps"
if(s.isWatch)return"itms-watch"
if(s.isPodcast)return"itms-podcast"
if(s.isMessages)return"itms-messages"
if(s.isMusic)return n?"apple-music":"music"
if(s.isTV&&i)return"com.apple.tv"}if(o){if(s.isPodcast)return"podcast"
if(s.isAudiobook)return"itms-books"
if(s.isTV)return"video"
if(s.isMusic)return"music"}return s.isBook?"itms-books":s.isCobalt?"itms-itunesu":s.isMacApp||(s.isStory||s.isDeveloper)&&a?"macappstore":"itms"}},{key:"isApple",value:function(e){return e&&null!==e.match(/^(?:itms(?:-.*)?|macappstore|podcast|video|(?:apple-)?music)s?(:|$)/im)}}]),r(e,[{key:"_is",value:function(e){var t="itunes.apple.com"!==this.hostname&&s[e],n=t&&String.prototype.endsWith.call(this.hostname,t),r=this.query,a=r.app,c=r.mt,u=a&&(a===e||a===l[e])
if(t||u)return n||u
var d=o[e]
if(d&&d.includes(c))return!0
var f=i[e]
return!(!f||!f.test(this.pathname))}},{key:"isApps",get:function(){return-1!==o.app.indexOf(this.query.mt)&&!this.isMessages&&!this.isWatch}},{key:"isAudiobook",get:function(){return this._is("audiobook")}},{key:"isBook",get:function(){return this._is("book")&&!this.isAudiobook}},{key:"isCobalt",get:function(){return this._is("course")}},{key:"isMacApp",get:function(){return this._is("mac-app")}},{key:"isStory",get:function(){return this._is("story")}},{key:"isMessages",get:function(){return this._is("messages")}},{key:"isMusic",get:function(){return this._is("music")}},{key:"isPodcast",get:function(){return this._is("podcast")}},{key:"isTV",get:function(){return this._is("tv")}},{key:"isWatch",get:function(){return this._is("watch")}},{key:"isDeveloper",get:function(){return this._is("developer")}}]),e}()
t.default=c},1702:function(e,t){"use strict"
t.appendFrame=function(){var e=arguments.length<=0||void 0===arguments[0]?n:arguments[0],t=arguments.length<=1||void 0===arguments[1]?document.body:arguments[1],r=e
return"string"==typeof e&&((r=document.createElement("iframe")).id=e,r.style.display="none"),t.appendChild(r),r},t.removeFrame=function(){var e=arguments.length<=0||void 0===arguments[0]?n:arguments[0],t=arguments.length<=1||void 0===arguments[1]?document.body:arguments[1],r=e
"string"==typeof e&&(r=document.getElementById(e)),r&&t.removeChild(r)}
var n="client-detect-frame"
t.FRAME_ID=n},7433:function(e,t){"use strict"
var n=function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0
try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}
t.parseSearch=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t={},a=e.match(r)||[]
return a.forEach((function(e){var r=e.split("="),a=n(r,2),o=a[0],i=a[1]
t[o]=i})),t},t.parseURL=function(e){var t=document.createElement("a")
return t.href=e,{hash:t.hash,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,search:t.search}},t.sanitizeUrlForLaunch=function(e){var t=new URL(e)
return t.host=t.host.replace(/^(?:[^-]+[-.])?([^.]+)\.apple\.com/,"$1.apple.com"),t.port="",t.toString().replace(":0","")}
var r=/([^?&=]+)=?([^&]*)/g},193:function(e,t,n){"use strict"
var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()
t.registerGlobal=function(e){e.ClientDetect=l}
var a=n(4387),o=n(6155),i=n(8900),s=n(7433),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"browser",value:function(e){return new a.default(e)}},{key:"couldHaveAppStore",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
return new a.default(e).couldSupportScheme("itms-apps")}},{key:"couldHaveBookStore",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
return new a.default(e).couldSupportScheme("itms-books")}},{key:"couldHaveiTunes",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
return new a.default(e).couldSupportScheme("itms")}},{key:"couldHaveiTunesU",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
return new a.default(e).couldSupportScheme("itms-itunesu")}},{key:"couldHaveMacAppStore",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
return new a.default(e).couldSupportScheme("macappstore")}},{key:"couldHaveMessages",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
return new a.default(e).couldSupportScheme("itms-messages")}},{key:"couldHaveMusic",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0],t=new a.default(e)
return t.couldSupportScheme("music")||t.couldSupportScheme("apple-music")}},{key:"couldHavePodcasts",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
return new a.default(e).couldSupportScheme("itms-podcast")}},{key:"couldHaveTV",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
return new a.default(e).couldSupportScheme("video")}},{key:"couldHaveWatch",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0]
return new a.default(e).couldSupportScheme("itms-watch")}},{key:"schemeForURL",value:function(e,t){var n=o.default.forURL(e,t),r=t.isAndroid||"com.apple.tv"===n?/^https?/:/^http/
return{scheme:n,href:e.replace(r,n)}}},{key:"launchClient",value:function(t,n){var r=new a.default,o=t,l=void 0
if(/^https?:\/\//.test(t)){var c=e.schemeForURL(t,r)
l=c.scheme,o=c.href}if(o=(0,s.sanitizeUrlForLaunch)(o),"function"!=typeof n)return window.location.href=o
function u(){n(1,r,o)}function d(){n(0,r,o)}return navigator.msLaunchUri?navigator.msLaunchUri(o,u,d):r.isChrome?i.default.chrome(o,u,d):r.isFirefox?i.default.firefox(o,u,d):r.isIE?i.default.ie(o,u,d):r.isiOS?i.default.ios(o,u,d):r.ismacOS&&r.isSafari?i.default.mac(o,u,d):i.default.default(o,(function(){n(-1,r,o)})),{scheme:l,href:o}}}]),e}()
t.ClientDetect=l,t.default=l},1216:function(e,t){"use strict"
t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=arguments.length<=2||void 0===arguments[2]?Function():arguments[2]
function r(){window.clearTimeout(a),window.removeEventListener("blur",r),t()}window.addEventListener("blur",r)
var a=window.setTimeout((function(){window.removeEventListener("blur",r),n()}),250)
try{window.location.href=e}catch(e){n()}}},4098:function(e,t,n){"use strict"
var r=n(1702)
t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=(0,r.appendFrame)()
n.contentWindow.location.href=e,window.setTimeout((function(){(0,r.removeFrame)(n),t()}),250)}},3847:function(e,t,n){"use strict"
var r=n(1702)
t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=arguments.length<=2||void 0===arguments[2]?Function():arguments[2],a=(0,r.appendFrame)()
try{a.contentWindow.location.href=e,t()}catch(e){n()}finally{(0,r.removeFrame)()}}},8846:function(e,t){"use strict"
var n="client-detect-popup"
t.POPUP_ID=n,t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],r=arguments.length<=2||void 0===arguments[2]?Function():arguments[2],a="about:blank",o=window.open("",n,"height=0,width=0")
o.location.href=e
try{!function(){o.location.href=a,t()
var e=window.setInterval((function(){o.close(),o.closed&&window.clearInterval(e)}),250)}()}catch(e){(o=window.open(a,n)).close(),r()}}},8900:function(e,t,n){"use strict"
var r=n(4098),a=n(1216),o=n(3847),i=n(8846),s=n(8433),l=n(6618)
t.default={chrome:a.default,firefox:o.default,ie:i.default,ios:s.default,mac:l.default,default:r.default}},8433:function(e,t){"use strict"
t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=arguments.length<=2||void 0===arguments[2]?Function():arguments[2]
try{top.window.location.href=e,t()}catch(e){n()}}},6618:function(e,t,n){"use strict"
var r=n(6155),a=n(1702)
t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=arguments.length<=2||void 0===arguments[2]?Function():arguments[2]
function o(e){var n=arguments.length<=1||void 0===arguments[1]?t:arguments[1]
window.clearTimeout(s),window.removeEventListener("blur",o),(0,a.removeFrame)(i),n()}var i=(0,a.appendFrame)()
if(i.contentWindow.location.href=e,r.default.isApple(e))return t()
window.addEventListener("blur",o)
var s=window.setTimeout((function(){o(null,n)}),50)}},9530:function(e){e.exports=function(e){var t=e
e<60&&(t=60)
var n=t/3600,r=Math.floor(n),a=t%3600,o=Math.round(a/60)
return 60===o&&(r+=1,o=0),{hours:r,minutes:o}}},4878:function(e){e.exports={beforeCreate:function(){this.analytics={attributes:Object.assign({},this.model.Analytics.Attributes),clickValues:{}}},itemsCreated:function(){var e=this
Object.values(this.items).forEach((function(t){var n=t.triggerEl.getAttribute(e.analytics.attributes.click)
e.analytics.clickValues[t.key]=n,n&&(t.isExpanded()&&e.removeItemClickAttribute(t),e._bindAnalyticsItemEvents(t))}))},onItemChangeCompleted:function(){this._updateToggleAllButtonClickAttribute()},destroy:function(){this.analytics=null},_bindAnalyticsItemEvents:function(e){var t=this
e.on(this.model.Item.Events.expanded,(function(){return t.removeItemClickAttribute(e)})),e.on(this.model.Item.Events.collapsed,(function(){return t.setItemClickAttribute(e,t.analytics.clickValues[e.key])}))},_updateToggleAllButtonClickAttribute:function(){var e=this
this.toggleAllButton&&this.toggleAllButton.toggleEls&&this.toggleAllButton.toggleEls.forEach((function(t){var n=e.toggleAllButton.state,r=e.model.Analytics.ToggleAllButton.StateString[n],a=e.model.Analytics.ToggleAllButton.StateString.expandAll,o=e.model.Analytics.ToggleAllButton.StateString.collapseAll,i=t.getAttribute(e.analytics.attributes.click),s=t.getAttribute(e.analytics.attributes.title)
i&&(i=e._replaceStateString(i,r,a,o),t.setAttribute(e.analytics.attributes.click,i)),s&&(s=e._replaceStateString(s,r,a,o),t.setAttribute(e.analytics.attributes.title,s))}))},_replaceStateString:function(e,t){for(var n=e,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]
for(var i=0,s=a;i<s.length;i++){var l=s[i]
n.includes(l)&&(n=n.replace(l,t))}return n},setItemClickAttribute:function(e,t){e.triggerEl.setAttribute(this.analytics.attributes.click,t)},removeItemClickAttribute:function(e){e.triggerEl.removeAttribute(this.analytics.attributes.click)}}},4684:function(e){e.exports={created:function(){this.onAnimationEnd=this.onAnimationEnd.bind(this),this.animateHeight={timeoutIDs:{},expandedHeight:{}}},itemsCreated:function(){Object.values(this.items).forEach((function(e){e.isCollapsed()&&e.setTrayElHeight(0,!1,!1)}))},mounted:function(){var e=this
Object.values(this.items).forEach((function(t){e.animateHeight.expandedHeight[t.key]=e.getExpandedHeight(t)}))},onItemChangeInitiated:function(e){this.animateHeight.timeoutIDs[e.item.key]=clearTimeout(this.animateHeight.timeoutIDs[e.item.key])},animateItem:function(e){var t=e.item,n=this.getDuration(t.contentHeight),r=this.items[t.parentKey]
t.setTrayElHeight(t.contentHeight,"px"),t.trayEl.style.transitionDuration="".concat(n,"ms"),r&&r.isAnimating()&&(this.animateHeight.timeoutIDs[r.key]=clearTimeout(this.animateHeight.timeoutIDs[r.key]),this.animateParentItem(t,n)),t.isCollapsing()&&requestAnimationFrame((function(){t.setTrayElHeight(0)})),this.animateHeight.timeoutIDs[t.key]=setTimeout(this.onAnimationEnd,n,t)},onItemChangeCompleted:function(e){var t=e.item
t.isExpandState()&&t.setTrayElHeight("auto")},destroy:function(){for(var e=0,t=Object.values(this.animateHeight.timeoutIDs);e<t.length;e++){var n=t[e]
clearTimeout(n)}this.animateHeight=null},onResizeDebounced:function(){var e=this
Object.values(this.items).forEach((function(t){e.animateHeight.expandedHeight[t.key]=e.getExpandedHeight(t)}))},onAnimationEnd:function(e){this.trigger(this.model.Events.ITEM_CHANGE_COMPLETED,{accordion:this,item:e})},animateParentItem:function(e,t){var n=this.items[e.parentKey],r=this.animateHeight.expandedHeight[n.key]
n.setTrayElHeight(r,"px"),n.trayEl.style.transitionDuration="".concat(t,"ms"),this.animateHeight.timeoutIDs[n.key]=setTimeout(this.onAnimationEnd,t,n)},getExpandedHeight:function(e){var t=this
e.measure()
var n=e.contentHeight
return e.childKeys.forEach((function(e){var r=t.items[e]
r.isCollapseState()&&(r.measure(),n+=r.contentHeight)})),n},getDuration:function(e){return this.model.Tray.duration||Math.min(Math.max(e/3*2,400),800)}}},9730:function(e){e.exports={mounted:function(){var e=this
Object.values(this.items).forEach((function(t){t.iconEl=t.el.querySelector(e.model.Icon.Selector),e.model.Icon.Template&&(t.iconEl.innerHTML=e.model.Icon.Template),t.isExpanded()&&t.iconEl.querySelector(e.model.Icon.ShapeSelector).setAttribute("points",e.model.Icon.Points.expanded),t.iconExpandAnimationEl=t.iconEl.querySelector(e.model.Icon.ExpandAnimationSelector),t.iconCollapseAnimationEl=t.iconEl.querySelector(e.model.Icon.CollapseAnimationSelector)}))},animateItem:function(e){var t=e.item
t.isExpandState()?t.iconExpandAnimationEl.beginElement():t.iconCollapseAnimationEl.beginElement()}}},6961:function(e){e.exports={created:function(){this.toggleItem=this.toggleItem.bind(this)},mounted:function(){var e=this
this.triggers=this.el.querySelectorAll(this.model.Trigger.Selector),this.triggers.forEach((function(t){t.removeAttribute("role"),t.addEventListener("click",e.toggleItem)}))},destroy:function(){var e=this
this.triggers.forEach((function(t){t.removeEventListener("click",e.toggleItem)})),this.triggers=null},toggleItem:function(e){var t=e.currentTarget.parentElement.closest(this.model.Item.Selector).dataset.accordionItem,n=this.items[t]
this.trigger(this.model.Events.ITEM_CHANGE_INITIATED,{accordion:this,item:n})}}},1526:function(e){"use strict"
var t="touch"
function n(e,t){this._target=e||document.body,this._attr=t||"data-focus-method",this._focusMethod=this._lastFocusMethod=!1,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this),this._bindEvents()}var r=n.prototype
r._bindEvents=function(){this._target.addEventListener("keydown",this._onKeyDown,!0),this._target.addEventListener("mousedown",this._onMouseDown,!0),this._target.addEventListener("touchstart",this._onTouchStart,!0),this._target.addEventListener("focus",this._onFocus,!0),this._target.addEventListener("blur",this._onBlur,!0),window.addEventListener("blur",this._onWindowBlur)},r._onKeyDown=function(e){this._focusMethod="key"},r._onMouseDown=function(e){this._focusMethod!==t&&(this._focusMethod="mouse")},r._onTouchStart=function(e){this._focusMethod=t},r._onFocus=function(e){this._focusMethod||(this._focusMethod=this._lastFocusMethod),e.target.setAttribute(this._attr,this._focusMethod),this._lastFocusMethod=this._focusMethod,this._focusMethod=!1},r._onBlur=function(e){e.target.removeAttribute(this._attr)},r._onWindowBlur=function(e){this._focusMethod=!1},e.exports=n},8008:function(e){"use strict"
var t=Object.prototype.hasOwnProperty,n="~"
function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,i){if("function"!=typeof r)throw new TypeError("The listener must be a function")
var s=new a(r,o||e,i),l=n?n+t:t
return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[]
if(0===this._eventsCount)return a
for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r)
return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t]
if(!r)return[]
if(r.fn)return[r.fn]
for(var a=0,o=r.length,i=new Array(o);a<o;a++)i[a]=r[a].fn
return i},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t]
return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,o,i){var s=n?n+e:e
if(!this._events[s])return!1
var l,c,u=this._events[s],d=arguments.length
if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0
case 2:return u.fn.call(u.context,t),!0
case 3:return u.fn.call(u.context,t,r),!0
case 4:return u.fn.call(u.context,t,r,a),!0
case 5:return u.fn.call(u.context,t,r,a,o),!0
case 6:return u.fn.call(u.context,t,r,a,o,i),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c]
u.fn.apply(u.context,l)}else{var f,p=u.length
for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context)
break
case 2:u[c].fn.call(u[c].context,t)
break
case 3:u[c].fn.call(u[c].context,t,r)
break
case 4:u[c].fn.call(u[c].context,t,r,a)
break
default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f]
u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var o=n?n+e:e
if(!this._events[o])return this
if(!t)return i(this,o),this
var s=this._events[o]
if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||i(this,o)
else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l])
c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t
return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},3094:function(e){"use strict"
function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=Array.isArray,r=Object.keys,a=Object.prototype.hasOwnProperty
e.exports=function e(o,i){if(o===i)return!0
if(o&&i&&"object"==t(o)&&"object"==t(i)){var s,l,c,u=n(o),d=n(i)
if(u&&d){if((l=o.length)!=i.length)return!1
for(s=l;0!=s--;)if(!e(o[s],i[s]))return!1
return!0}if(u!=d)return!1
var f=o instanceof Date,p=i instanceof Date
if(f!=p)return!1
if(f&&p)return o.getTime()==i.getTime()
var m=o instanceof RegExp,v=i instanceof RegExp
if(m!=v)return!1
if(m&&v)return o.toString()==i.toString()
var y=r(o)
if((l=y.length)!==r(i).length)return!1
for(s=l;0!=s--;)if(!a.call(i,y[s]))return!1
for(s=l;0!=s--;)if(!e(o[c=y[s]],i[c]))return!1
return!0}return o!=o&&i!=i}},6990:function(e,t,n){"use strict"
function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.r(t)
var a,o=function(){function e(){this.registry=new WeakMap}return e.prototype.elementExists=function(e){return this.registry.has(e)},e.prototype.getElement=function(e){return this.registry.get(e)},e.prototype.addElement=function(e,t){e&&this.registry.set(e,t||{})},e.prototype.removeElement=function(e){this.registry.delete(e)},e.prototype.destroyRegistry=function(){this.registry=new WeakMap},e}(),i=function(){}
!function(e){e.enter="enter",e.exit="exit"}(a||(a={}))
var s,l=function(){function e(){this.registry=new o}return e.prototype.addCallback=function(e,t,n){var r,o,i
e===a.enter?((r={})[a.enter]=n,i=r):((o={})[a.exit]=n,i=o),this.registry.addElement(t,Object.assign({},this.registry.getElement(t),i))},e.prototype.dispatchCallback=function(e,t,n){if(e===a.enter){var r=this.registry.getElement(t).enter;(void 0===r?i:r)(n)}else{var o=this.registry.getElement(t)
o&&o.exit&&o.exit(n)}},e}(),c=(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},s(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])
return e},u.apply(this,arguments)},d=function(e){function t(){var t=e.call(this)||this
return t.elementRegistry=new o,t}return c(t,e),t.prototype.observe=function(e,t){void 0===t&&(t={}),e&&(this.elementRegistry.addElement(e,u({},t)),this.setupObserver(e,u({},t)))},t.prototype.unobserve=function(e,t){var n=this.findMatchingRootEntry(t)
n&&n.intersectionObserver.unobserve(e)},t.prototype.addEnterCallback=function(e,t){this.addCallback(a.enter,e,t)},t.prototype.addExitCallback=function(e,t){this.addCallback(a.exit,e,t)},t.prototype.dispatchEnterCallback=function(e,t){this.dispatchCallback(a.enter,e,t)},t.prototype.dispatchExitCallback=function(e,t){this.dispatchCallback(a.exit,e,t)},t.prototype.destroy=function(){this.elementRegistry.destroyRegistry()},t.prototype.setupOnIntersection=function(e){var t=this
return function(n){return t.onIntersection(e,n)}},t.prototype.setupObserver=function(e,t){var n,r,a=t.root,o=void 0===a?window:a,i=this.findRootFromRegistry(o)
if(i&&(r=this.determineMatchingElements(t,i)),r){var s=r.elements,l=r.intersectionObserver
s.push(e),l&&l.observe(e)}else{var c={elements:[e],intersectionObserver:l=this.newObserver(e,t),options:t},u=this.stringifyOptions(t)
i?i[u]=c:this.elementRegistry.addElement(o,((n={})[u]=c,n))}},t.prototype.newObserver=function(e,t){var n=t.root,r=t.rootMargin,a=t.threshold,o=new IntersectionObserver(this.setupOnIntersection(t).bind(this),{root:n,rootMargin:r,threshold:a})
return o.observe(e),o},t.prototype.onIntersection=function(e,t){var n=this
t.forEach((function(t){var r=t.isIntersecting,a=t.intersectionRatio,o=e.threshold||0
Array.isArray(o)&&(o=o[o.length-1])
var i=n.findMatchingRootEntry(e)
r||a>o?i&&i.elements.some((function(e){return!(!e||e!==t.target||(n.dispatchEnterCallback(e,t),0))})):i&&i.elements.some((function(e){return!(!e||e!==t.target||(n.dispatchExitCallback(e,t),0))}))}))},t.prototype.findRootFromRegistry=function(e){if(this.elementRegistry)return this.elementRegistry.getElement(e)},t.prototype.findMatchingRootEntry=function(e){var t=e.root,n=void 0===t?window:t,r=this.findRootFromRegistry(n)
if(r)return r[this.stringifyOptions(e)]},t.prototype.determineMatchingElements=function(e,t){var n=this,r=Object.keys(t).filter((function(r){var a=t[r].options
return n.areOptionsSame(e,a)}))[0]
return t[r]},t.prototype.areOptionsSame=function(e,t){if(e===t)return!0
var n=Object.prototype.toString.call(e),a=Object.prototype.toString.call(t)
if(n!==a)return!1
if("[object Object]"!==n&&"[object Object]"!==a)return e===t
if(e&&t&&"object"===r(e)&&"object"===r(t))for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&!1===this.areOptionsSame(e[o],t[o]))return!1
return!0},t.prototype.stringifyOptions=function(e){var t=e.root
return JSON.stringify(e,(function(e,n){if("root"===e&&t){var r=Array.prototype.slice.call(t.classList).reduce((function(e,t){return e+t}),"")
return t.id+"-"+r}return n}))},t}(l)
t.default=d},1494:function(e,t,n){"use strict"
var r
n.r(t)
var a=function(){function e(){this.pool=[],this.flush()}return e.prototype.flush=function(){var e=this
r=window.requestAnimationFrame((function(){var t=e.pool
e.reset(),t.forEach((function(e){e[Object.keys(e)[0]]()})),e.flush()}))},e.prototype.add=function(e,t){var n
return this.pool.push(((n={})[e]=t,n)),t},e.prototype.remove=function(e){this.pool=this.pool.filter((function(t){return!t[e]}))},e.prototype.reset=function(){this.pool=[]},e.prototype.stop=function(){window.cancelAnimationFrame(r)},e}()
t.default=a},4276:function(e,t,n){"use strict"
n.r(t),n.d(t,{getCLS:function(){return b},getFCP:function(){return y},getFID:function(){return I},getLCP:function(){return C},getTTFB:function(){return E}})
var r,a,o,i,s=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},l=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return
var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}))
return n.observe({type:e,buffered:!0}),n}}catch(e){}},c=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}
addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},u=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},d=function(e,t,n){var r
return function(a){t.value>=0&&(a||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},f=-1,p=function(){return"hidden"===document.visibilityState?0:1/0},m=function(){c((function(e){var t=e.timeStamp
f=t}),!0)},v=function(){return f<0&&(f=p(),m(),u((function(){setTimeout((function(){f=p(),m()}),0)}))),{get firstHiddenTime(){return f}}},y=function(e,t){var n,r=v(),a=s("FCP"),o=function(e){"first-contentful-paint"===e.name&&(c&&c.disconnect(),e.startTime<r.firstHiddenTime&&(a.value=e.startTime,a.entries.push(e),n(!0)))},i=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],c=i?null:l("paint",o);(i||c)&&(n=d(e,a,t),i&&o(i),u((function(r){a=s("FCP"),n=d(e,a,t),requestAnimationFrame((function(){requestAnimationFrame((function(){a.value=performance.now()-r.timeStamp,n(!0)}))}))})))},h=!1,g=-1,b=function(e,t){h||(y((function(e){g=e.value})),h=!0)
var n,r=function(t){g>-1&&e(t)},a=s("CLS",0),o=0,i=[],f=function(e){if(!e.hadRecentInput){var t=i[0],r=i[i.length-1]
o&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e]),o>a.value&&(a.value=o,a.entries=i,n())}},p=l("layout-shift",f)
p&&(n=d(r,a,t),c((function(){p.takeRecords().map(f),n(!0)})),u((function(){o=0,g=-1,a=s("CLS",0),n=d(r,a,t)})))},T={passive:!0,capture:!0},S=new Date,w=function(e,t){r||(r=t,a=e,o=new Date,k(removeEventListener),P())},P=function(){if(a>=0&&a<o-S){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+a}
i.forEach((function(t){t(e)})),i=[]}},O=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp
"pointerdown"==e.type?function(e,t){var n=function(){w(e,t),a()},r=function(){a()},a=function(){removeEventListener("pointerup",n,T),removeEventListener("pointercancel",r,T)}
addEventListener("pointerup",n,T),addEventListener("pointercancel",r,T)}(t,e):w(t,e)}},k=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,O,T)}))},I=function(e,t){var n,o=v(),f=s("FID"),p=function(e){e.startTime<o.firstHiddenTime&&(f.value=e.processingStart-e.startTime,f.entries.push(e),n(!0))},m=l("first-input",p)
n=d(e,f,t),m&&c((function(){m.takeRecords().map(p),m.disconnect()}),!0),m&&u((function(){var o
f=s("FID"),n=d(e,f,t),i=[],a=-1,r=null,k(addEventListener),o=p,i.push(o),P()}))},A={},C=function(e,t){var n,r=v(),a=s("LCP"),o=function(e){var t=e.startTime
t<r.firstHiddenTime&&(a.value=t,a.entries.push(e),n())},i=l("largest-contentful-paint",o)
if(i){n=d(e,a,t)
var f=function(){A[a.id]||(i.takeRecords().map(o),i.disconnect(),A[a.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,f,{once:!0,capture:!0})})),c(f,!0),u((function(r){a=s("LCP"),n=d(e,a,t),requestAnimationFrame((function(){requestAnimationFrame((function(){a.value=performance.now()-r.timeStamp,A[a.id]=!0,n(!0)}))}))}))}},E=function(e){var t,n=s("TTFB")
t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0}
for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0))
return t}()
if(n.value=n.delta=t.responseStart,n.value<0||n.value>performance.now())return
n.entries=[t],e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("load",(function(){return setTimeout(t,0)}))}},3610:function(e,t,n){"use strict"
function r(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function a(e){return Object.fromEntries(e.flatMap((function(e){var t,n={},a=function(e,t){var n
if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))){n&&(e=n)
var a=0,o=function(){}
return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1
return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next()
return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}(e.locales)
try{for(a.s();!(t=a.n()).done;){var o=t.value
o.id in n||(n[o.id]={default:o.name}),n[o.id][o.language]=o.name}}catch(e){a.e(e)}finally{a.f()}return Object.entries(n)})))}n.r(t),n.d(t,{getFormattedStorefrontNameTranslations:function(){return a}})},1018:function(e,t,n){"use strict"
function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t)
if(r){var a=Object.getOwnPropertyDescriptor(r,t)
return a.get?a.get.call(n):a.value}},o(e,t,n||e)}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}(e):t}function s(e){var t="function"==typeof Map?new Map:void 0
return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e
var n
if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function")
if(void 0!==t){if(t.has(e))return t.get(e)
t.set(e,r)}function r(){return l(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},s(e)}function l(e,t,n){return l=c()?Reflect.construct:function(e,t,n){var r=[null]
r.push.apply(r,t)
var a=new(Function.bind.apply(e,r))
return n&&u(a,n.prototype),a},l.apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}n.r(t),n.d(t,{LruMap:function(){return f}})
var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e)
var t,n,r,s=(t=l,n=c(),function(){var e,r=d(t)
if(n){var a=d(this).constructor
e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments)
return i(this,e)})
function l(){return a(this,l),s.apply(this,arguments)}return(r=[{key:"setLimit",value:function(e){return e>0&&isFinite(e)&&(this.limit=e,this.prune()),this}},{key:"get",value:function(e){var t
return this.has(e)&&(t=o(d(l.prototype),"get",this).call(this,e),this.limit&&(this.delete(e),this.set(e,t))),t}},{key:"set",value:function(e,t){return o(d(l.prototype),"set",this).call(this,e,t),this.prune(),this}},{key:"prune",value:function(){for(;this.size>this.limit;)this.delete(this.keys().next().value)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(l.prototype,r),l}(s(Map))
t.default=f}}])
